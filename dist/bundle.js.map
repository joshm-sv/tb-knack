{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://externalization-testing/./js/renders/old_transition/old_knack.js","webpack://externalization-testing/./js/image_uploader/filepondIntegration.js","webpack://externalization-testing/./js/api/KnackJsApi.js","webpack://externalization-testing/./js/image_uploader/imageUploadIntegrationArray.js","webpack://externalization-testing/./js/api/KnackApi.js","webpack://externalization-testing/./js/api/KnackViewApi.js","webpack://externalization-testing/./js/renders/global/scene_render_any.js"],"sourcesContent":["\r\n\r\n/*\r\nSTART Custom Date Filter\r\n*/\r\n\r\nclass DateFilter {\r\n  /**\r\n   * Class constructor\r\n   * @param {Array} filterParams contains an array of {viewName:\"\",dateFieldId:\"\"} objects dateField id is the field key for the date located in viewName\r\n   * @param {string} dateFieldName the name of the field for the date.\r\n   * @param {string} dateRangeDivSelector div selector where we will insert our date filter elements\r\n   * @param {number} insertIndex determines the position of the date filter elements when inserting in dateRangeDivSelector\r\n   */\r\n  constructor(filterParams, dateFieldName, dateRangeDivSelector, insertIndex) {\r\n      this.filterParams = filterParams;\r\n      this.dateFieldName = dateFieldName;\r\n      this.dateRangeDivSelector = dateRangeDivSelector;\r\n      this.dateRangeDivInsertIndex = insertIndex < 1 ? -1 : (insertIndex - 1);\r\n  }\r\n\r\n  /**\r\n   * Initializes our date filter elements. Creates and inserts the date filter elements\r\n   * in this.dateRangeDivSelector\r\n   */\r\n  init() {\r\n      var div = $('<div class=\"level\" style=\"margin-bottom: .7em;\">');\r\n      var form = $('<form class=\"table-date-filter-' + this.dateFieldName + '\">');\r\n      var p = $('<p class=\"control has-addons\">');\r\n      var label = $('<span class=\"input\" style=\"border:0;box-shadow: none;padding-left: 0;\">' + this.dateFieldName + ' Filter:</span>');\r\n      var filterFieldFrom = $(`<input type=\"text\" class=\"input\" id=\"from_datefilter\" placeholder=\"From\">`);\r\n      var filterFieldTo = $(`<input type=\"text\" class=\"input\" id=\"to_datefilter\" placeholder=\"To\">`);\r\n\r\n      var params = this.getFilterParam();\r\n      if (params != null) {\r\n          $(filterFieldFrom).val(params.from);\r\n          $(filterFieldTo).val(params.to);\r\n      }\r\n      var filterBtn = $('<a class=\"kn-button filter\">Apply Filter</a>');\r\n      $(p).append(label);\r\n      $(p).append(filterFieldFrom);\r\n      $(p).append(filterFieldTo);\r\n      $(p).append(filterBtn);\r\n      $(form).append(p);\r\n      $(div).append(form);\r\n\r\n      if (this.dateRangeDivInsertIndex > -1) {\r\n          $(`${this.dateRangeDivSelector}>div:eq(${this.dateRangeDivInsertIndex})`).after(div);\r\n      } else {\r\n          $(this.dateRangeDivSelector).prepend(div);\r\n      }\r\n\r\n      filterFieldFrom.datepicker();\r\n      filterFieldTo.datepicker();\r\n\r\n      filterBtn.click(() => {\r\n          this.doFilter();\r\n      });\r\n\r\n  }\r\n\r\n  /**\r\n   * Converts a string  e.g. 07/30/2019, to a JS Date object.\r\n   * @param {*} dateString the date string to convert to an object\r\n   */\r\n  getDateObject(dateString) {\r\n      let dateArr = dateString.split(\"/\");\r\n      let dateObj = new Date();\r\n      dateObj.setFullYear(dateArr[2], dateArr[0] - 1, dateArr[1]);\r\n      return dateObj;\r\n  }\r\n\r\n  /**\r\n   * Retrieves the from and to date values if the page has already been filtered so that\r\n   * it can be set in the from and to field date fields.\r\n   */\r\n  getFilterParam() {\r\n      var urlParams = window.location.href.split('?');\r\n      var result = {\r\n          from: null,\r\n          to: null\r\n      };\r\n\r\n      if (urlParams.length >= 2) {\r\n          var filterParams = urlParams[1];\r\n          var filterString = decodeURI(filterParams)\r\n              .replace(/%2F/g, '\\/')\r\n              .replace(/%2C/g, ',')\r\n              .replace(/%3A/g, ':');\r\n          var filter = filterString.split('&')[0].split('=')[1];\r\n          var filterObj = JSON.parse(filter);\r\n\r\n          if (filterObj.rules && filterObj.rules.length > 1) {\r\n              result = {};\r\n              for (var i = 0; i < filterObj.rules.length; i++) {\r\n                  var filterRule = filterObj.rules[i];\r\n                  var filterValue = filterRule.value;\r\n                  var dateObj = this.getDateObject(filterValue);\r\n                  if (filterRule.operator == 'is after') { //from date\r\n                      dateObj.setDate(dateObj.getDate() + 1);\r\n                      result.from = (\"0\" + (dateObj.getMonth() + 1)).slice(-2) + \"/\" + (\"0\" + dateObj.getDate()).slice(-2) + \"/\" + dateObj.getFullYear();\r\n                  } else if (filterRule.operator == 'is before') { //to date\r\n                      dateObj.setDate(dateObj.getDate() - 1);\r\n\r\n                      result.to = (\"0\" + (dateObj.getMonth() + 1)).slice(-2) + \"/\" + (\"0\" + dateObj.getDate()).slice(-2) + \"/\" + dateObj.getFullYear();\r\n                  } else {\r\n                      //nani?\r\n                  }\r\n              }\r\n          }\r\n      }\r\n      return result.from == null && result.to == null ? null : result;\r\n  }\r\n\r\n  /**\r\n   * Does the actual filtering by date of the selected view tables.\r\n   */\r\n  doFilter() {\r\n      var fromDate = $(\"#from_datefilter\").val();\r\n      var toDate = $(\"#to_datefilter\").val();\r\n\r\n      if (fromDate.length == 0 || toDate.length == 0) {\r\n          alert(\"From and To dates are required\");\r\n      } else {\r\n          var fromDateObj = this.getDateObject(fromDate);\r\n          var toDateObj = this.getDateObject(toDate);\r\n          if (toDateObj.getTime() < fromDateObj.getTime()) {\r\n              alert(\"To date cannot be less than the From date\");\r\n          } else {\r\n              fromDateObj.setDate(fromDateObj.getDate() - 1);\r\n              toDateObj.setDate(toDateObj.getDate() + 1);\r\n\r\n              var newFromDateString = (\"0\" + (fromDateObj.getMonth() + 1)).slice(-2) + \"/\" + (\"0\" + fromDateObj.getDate()).slice(-2) + \"/\" + fromDateObj.getFullYear();\r\n              var newToDateString = (\"0\" + (toDateObj.getMonth() + 1)).slice(-2) + \"/\" + (\"0\" + toDateObj.getDate()).slice(-2) + \"/\" + toDateObj.getFullYear();\r\n              var filterParamList = [];\r\n\r\n              this.filterParams.forEach(param => {\r\n                  var filter = {\r\n                      \"match\": \"and\",\r\n                      \"rules\": [{\r\n                              \"field\": param.dateFieldId,\r\n                              \"operator\": \"is after\",\r\n                              \"value\": newFromDateString,\r\n                              \"field_name\": this.dateFieldName\r\n                          },\r\n                          {\r\n                              \"match\": \"and\",\r\n                              \"field\": param.dateFieldId,\r\n                              \"operator\": \"is before\",\r\n                              \"value\": newToDateString,\r\n                              \"field_name\": this.dateFieldName\r\n                          }\r\n                      ]\r\n                  };\r\n\r\n                  var filterString = JSON.stringify(filter);\r\n\r\n                  filterString = encodeURI(filterString)\r\n                      .replace(/%22/g, '\"')\r\n                      .replace(/\\//g, '%2F')\r\n                      .replace(/,/g, '%2C')\r\n                      .replace(/:/g, '%3A')\r\n\r\n                  var params = param.viewName + '_filters=' + filterString + '&' + param.viewName + '_page=1';\r\n                  filterParamList.push(params);\r\n              });\r\n\r\n              var currPage = window.location.href.split('?')[0];\r\n              Knack.showSpinner();\r\n              window.location.href = currPage + \"?\" + filterParamList.join(\"&\");\r\n          }\r\n      }\r\n  }\r\n}\r\nwindow.originalKnackShowSpinner = Knack.showSpinner;\r\nwindow.originalKnackHideSpinner = Knack.hideSpinner;\r\n\r\nwindow.showSpinner = function(message) {\r\n  $(\"#kn-loading-spinner\").css(\"text-align\", \"\");\r\n  $(\"#kn-loading-spinner\").removeClass(\"loading-text\");\r\n  $(\"#kn-loading-spinner\").text(\"\");\r\n  window.originalKnackShowSpinner();\r\n\r\n  if (message) {\r\n      $(\"#kn-loading-spinner\").css(\"text-align\", \"center\");\r\n      $(\"#kn-loading-spinner\").addClass(\"loading-text\");\r\n      $(\"#kn-loading-spinner\").text(message);\r\n  }\r\n  if( $('#sv-top-back').length > 0 ){\r\n      $('#sv-top-back').hide();\r\n  }\r\n}\r\n\r\nwindow.hideSpinner = function() {\r\n  $(\"#kn-loading-spinner\").css(\"text-align\", \"\");\r\n  $(\"#kn-loading-spinner\").removeClass(\"loading-text\");\r\n  $(\"#kn-loading-spinner\").text(\"\");\r\n  window.originalKnackHideSpinner();\r\n  if( $('#sv-top-back').length > 0 ){\r\n      $('#sv-top-back').show();\r\n  }\r\n}\r\n\r\nKnack.showSpinner = window.showSpinner;\r\nKnack.hideSpinner = window.hideSpinner;\r\n\r\n//This is used to apply the custom date filter to a single table\r\n\r\n//Services --> Time Clocks --> All Time Clocks - scene_804\r\n$(document).on('knack-view-render.view_3257', function(event, view, data) {\r\n  var dFilter = new DateFilter([{\r\n      'viewName': 'view_3257',\r\n      'dateFieldId': 'field_113'\r\n  }], 'Clock In Date Range', '.kn-records-nav', 2)\r\n  dFilter.init();\r\n});\r\n\r\n//Services --> Time Clocks --> All Time Clocks - scene_804\r\n$(document).on('knack-view-render.view_3275', function(event, view, data) {\r\n  var dFilter = new DateFilter([{\r\n      'viewName': 'view_3275',\r\n      'dateFieldId': 'field_113'\r\n  }], 'Clock In Date Range', '.kn-records-nav', 2)\r\n  dFilter.init();\r\n});\r\n\r\n//Services --> Time Clocks --> All Time Clocks - scene_804\r\n$(document).on('knack-view-render.view_3244', function(event, view, data) {\r\n  var dFilter = new DateFilter([{\r\n      'viewName': 'view_3244',\r\n      'dateFieldId': 'field_113'\r\n  }], 'Clock In Date Range', '.kn-records-nav', 2)\r\n  dFilter.init();\r\n});\r\n\r\n//Services --> Time Clocks --> All Time Clocks - scene_804\r\n$(document).on('knack-view-render.view_3246', function(event, view, data) {\r\n  var dFilter = new DateFilter([{\r\n      'viewName': 'view_3246',\r\n      'dateFieldId': 'field_113'\r\n  }], 'Clock In Date Range', '.kn-records-nav', 2)\r\n  dFilter.init();\r\n});\r\n\r\n//Services --> Time Clocks --> All Time Clocks - scene_804\r\n$(document).on('knack-view-render.view_4586', function(event, view, data) {\r\n  var dFilter = new DateFilter([{\r\n      'viewName': 'view_4586',\r\n      'dateFieldId': 'field_113'\r\n  }], 'Clock In Date Range', '.kn-records-nav', 2)\r\n  dFilter.init();\r\n});\r\n\r\n\r\n/*\r\n//This is used to apply the custom date filter to multiple tables on the same page\r\n$(document).on('knack-scene-render.scene_XXX', function(event, view, data) {\r\nvar filterTableParams = [{\r\n    'viewName':'view_XXX', \r\n    'dateFieldId':'field_XXX'\t\r\n},{\r\n    'viewName':'view_XXX', \r\n    'dateFieldId':'field_XXX'  \r\n},{\r\n    'viewName':'view_XXX', \r\n    'dateFieldId':'field_XXX'\r\n},{\r\n    'viewName':'view_XXX', \r\n    'dateFieldId':'field_XXX'  \r\n}];\r\n\r\nvar dFilter = new DateFilter(filterTableParams, 'Clock In Timestamp', '#kn-scene_XXX', 0)\r\ndFilter.init();\r\n});\r\n\r\n*/\r\n\r\n\r\n\r\n/*\r\nEND CUSTOM DATE FILTER\r\n*/\r\n\r\n\r\n\r\n\r\n//This is the view modification for Butlers - dropdown\r\nconst butlerViews = {\r\n  ['Today\\'s Services']: 'view_68',\r\n  ['Current Time Clocks']: 'view_457',\r\n\r\n}\r\n\r\nfor (let view in butlerViews) {\r\n  $(document).on(`knack-view-render.${butlerViews[view]}`, () => {\r\n      $(`#${butlerViews[view]} .view-header h2`).html(`<i class=\"fa fa-chevron-down\"></i>${view}<i class=\"fa fa-chevron-down\"></i>`);\r\n      $(`#${butlerViews[view]} .view-header`).click(function() {\r\n          $(`#${butlerViews[view]} .kn-table-wrapper`).slideToggle(300, () => {\r\n              if ($(`#${butlerViews[view]} .view-header h2`).html().indexOf('down') > -1)\r\n                  $(`#${butlerViews[view]} .view-header h2`).html(`<i class=\"fa fa-chevron-up\"></i>${view}<i class=\"fa fa-chevron-up\"></i>`);\r\n              else\r\n                  $(`#${butlerViews[view]} .view-header h2`).html(`<i class=\"fa fa-chevron-down\"></i>${view}<i class=\"fa fa-chevron-down\"></i>`);\r\n          });\r\n      });\r\n  });\r\n}\r\n//end Butler view modification\r\n\r\n\r\n\r\n//This hides the clocked in timestamp on the Butler clock in form so that it can still collect information\r\n$(document).on(\"knack-view-render.view_5044\", function(event, view, data) {\r\n  $(\"#kn-input-field_113\").addClass('hideMe');\r\n});\r\n\r\n//This hides the clocked in timestamp on the Full time Butler clock in form so that it can still collect information\r\n$(document).on(\"knack-view-render.view_5199\", function(event, view, data) {\r\n  $(\"#kn-input-field_1176\").addClass('hideMe');\r\n});\r\n\r\n\r\n//This hides the timestamp fields on the Butler compactor-before form so that they can still collect information\r\n$(document).on(\"knack-view-render.view_78\", function(event, view, data) {\r\n  $(\"#kn-input-field_103\").addClass('hideMe');\r\n});\r\n\r\n//This hides the timestamp fields on the Butler compactor-before-inside form so that they can still collect information\r\n$(document).on(\"knack-view-render.view_98\", function(event, view, data) {\r\n  $(\"#kn-input-field_103\").addClass('hideMe');\r\n});\r\n\r\n//This hides the timestamp fields on the Butler compactor-after form so that they can still collect information\r\n$(document).on(\"knack-view-render.view_101\", function(event, view, data) {\r\n  $(\"#kn-input-field_103\").addClass('hideMe');\r\n});\r\n\r\n//This hides the timestamp fields on the Butler compactor-after-inside form so that they can still collect information\r\n$(document).on(\"knack-view-render.view_104\", function(event, view, data) {\r\n  $(\"#kn-input-field_103\").addClass('hideMe');\r\n});\r\n\r\n\r\n//This hides the timestamp fields on the Butler Clock Out form so that they can still collect information\r\n$(document).on(\"knack-view-render.view_5054\", function(event, view, data) {\r\n $(\"#kn-input-field_114\").addClass('hideMe');\r\n});\r\n\r\n\r\n//This hides the clocked in timestamp on the Porter clock in form so that it can still collect information\r\n$(document).on(\"knack-view-render.view_2795\", function(event, view, data) {\r\n  $(\"#kn-input-field_113\").addClass('hideMe');\r\n});\r\n\r\n\r\n//This hides the timestamp fields on the Porter compactor-before form so that they can still collect information\r\n$(document).on(\"knack-view-render.view_2811\", function(event, view, data) {\r\n  $(\"#kn-input-field_103\").addClass('hideMe');\r\n});\r\n\r\n//This hides the timestamp fields on the Porter compactor-before-inside form so that they can still collect information\r\n$(document).on(\"knack-view-render.view_2814\", function(event, view, data) {\r\n  $(\"#kn-input-field_103\").addClass('hideMe');\r\n});\r\n\r\n//This hides the timestamp fields on the Porter compactor-after form so that they can still collect information\r\n$(document).on(\"knack-view-render.view_2817\", function(event, view, data) {\r\n  $(\"#kn-input-field_103\").addClass('hideMe');\r\n});\r\n\r\n//This hides the timestamp fields on the Porter compactor-after-inside form so that they can still collect information\r\n$(document).on(\"knack-view-render.view_2820\", function(event, view, data) {\r\n  $(\"#kn-input-field_103\").addClass('hideMe');\r\n});\r\n\r\n\r\n//This hides the timestamp fields on the Porter Forgot to Return from Lunch Break form so that they can still collect information\r\n$(document).on(\"knack-view-render.view_2807\", function(event, view, data) {\r\n  $(\"#kn-input-field_1034\").addClass('hideMe');\r\n});\r\n\r\n\r\n//This hides the timestamp fields on the Porter Clock Out form so that they can still collect information\r\n$(document).on(\"knack-view-render.view_2798\", function(event, view, data) {\r\n  $(\"#kn-input-field_114\").addClass('hideMe');\r\n});\r\n\r\n//This hides the timestamp fields on the Area Supervisor Dashboard Clock In form so that they can still collect information\r\n$(document).on(\"knack-view-render.view_3181\", function(event, view, data) {\r\n  $(\"#kn-input-field_1176\").addClass('hideMe');\r\n});\r\n\r\n//This hides the timestamp fields on the Area Supervisor \"Time Punches\" Clock In form so that they can still collect information\r\n$(document).on(\"knack-view-render.view_3089\", function(event, view, data) {\r\n  $(\"#kn-input-field_1176\").addClass('hideMe');\r\n});\r\n\r\n//This hides the timestamp fields on the Area Supervisor Clock Out form so that they can still collect information\r\n$(document).on(\"knack-view-render.view_3090\", function(event, view, data) {\r\n  $(\"#kn-input-field_1177\").addClass('hideMe');\r\n});\r\n\r\n//This hides the timestamp fields on the Area Supervisor Clock Out form so that they can still collect information\r\n$(document).on(\"knack-view-render.view_3088\", function(event, view, data) {\r\n  $(\"#kn-input-field_1177\").addClass('hideMe');\r\n});\r\n\r\n\r\n//This hides the timestamp fields on the Butler - Testing Clock In form so that they can still collect information\r\n$(document).on(\"knack-view-render.view_3192\", function(event, view, data) {\r\n  $(\"#kn-input-field_113\").addClass('hideMe');\r\n});\r\n\r\n//This hides the timestamp fields on the Butler - Testing Compactor Before form so that they can still collect information\r\n$(document).on(\"knack-view-render.view_3196\", function(event, view, data) {\r\n  $(\"#kn-input-field_103\").addClass('hideMe');\r\n});\r\n\r\n//This hides the timestamp fields on the Butler - Testing Compactor Before Inside form so that they can still collect information\r\n$(document).on(\"knack-view-render.view_3200\", function(event, view, data) {\r\n  $(\"#kn-input-field_103\").addClass('hideMe');\r\n});\r\n\r\n//This hides the timestamp fields on the Butler - Testing Compactor After form so that they can still collect information\r\n$(document).on(\"knack-view-render.view_3227\", function(event, view, data) {\r\n  $(\"#kn-input-field_103\").addClass('hideMe');\r\n});\r\n\r\n//This hides the timestamp fields on the Butler - Testing Compactor After Inside form so that they can still collect information\r\n$(document).on(\"knack-view-render.view_3231\", function(event, view, data) {\r\n  $(\"#kn-input-field_103\").addClass('hideMe');\r\n});\r\n\r\n//SMS\r\n$(document).on('knack-record-create.view_1628', function(event, view, record) {\r\n  var smsListId = record.field_697_raw[0].id;\r\n  var message = record.field_698;\r\n\r\n  knackApi.findById(knackApi.OBJECT.COMM_SMS_LIST, smsListId).then((result) => {\r\n      //send the message to the linked number of smsListId\r\n      var number = result.field_692_raw.formatted;\r\n      $.ajax({\r\n          type: \"POST\",\r\n          url: \"https://server.chhjny.com:3003/send\",\r\n          data: JSON.stringify({\r\n              to: number,\r\n              message: message\r\n          }),\r\n          contentType: \"application/json\"\r\n      });\r\n  });\r\n});\r\n\r\n\r\n//SMS Bulk\r\n$(document).on('knack-record-create.view_1742', function(event, view, record) {\r\n  var communityId = record.field_715_raw[0].id;\r\n  var message = record.field_714;\r\n  var filter = {\r\n      'match': 'and',\r\n      'rules': [{\r\n          'field': 'field_711',\r\n          'operator': 'is',\r\n          'value': communityId\r\n      }]\r\n  };\r\n  Knack.showSpinner();\r\n  knackApi.find(knackApi.OBJECT.BULK_SMS_LIST, filter).then((result) => {\r\n      if (result.total_records > 0) {\r\n          var numbers = [];\r\n          result.records.forEach((record) => {\r\n              numbers.push(record.field_710_raw.formatted);\r\n          });\r\n\r\n          $.ajax({\r\n              type: \"POST\",\r\n              url: \"https://server.chhjny.com:3003/send_multiple\",\r\n              data: JSON.stringify({\r\n                  number_csv: numbers.join(\",\"),\r\n                  message: message\r\n              }),\r\n              contentType: \"application/json\"\r\n          });\r\n      } else {\r\n          alert(\"No sms list item found with the selected community\");\r\n          knackApi.delete(\"object_41\", record.id); //delete the message\r\n      }\r\n      Knack.hideSpinner();\r\n  });\r\n});\r\n\r\n//SMS CSS Phone like thread display\r\nfunction responsiveChat(element) {\r\n  $(element).html('<form class=\"chat\"><span></span><div class=\"messages\"></div></form>');\r\n\r\n  function showLatestMessage() {\r\n      $(element).find('.messages').scrollTop($(element).find('.messages').height());\r\n  }\r\n\r\n  showLatestMessage();\r\n}\r\n\r\nfunction responsiveChatPush(element, sender, origin, date, message) {\r\n  var originClass;\r\n  if (origin == 'me') {\r\n      originClass = 'myMessage';\r\n  } else {\r\n      originClass = 'fromThem';\r\n  }\r\n  $(element + ' .messages').append('<div class=\"message\"><div class=\"' + originClass + '\"><p>' + message + '</p><date><b>' + sender + '</b> ' + date + '</date></div></div>');\r\n  $(element).scrollTop($(element)[0].scrollHeight);\r\n}\r\n\r\nvar interval_view_1627 = null;\r\nvar scheduleModelFetchTimeout_view_1627 = null;\r\nvar chatScroll_view_1627 = -1;\r\nvar prevDataLength_view_1627 = 0;\r\n\r\n$(document).on('knack-view-render.view_1627', function(event, view, data) {\r\n  $(\"#view_1627 div.kn-table-wrapper\").html('')\r\n  $(\"#view_1627 div.kn-records-nav\").remove();\r\n\r\n  /* Activating chatbox on element */\r\n  responsiveChat('#view_1627 div.kn-table-wrapper');\r\n  data.forEach((message) => {\r\n      var messageClass = message.field_700 == 'TB Response' ? \"me\" : \"you\";\r\n      var name = message.field_700 == 'TB Response' ? message.field_702_raw[0].identifier : \"Customer\";\r\n      responsiveChatPush('.chat', name, messageClass, message.field_703, message.field_698);\r\n  });\r\n\r\n\r\n  //retain the scroll position of the chat box\r\n  if (chatScroll_view_1627 > -1 && prevDataLength_view_1627 == data.length) {\r\n      $(\".chat\").scrollTop(chatScroll_view_1627);\r\n  }\r\n\r\n  prevDataLength_view_1627 = data.length;\r\n\r\n  //make sure that the poll function has not been started yet\r\n  //and also there is no scheduled event to start the poll function\r\n  if (interval_view_1627 == null && scheduleModelFetchTimeout_view_1627 == null) {\r\n      interval_view_1627 = setInterval(function() {\r\n          Knack.views.view_1627.model.fetch();\r\n      }, 1000);\r\n  }\r\n\r\n  //when scrolling for that sms messages, stop the polling of new messages for smooth scrolling\r\n  //resume only after the scroll stopped and 500ms has passed.\r\n  $(\".chat\").off().on(\"scroll\", function() {\r\n      chatScroll_view_1627 = $(\".chat\").scrollTop();\r\n      clearInterval(interval_view_1627);\r\n      interval_view_1627 = null;\r\n      if (scheduleModelFetchTimeout_view_1627 != null) {\r\n          clearTimeout(scheduleModelFetchTimeout_view_1627);\r\n      }\r\n\r\n      scheduleModelFetchTimeout_view_1627 = setTimeout(function() {\r\n          interval_view_1627 = setInterval(function() {\r\n              Knack.views.view_1627.model.fetch();\r\n          }, 1000);\r\n      }, 500);\r\n  });\r\n});\r\n\r\n//when butler sends message, append to message thread view_1628\r\n$(document).on('knack-record-create.view_1628', function(event, view, record) {\r\n  responsiveChatPush('.chat', record.field_702_raw[0].identifier, \"me\", record.field_703, record.field_698);\r\n});\r\n\r\n//accordion stuff\r\n$.fn.toAccordion = function() {\r\n  var generateAccordionRow = function(rowData, index, view_id) {\r\n      var hasContent = rowData.content.length > 0;\r\n      var mainDiv = $(\"<div> </div>\");\r\n      var checked = index == 0 ? \"checked='true'\" : \"\";\r\n      var disableClick = hasContent ? \"\" : \"disabled\";\r\n      var clickControl = $(`<input id='faq-${view_id}-${index}' name='faq-${view_id}' type='radio' ${disableClick}>`);\r\n      var header = $(`<label for='faq-${view_id}-${index}'>${rowData.header}</label>`);\r\n\r\n      mainDiv.append(clickControl);\r\n      mainDiv.append(header);\r\n\r\n      if (hasContent) {\r\n          var contentContainer = $('<article class=\"ac-small\"> </article>');\r\n          var content = $(`<p>${rowData.content}</p>`);\r\n          contentContainer.append(content);\r\n          mainDiv.append(contentContainer);\r\n      }\r\n\r\n      return mainDiv;\r\n  };\r\n\r\n  //this is the view object\r\n  var view_id = $(this).attr(\"id\");\r\n  var faqAccContainer = $('<section class=\"ac-container\"></section>');\r\n  $(this).find(\"table.kn-table\").parent().css(\"display\", \"none\");\r\n  $(this).find(\"table.kn-table tbody tr\").each((idx, tr) => {\r\n      var faqAccordionData = {\r\n          header: '',\r\n          content: ''\r\n      };\r\n\r\n      if ($(tr).hasClass('kn-tr-nodata')) {\r\n          faqAccordionData.header = 'No Data';\r\n      } else {\r\n          $(tr).find(\"td\").each((i, td) => {\r\n              var text = $.trim($(td).text());\r\n              if (i == 0) { //header\r\n                  faqAccordionData.header = text;\r\n              } else { //content\r\n                  faqAccordionData.content = text;\r\n              }\r\n          });\r\n      }\r\n\r\n      var accordionData = generateAccordionRow(faqAccordionData, idx, view_id);\r\n      faqAccContainer.append(accordionData);\r\n  });\r\n  $(this).append(faqAccContainer);\r\n  return this;\r\n};\r\n\r\n//The tables listed in this view array should:\r\n// - only have 2 columns, first column will be displayed has the header, and the second is the content of the accordion\r\n// - should not display any other element besides the table, so no pagination, filter, search.\r\nvar tablesToAccordionViews = ['view_2246', 'view_2245', 'view_2244', 'view_2243', 'view_2242', 'view_2241', 'view_2240'];\r\n\r\ntablesToAccordionViews.forEach((view_id, idx) => {\r\n  $(document).on(`knack-view-render.${view_id}`, function(event, view, data) {\r\n      $(`#${view_id}`).toAccordion();\r\n  });\r\n});\r\n\r\n//Listener for the Training Group assignment\r\n$(document).on('knack-record-create.view_2788', function(event, view, record) {\r\n  Knack.showSpinner();\r\n  $.ajax({\r\n      url: 'https://knackhelper.azurewebsites.net/api/trainingGroupAssignment?code=QqMNtQyUkFQ1y/a0zqkZauduJE6N/my8FVCS2tUz/UmKMI/SaYTUrg==&&name=John',\r\n      type: 'POST',\r\n      data: JSON.stringify(record),\r\n      success: function(response) {\r\n          alert('API Called.');\r\n      }\r\n  });\r\n  alert(\"Submitted!\");\r\n});\r\n\r\n\r\n//Community Concierge Section\r\n//May 2021\r\n\r\nvar loggedInState = { 'clocked_in': undefined, 'clockedTime' : '', 'clockedDate' : ''};\r\nvar currentEstDT = new Date();\r\nvar currentDate = currentEstDT.toLocaleDateString('en-US', { month: '2-digit', day: '2-digit', year: 'numeric', timeZone: 'America/New_York' });\r\ncurrentEstDT = currentEstDT.toLocaleString('en-US', {timeZone: 'America/New_York'}).replace(\",\",\"\");\r\ncurrentEstDT = new Date(currentEstDT);\r\nvar endServiceDate = new Date(currentDate+\" 6:00:00 AM\");\r\nvar timeDiff = endServiceDate - currentEstDT;\r\nfunction prevServiceDate(){\r\n  var d = new Date(currentServiceDate());\r\n  d.setDate( d.getDate() - 1 );\r\n  return d.toLocaleDateString('en-US', { month: '2-digit', day: '2-digit', year: 'numeric' })\r\n}\r\n\r\nfunction currentServiceDate(){\r\nif(0 > timeDiff) { return currentDate}\r\n  else {\r\n    var d = new Date(currentDate);\r\n  d.setDate( d.getDate() - 1 );\r\n      return d.toLocaleDateString('en-US', { month: '2-digit', day: '2-digit', year: 'numeric' })\r\n  }\r\n}\r\n\r\n//Log in Add Css if ID exist\r\nfunction addStyleSheet(){\r\nif ($('#community_concierge_theme').length == 0) {\r\n      $('head').append('<link rel=\"stylesheet\" type=\"text/css\" id=\"community_concierge_theme\" class=\"lazyload\" href=\"https://strategic-visionz.github.io/knack-css/scss/Community%20Manager%20Theme.min.css\">')\r\n      $('head').append(`<script>\r\n  (function(h,o,t,j,a,r){\r\n      h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};\r\n      h._hjSettings={hjid:2773425,hjsv:6};\r\n      a=o.getElementsByTagName('head')[0];\r\n      r=o.createElement('script');r.async=1;\r\n      r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;\r\n      a.appendChild(r);\r\n  })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');\r\n</script>`)\r\n  }\r\n}\r\n//Login\r\n$(document).on(\"knack-view-render.view_3363\", function(event, view, data) {\r\n  addStyleSheet();\r\n  if ($('#sv-top-back').length > 0) {\r\n      $(\"#sv-top-back\").remove();\r\n  }\r\n});\r\n\r\n//view_3369 This will add the css for the CM Concierge - My Communities\r\n$(document).on(\"knack-view-render.view_3370\", function(event, view, data) {\r\n  $('.updates-from-tb-details').hide();\r\n  addStyleSheet();\r\n  // console.log(data);\r\n  try {\r\n      if(data.length > 0){\r\n          $('.field_1403').hide(); //Hide the Update From TB Team field\r\n        if(data[0].field_1403 != \"\"){\r\n          var updataText = data[0].field_1403;\r\n          var updateLength = 100;\r\n          var trimmedUpdate = updataText.substring(0, updateLength);\r\n          // var stickyNotifFromTB = `<div class=\"sv-tooltip\" id=\"notif_from_tb\"><p><strong>UPDATE FROM THE TRASH BUTLER TEAM:</strong> ${trimmedUpdate}...<a id=\"view_TBupdate_btn0\" style=\"font-style: italic; font-size: 15px;\">(Click here to read more)</a></p></div>`;\r\n          //$('#view_3370').append(stickyNotifFromTB);\r\n          if(data[0].field_1403){$('#view_TBupdate_btn0').on('click', function(){ window.location.href = $(location).attr('href') +'updates-from-trash-butler-team/'+data[0].id })}\r\n          }\r\n          \r\n          var filterPrev = [{\r\n            \"field\":\"field_46\",\r\n            \"operator\":\"is\",\r\n            'value': prevServiceDate()\r\n          }]\r\n          \r\n          $(\".kn-list-item-container\").addClass(\"pointer\");\r\n          $(\"#view_3370 section\").click(function() {\r\n              //var redirectTo = $(this).find(\"a\").attr(\"href\") + '?view_3397_filters=' + encodeURIComponent(JSON.stringify(filterPrev));\r\n              window.location = $(this).find(\"a\").attr(\"href\");\r\n              //window.location = redirectTo;\r\n              $('')\r\n              return false;\r\n          });\r\n          if ($('#sv-top-back').length > 0) {\r\n          $(\"#sv-top-back\").remove();\r\n          }\r\n          //This add the text for the SERVICE TODAY -> Time info\r\n          $('.kn-detail.field_141').addClass('hideMe');\r\n          var i;\r\n          for (i = 0; i < data.length; i++) {\r\n              if (data[i].field_141 == \"Yes\") {\r\n                  $($('.field_44')[i]).html('Service Today At ' + data[i].field_44);\r\n              } else {\r\n                  $($('.field_44')[i]).html('No Service Today');\r\n              }\r\n          }\r\n          function findHref(){\r\n              // console.log(\"findHref\")\r\n              window.location = $(this).find(\"a\").attr(\"href\");\r\n              return false;\r\n          }\r\n      }\r\n    }\r\n    catch(err) {\r\n        console.log(\"view_3370\", err)\r\n    }\r\n});\r\n\r\nfunction appendCustomMenuBottom() {\r\n  $($('.show-breadcrumbs')[0]).remove()\r\n  if ($('#community_concierge_theme').length == 0) {\r\n      $('head').append('<link rel=\"stylesheet\" type=\"text/css\" id=\"community_concierge_theme\" class=\"lazyload\" href=\"https://strategic-visionz.github.io/knack-css/scss/Community%20Manager%20Theme.min.css\">')\r\n  }\r\n  let customMenu = $('#custom_menu_id');\r\n\r\n  var myComIcon = `<i class=\"fa fa-building\"></i>`;\r\n  var logOutIcon = `<i class=\"fa fa-sign-out\"></i>`;\r\n\r\n  $('#kn-mobile-menu').append(customMenu);\r\n  var customMenuBottom = $(`\r\n      <ul class=\"sv-bottom-menu\" style=\"list-style-type: none;\">\r\n        <li><a href=\"https://apps.sv.knack.com/trashdash#community-concierge\">  ${myComIcon} <span class=\"custom-menu-text\"> My Communities </span></a></li>\r\n        <li><a href=\"#\" class=\"kn-log-out\">${logOutIcon} <span class=\"custom-menu-text\"> Log Out</a> </span></li></ul>\r\n    </ul>`);\r\n  var checkIfExist = document.getElementsByClassName('sv-bottom-menu');\r\n  if (checkIfExist.length == 0) {\r\n      $('#kn-mobile-menu').append(customMenuBottom);\r\n  }\r\n\r\n}\r\n//This will click the service Id btn on the hidden list (View And Rate Last night Service)\r\n$(document).on(\"knack-view-render.view_3397\", function(event, view, data) {\r\n  // console.log(\"view_3397 is loaded\", data);\r\n  $('#view_3397').hide();\r\n  //this will hide the rate last night btn if there no exising service last night;\r\n  //june 28 update, change the condition to hide if the LAST Service is Rated\r\n  if(data.length > 0){\r\n    if(data[0].field_1464 == \"Yes\"){\r\n        //$('#view_last_night_service_btn').addClass(\"hideMe\");\r\n        $('#view_last_night_service_btn').append(`&nbsp;&nbsp;&nbsp;<i style=\"margin-top: 5px;\" class=\"fa fa-check-circle\"></i>`);\r\n        data[0].field_1552.includes('up') ? $('#view_last_night_service_btn').addClass('rated-icon-green') : $('#view_last_night_service_btn').removeClass('rated-icon-green') \r\n    }\r\n\r\n    $('#view_last_night_service_btn').on('click', function() {\r\n        //$('#last_night_service_id').click();\r\n       $('#review_service_po').click();\r\n    });\r\n  }\r\n  else{\r\n      $('#view_last_night_service_btn').hide();\r\n      $($('#sv_view_service_history').parents()[4]).show()\r\n  }\r\n});\r\n\r\nfunction showHideMenuText() {\r\n  if ($(\".minimizedMenu\")[0]) {\r\n      $('.custom-menu-text').addClass('hideMe');\r\n      $('#custom_menu_id li').addClass('bigger-icon');\r\n      $('.sv-bottom-menu').addClass('bigger-icon');\r\n      $('#custom_menu_id').addClass('adjust-margin-top-60px');\r\n\r\n  } else {\r\n      $('.custom-menu-text').removeClass('hideMe');\r\n      $('#custom_menu_id li').removeClass('bigger-icon');\r\n      $('.sv-bottom-menu').removeClass('bigger-icon');\r\n      $('#custom_menu_id').removeClass('adjust-margin-top-60px');\r\n  }\r\n}\r\n\r\nfunction appendCustomMenuMain() {\r\n  //Menu Icon\r\n  var dashboard = `<i class=\"fa fa-th-large\"></i>`;\r\n  var serviceHistory = `<i class=\"fa fa-history \"></i>`;\r\n  var infractions = `<i class=\"fa fa-info-circle\"></i>`;\r\n  var units = `<i class=\"fa fa-tachometer\"></i>`;\r\n  var hazards = `<i class=\"fa fa-life-ring\"></i>`;\r\n  var supportTicket = `<i class=\"fa fa-inbox\"></i>`;\r\n  var billing = `<i class=\"fa fa-list-alt\"></i>`;\r\n  var profile = `<i class=\"fa fa-user\"></i>`;\r\n  //\r\n  var radarLog = `<i class=\"fa fa-camera\"></i>`;\r\n  var comLog = `<i class=\"fa fa-building-o\"></i>`;\r\n  var userVidGuides = `<i class=\"fa fa-book\"></i>`;\r\n\r\n\r\n  var customMenu = $(`\r\n      <ul id=\"custom_menu_id\" style=\"list-style-type:none; display:none;\">\r\n        <li id=\"com_dashboard\"><a class=\"sv-cm-navbar\" >${dashboard} <span class=\"custom-menu-text\"> Dashboard</span></a></li>\r\n        <li id=\"com_service_history\"><a class=\"sv-cm-navbar\" >${serviceHistory} <span class=\"custom-menu-text\"> Service History</span></a></li>\r\n        <li id=\"com_infractions\"><a class=\"sv-cm-navbar\" >${infractions} <span class=\"custom-menu-text\"> Infractions</span></a></li>\r\n        \r\n        <li id=\"com_hazards\"><a class=\"sv-cm-navbar\" >${hazards}<span class=\"custom-menu-text\"> Service Hazards</span></a></li>\r\n        <li id=\"com_support_tickets\"><a class=\"sv-cm-navbar\" >${supportTicket} <span class=\"custom-menu-text\"> Support Tickets</span></a></li>\r\n    <li id=\"com_radar\"><a class=\"sv-cm-navbar\" >${units}</i> <span class=\"custom-menu-text\"> Community Units</span></a></li>\r\n    <li id=\"com_radarLogs\"><a class=\"sv-cm-navbar\" >${radarLog} <span class=\"custom-menu-text\"> RADAR Logs</span></a></li>\r\n        <li id=\"com_account_billing\" style=\"display: none;\"><a class=\"sv-cm-navbar\" >${billing} <span class=\"custom-menu-text\"> Account/Billing</span></a></li>\r\n        <li id=\"com_profile\"><a class=\"sv-cm-navbar\" >${profile} <span class=\"custom-menu-text\"> Community Profile</span></a></li>\r\n        <li id=\"user_guide\"><a class=\"sv-cm-navbar\" >${userVidGuides} <span class=\"custom-menu-text\"> Video Training</span></a></li>\r\n\r\n        \r\n        <li id=\"com_comLogs\" style=\"display: none;\"><a class=\"sv-cm-navbar\" >${comLog} <span class=\"custom-menu-text\"> Community Logs</span></a></li>\r\n    </ul>`\r\n      //HIDDEN\r\n      //Com log\r\n      //Account Billing\r\n  );\r\n\r\n  if ($('#custom_menu_id').length == 0) {\r\n      $('#kn-mobile-menu').append(customMenu);\r\n  }\r\n  $($('.kn-mobile-controls')[0]).on('click', function() {\r\n      showHideMenuText();\r\n  })\r\n\r\n  //var backButtonTop = `<div id=\"sv-top-back\" class=\"kn-view kn-back-link sv-top-back\"><a class=\"ang-link\">Back to Community Dashboard</a></div>`;\r\n  //if($('.sv-top-back').length == 0 ) {$('#knack-dist_1').append(backButtonTop);}\r\n  //if($('#kn-scene_1255').length > 0){ $('#sv-top-back').remove(); }\r\n  if ($('.kn-back-link').length == 1) {\r\n      let goBackTop = $('.kn-back-link').clone().attr(\"id\", \"sv-top-back\").appendTo(\"#knack-dist_1\");\r\n      let origLink = $($('.kn-back-link a')[0]).attr('href');\r\n\r\n      var timeout = setTimeout(function() {\r\n          let orig = $($('.kn-back-link a')[0]).attr('href');\r\n          $(\"#sv-top-back a\").attr(\"href\", origLink).addClass(\"sv-top-back\");\r\n          clearTimeout(timeout);\r\n      }, 1000);\r\n  } else {\r\n      let origLink = $($('.kn-back-link a')[0]).attr('href');\r\n      let origText = $($('.kn-back-link a')[0])[0].innerHTML;\r\n\r\n      var timeout = setTimeout(function() {\r\n          let orig = $($('.kn-back-link a')[0]).attr('href');\r\n          $(\"#sv-top-back a\").attr(\"href\", origLink).addClass(\"sv-top-back\");\r\n          $(\"#sv-top-back a\").html(origText)\r\n          clearTimeout(timeout);\r\n      }, 200);\r\n  }\r\n\r\n  //Add the new section if dev\r\n  // var currentLoc = window.location.href\r\n  // // var userProfKeys = Knack.session.user.profile_keys;\r\n  // // if(userProfKeys.includes('profile_34')){\r\n  //     var guideVidSection = `<li id=\"user_guide\"><a href=\"${currentLoc}video-user-guides2\" class=\"sv-cm-navbar\" >${userVidGuides} <span class=\"custom-menu-text\"> User Guides</span></a></li>`\r\n  //     $('#kn-mobile-menu ul').append(guideVidSection);\r\n  // // }\r\n\r\n}\r\n//add href to the navbar\r\nfunction addLinkToCommunityDashboard(cid) {\r\n  appendCustomMenuBottom();\r\n  $('.field_1629').hide();\r\n  //Show Account Billing Menu if Account Billing Date Created is not empty;\r\n  // if (data.field_1629) {\r\n  //     //$('#com_account_billing').css('display', 'block');\r\n  // }\r\n\r\n  let varId = cid;\r\n  $('#com_dashboard a').attr(\"href\", \"https://apps.sv.knack.com/trashdash#community-concierge/community-dashboard/\" + varId);\r\n  $('#com_service_history a').attr(\"href\", \"https://apps.sv.knack.com/trashdash#community-concierge/community-dashboard/\" + varId + \"/community-service-history/\" + varId);\r\n  $('#com_infractions a').attr(\"href\", \"https://apps.sv.knack.com/trashdash#community-concierge/community-dashboard/\" + varId + \"/infractions/\" + varId);\r\n  $('#com_radar a').attr(\"href\", \"https://apps.sv.knack.com/trashdash#community-concierge/community-dashboard/\" + varId + \"/radar-and-units/\" + varId);\r\n  $('#com_hazards a').attr(\"href\", \"https://apps.sv.knack.com/trashdash#community-concierge/community-dashboard/\" + varId + \"/service-hazards/\" + varId);\r\n  $('#com_support_tickets a').attr(\"href\", \"https://apps.sv.knack.com/trashdash#community-concierge/community-dashboard/\" + varId + \"/community-support-tickets/\" + varId);\r\n  $('#com_account_billing a').attr(\"href\", \"https://apps.sv.knack.com/trashdash#community-concierge/community-dashboard/\" + varId + \"/account-billing/\" + varId);\r\n  $('#com_profile a').attr(\"href\", \"https://apps.sv.knack.com/trashdash#community-concierge/community-dashboard/\" + varId + \"/my-community-profile/\" + varId);\r\n  //\r\n  $('#com_radarLogs a').attr(\"href\", \"https://apps.sv.knack.com/trashdash#community-concierge/community-dashboard/\" + varId + \"/radar-logs/\" + varId);\r\n  $('#com_comLogs a').attr(\"href\", \"https://apps.sv.knack.com/trashdash#community-concierge/community-dashboard/\" + varId + \"/community-logs/\" + varId);\r\n  //back_to_dashboard\r\n  $('#sv-top-back a').attr(\"href\", \"https://apps.sv.knack.com/trashdash#community-concierge/community-dashboard/\" + varId);\r\n  $('#user_guide a').attr(\"href\", \"https://apps.sv.knack.com/trashdash#community-concierge/community-dashboard/\" + varId + \"/cc-training-v2/\" + varId);\r\n  //$('#custom_menu_id').css({\"display\": \"block\"});\r\n  var timeout = setTimeout(function() {\r\n      document.getElementById('custom_menu_id').style.display = 'block';\r\n      clearTimeout(timeout);\r\n  }, 1000);\r\n\r\n  // localStorage.currentCommunity = varId;\r\n  // console.log(localStorage.currentCommunity)\r\n}\r\n//SIDE BAR\r\n//DASHBOARD\r\n$(document).on(\"knack-view-render.view_3374\", function(event, view, data) {\r\n  // console.log(data);\r\n  appendCustomMenuMain();\r\n  addLinkToCommunityDashboard(data.id);\r\n  //$('#view_3374 #on_radar_num').hide();\r\n  $('#com_dashboard').addClass('sv-active');\r\n\r\n  $('.field_958').hide();\r\n  $('.field_1144').hide();\r\n  $('.field_1292').hide();\r\n  var userIcon = `<i class=\"fa fa-user\"></i> `;\r\n  var phoneIcon = `<i class=\"fa fa-phone\"></i>`;\r\n  var emailIcon = `<i class=\"fa fa-inbox\"></i>`;\r\n\r\n  var crmName = `<p>${userIcon}<span>${data.field_958}<span></p>`;\r\n  var crmPhone = `<p>${phoneIcon}<span>${data.field_1292}<span></p>`;\r\n  var crmEmail = `<p>${emailIcon}<span>${data.field_1144}<span></p>`;\r\n\r\n  if (data.field_958) {\r\n      $('#crm_name').html(crmName);\r\n  } else {\r\n      $('#crm_name').html(\"\");\r\n  }\r\n  if (data.field_1292) {\r\n      $('#crm_phone').html(crmPhone);\r\n  } else {\r\n      $('#crm_phone').html(\"\");\r\n  }\r\n  if (data.field_1144) {\r\n      $('#crm_email').html(crmEmail);\r\n  } else {\r\n      $('#crm_email').html(\"\");\r\n  }\r\n  $('#sv_survey_link').on('click', function(){\r\n      $('#click_survey_id').click();\r\n  })\r\n  $('#view_3374 .field_2066').hide(); $('#view_3374 .field_2067').hide(); $('#view_3374 .field_2068').hide();\r\n  $('#view_3374 .field_578').hide(); $('#view_3374 .field_533').hide(); $('#view_3374 .field_534').hide(); \r\n\r\n  var contactInfo = `<div class=\"primary-service-contact\"><span class=\"sv-contact-info-title\">Primary Service Contact</span>\r\n  <p class=\"sv-cntct-info\">${data.field_2066}</p>\r\n  <p class=\"sv-cntct-info\">${data.field_2067}</p>\r\n  <p class=\"sv-cntct-info\">${data.field_2068}</p>\r\n  </div>\r\n  <div class=\"escalation-contact\"><span class=\"sv-contact-info-title\">Escalation Contact</span>\r\n  <p class=\"sv-cntct-info\">${data.field_578}</p>\r\n  <p class=\"sv-cntct-info\">${data.field_533}</p>\r\n  <p class=\"sv-cntct-info\">${data.field_534}</p>\r\n  </div>\r\n  `\r\n  $('#cntct_info_').append(contactInfo)\r\n});\r\n\r\n//view_3749\r\n$(document).on(\"knack-view-render.view_3749\", function(event, view, data) {\r\n  // console.log(data.field_1647, \"RADAR FIELD\");\r\n  //Units On Radar Dashboard\r\n  $('.field_1647').hide(); //On Radar Number\r\n  var radarIcon = `<i class=\"fa fa-camera\"></i>`;\r\n  var noRadarText = `${radarIcon} <span>No Unit On RADAR</span>`;\r\n\r\n  if (data.field_1647 == 0) {\r\n      //$('#on_radar_num').innerHTML(noRadarText);\r\n      document.getElementById(\"on_radar_num\").innerHTML = noRadarText;\r\n      // console.log(\"NO RADAR\")\r\n\r\n  } else {\r\n      $('#on_radar_num').html(`${radarIcon} <span> ${data.field_1647} Units On RADAR</span>`)\r\n  }\r\n  //End Units On Radar Dashboard\r\n});\r\n\r\nvar setNumberOfRadar =  $(document).on(\"knack-view-render.view_3670\", function(event, view, data) {\r\n  // console.log(data.field_1647);\r\n  //Units On Radar Dashboard\r\n  $('.field_1647').hide(); //On Radar Number\r\n  var radarIcon = `<i class=\"fa fa-camera\"></i>`;\r\n\r\n  var noRadarText = `${radarIcon} <span>No Unit On RADAR</span>`;\r\n  var withRadarText = `${radarIcon} <span> ${data.field_1647} Units On RADAR</span>`;\r\n\r\n  if (data.field_1647 == 0) {\r\n      //$('#on_radar_num').innerHTML(noRadarText);\r\n      document.getElementById(\"on_radar_num\").innerHTML = noRadarText;\r\n      // console.log(\"NO RADAR\")\r\n\r\n  } else {\r\n      //$('#on_radar_num').html(withRadarText);\r\n      document.getElementById(\"on_radar_num\").innerHTML = withRadarText;\r\n  }\r\n  //End Units On Radar Dashboard\r\n});\r\n\r\n// $(document).on(\"knack-view-render.view_3458\", function(event, view, data) {\r\n//     appendCustomMenuMain();\r\n//     addLinkToCommunityDashboard(data.id);\r\n//     $('#com_service_history').addClass('sv-active');\r\n// });\r\n\r\n// var fromEmailOn = false;\r\n// // view_4260 Address Service Hazards\r\n// $(document).on(\"knack-view-render.view_4260\", function(event, view, data) {\r\n//     // console.log(data)\r\n//     var comID = data.field_1500_raw[0].id\r\n//     appendCustomMenuMain();\r\n//     addLinkToCommunityDashboard( comID );\r\n//     $('#com_hazards').addClass('sv-active');\r\n//     if(!fromEmailOn && Knack.hash_parts[2] == 'addressed-service-hazards'){\r\n//       // console.log(fromEmailOn, \"fromEmailOn\")\r\n//       window.location.href = `${Knack.url_base}#community-concierge/community-dashboard/${comID}/?hazard_id=${data.id}`;\r\n//       fromEmailOn = true;\r\n//     }\r\n// });\r\n\r\n//Infractions view_3561\r\n$(document).on(\"knack-view-render.view_3561\", function(event, view, data) {\r\n  appendCustomMenuMain();\r\n  addLinkToCommunityDashboard(data.id);\r\n  $('#com_infractions').addClass('sv-active');\r\n});\r\n//Radar and Units view_3465\r\n$(document).on(\"knack-view-render.view_3465\", function(event, view, data) {\r\n  appendCustomMenuMain();\r\n  addLinkToCommunityDashboard(data.id);\r\n  $('#com_radar').addClass('sv-active');\r\n\r\n  if (data.field_1647 === 0) {\r\n      $('#view_3465 #field_1647 span').style.display = \"none\";\r\n  }\r\n});\r\n//view_3560 Service Hazards\r\n$(document).on(\"knack-view-render.view_3560\", function(event, view, data) {\r\n  appendCustomMenuMain();\r\n  addLinkToCommunityDashboard(data.id);\r\n  $('#com_hazards').addClass('sv-active');\r\n});\r\n\r\n//Service Hazards view_3463 UNSURE\r\n$(document).on(\"knack-view-render.view_3463\", function(event, view, data) {\r\n  appendCustomMenuMain();\r\n  addLinkToCommunityDashboard(data.id);\r\n\r\n\r\n});\r\n//Support Ticket view_3468\r\n$(document).on(\"knack-view-render.view_3468\", function(event, view, data) {\r\n  appendCustomMenuMain();\r\n  addLinkToCommunityDashboard(data.id);\r\n  //com_support_tickets\r\n  $('#com_support_tickets').addClass('sv-active');\r\n});\r\n//Account Billing view_3470\r\n$(document).on(\"knack-view-render.view_3470\", function(event, view, data) {\r\n  appendCustomMenuMain();\r\n  addLinkToCommunityDashboard(data.id);\r\n  $('#com_account_billing').addClass('sv-active');\r\n});\r\n//Profile view_3472 ? UNSURE\r\n$(document).on(\"knack-view-render.view_3472\", function(event, view, data) {\r\n  appendCustomMenuMain();\r\n  addLinkToCommunityDashboard(data.id);\r\n  $('#com_profile').addClass('sv-active');\r\n});\r\n//view_3551 Community Profile\r\n$(document).on(\"knack-view-render.view_3551\", function(event, view, data) {\r\n  appendCustomMenuMain();\r\n  addLinkToCommunityDashboard(data.id);\r\n  $('#com_profile').addClass('sv-active');\r\n  //console.log(testGetId);\r\n});\r\n//view_3477\r\n$(document).on(\"knack-view-render.view_3477\", function(event, view, data) {\r\n  appendCustomMenuMain();\r\n  addLinkToCommunityDashboard(data.id);\r\n});\r\n\r\n//view_3536 Edit Community Profile\r\n$(document).on(\"knack-view-render.view_3536\", function(event, view, data) {\r\n  appendCustomMenuMain();\r\n  addLinkToCommunityDashboard(data.id);\r\n});\r\n\r\n//view_3587 RADAR Logs\r\n$(document).on(\"knack-view-render.view_3587\", function(event, view, data) {\r\n  appendCustomMenuMain();\r\n  addLinkToCommunityDashboard(data.id);\r\n  $('#com_radarLogs').addClass('sv-active');\r\n});\r\n\r\n//view_3586 Community Logs\r\n$(document).on(\"knack-view-render.view_3586\", function(event, view, data) {\r\n  appendCustomMenuMain();\r\n  addLinkToCommunityDashboard(data.id);\r\n});\r\n\r\n//view_3604 Maange Access Code\r\n$(document).on(\"knack-view-render.view_3604\", function(event, view, data) {\r\n  appendCustomMenuMain();\r\n  addLinkToCommunityDashboard(data.id);\r\n});\r\n\r\n//Community Units - view_3512\r\n$(document).on(\"knack-view-render.view_3512\", function(event, view, data) {\r\n  appendCustomMenuMain();\r\n  addLinkToCommunityDashboard(data.id);\r\n\r\n});\r\n\r\n//Community Units - view_5247\r\n$(document).on(\"knack-view-render.view_5247\", function(event, view, data) {\r\n  appendCustomMenuMain();\r\n  addLinkToCommunityDashboard(data.id);\r\n\r\n});\r\n\r\n//END SIDE BAR\r\n\r\n//Last Night Service Rating\r\n// $(document).on(\"knack-view-render.view_3410\", function(event, view, data) {\r\n//     $(\"input\").addClass(\"hideMe\");\r\n//     $('#view_3410 button').addClass('hideMe');\r\n//     $(\".radio\").on('click', function() {\r\n//         if ($('.radio:checked').val() != null) {\r\n//             const selections = document.querySelectorAll('input[type=\"radio\"]');\r\n//             let userSelection;\r\n//             for (const selection of selections) {\r\n//                 if (selection.checked) {\r\n//                     userSelection = selection.value;\r\n//                     break;\r\n//                 }\r\n//             }\r\n//             //console.log(userSelection);\r\n//             if (userSelection == `<i class=\"fa fa-thumbs-down rating-down\"></i>`) {\r\n//                 //console.log(\"Thumbs D\");\r\n//                 $('#view_3410 button').removeClass('hideMe');\r\n//                 //$(\"#view_3549-field_1495\").prop(\"selectedIndex\", 1).change();\r\n//                 $('#kn-input-field_1425').removeClass('hideMe');\r\n//             } else {\r\n//                 //console.log(\"Thumbs UP\");\r\n//                 //$(\"#view_3549-field_1495\").prop(\"selectedIndex\", 2).change();\r\n//                 $('#view_3410 button').removeClass('hideMe');\r\n//                 $('#view_3410 form').submit();\r\n//                 //location.reload();\r\n//                 $('#kn-input-field_1425').addClass('hideMe');\r\n\r\n//             }\r\n//         }\r\n//     });\r\n//     //$($(\".kn-button\")[0]).addClass(\"hideMe\");\r\n//     $(\".radio\").on('click', function() {\r\n//         if ($('.radio:checked').val() != null) {\r\n//             //$('form').submit();\r\n//             //location.reload();\r\n//         }\r\n//     });\r\n//   \t  //close_rating_form\r\n//     $('#close_rating_form').on('click', function() {\r\n//       \tconsole.log('close_rating_form')\r\n//       \t$('.kn-radio').hide(); $('#close_rating_form').hide()\r\n//         $('#view_3473').removeClass('hideMe');\r\n//         $('#view_3410').addClass('hideMe');\r\n//       \t$('#view_3473 i').show(); $('#edit-rating-id').show();\r\n//     });\r\n// });\r\n\r\n//view_3473 Survey Form\r\n$(document).on(\"knack-view-render.view_3473\", function(event, view, data) {\r\n  //console.log(data);\r\n  var currentServiceId = $(location).attr(\"href\").replace(/\\/\\s*$/, \"\").split('/').pop();\r\n  var blankValue = `<i class=\"fa fa-plus-circle\"></i>`;\r\n  // if (data.field_1462 == blankValue || data.field_1462 == \"\") {\r\n  //     // $('#view_3410').removeClass('hideMe');\r\n  //     // $('#view_3473').addClass('hideMe');\r\n  // } else {\r\n  //     // $('#view_3410').addClass('hideMe');\r\n  //     $('#view_3473').removeClass('hideMe');\r\n  // }\r\n  if(data.field_1464 != 'Yes'){\r\n       $('#edit-rating-id').html('Add Rating');\r\n       $('.field_1552').hide();\r\n  }\r\n  $('#edit-rating-id').on('click', function() {\r\n\r\n      // $('#view_3473 i').hide(); $('#edit-rating-id').hide();\r\n      // $('#view_3473').addClass('hideMe');\r\n      // $('#view_3410').removeClass('hideMe');\r\n      // $('.kn-radio').show();\r\n      // $(\"#view_3410 input:radio\").attr(\"checked\", false);\r\n      // $('#kn-input-field_1425').addClass('hideMe');\r\n      // $('#close_rating_form').show()\r\n      // $('#view_3410 .kn-form-reload').click();\r\n      window.location.href = $(location).attr('href') + 'edit-service-id4/'+currentServiceId;\r\n      \r\n\r\n  });\r\n});\r\n\r\nfunction showInfractionLoss(data) {\r\n  // console.log(data, \"number of Infraction\");\r\n  $('.field_1630').addClass('hideMe');\r\n  $('.field_1487').addClass('hideMe');\r\n  //\r\n  var totalNumberInfractions = data.field_1630;\r\n  var totalLoss = data.field_1487;\r\n  var warningIcon = `<i class=\"fa fa-exclamation-triangle\"></i>`;\r\n  var goodIcon = `<i class=\"fa fa-check\"></i>`;\r\n  var warningText = `${warningIcon}<span class=\"sv-warning-cost\">You currently have ${totalLoss} in lost revenue</span><br> from ${totalNumberInfractions} unaddressed infractions for the last 30 days.`;\r\n  var goodText = `${goodIcon} All current infractions have been addressed.`;\r\n\r\n  if (totalNumberInfractions > 0) {\r\n      $('#infraction_warning').html(warningText);\r\n      $('#infraction_warning').addClass('sv-warning-text');\r\n  } else {\r\n      $('#infraction_warning').html(goodText);\r\n      $('#infraction_warning').addClass('sv-no-infraction');\r\n      //$('#infraction_warning').hide();\r\n  }\r\n\r\n  //infrationTest();\r\n  \r\n  function infrationTest(){\r\n      var filtersIn = {\r\n  'match': 'and',\r\n  'rules': [\r\n            { \r\n              'match': 'or',\r\n              'rules': [\r\n                      {\r\n                          'field':'field_66',\r\n                          'operator':'is today'\r\n                      },\r\n                        {\r\n                          'field':'field_66',\r\n                          'operator':'is during the previous',\r\n                          \"range\":30,\r\n                          \"type\":\"days\"\r\n                      }\r\n                    ]\r\n                \r\n            },\r\n          {'field':'field_65',\r\n                'operator':'is',\r\n                'value':data.id\r\n              }\r\n          ],\r\n};\r\n      // console.log(data.id, \"data.id\")\r\n      return $.ajax({\r\n          type: 'GET',\r\n          headers:  {\r\n                      'X-Knack-Application-Id': Knack.application_id,\r\n                  'X-Knack-REST-API-Key': window.knackRestApiKey,\r\n                      'Authorization': Knack.getUserToken()\r\n              },\r\n          url: 'https://api.sv.knack.com/v1/objects/object_10/records?filters=' + encodeURIComponent(JSON.stringify(filtersIn)),\r\n          success: function(res) {\r\n              // console.log(res, \"infraction Data\");\r\n          }\r\n      });\r\n  }   \r\n  \r\n}\r\n\r\n//view_3374 Show Infraction Total Loss\r\n$(document).on(\"knack-view-render.view_3374\", function(event, view, data) {\r\n  showInfractionLoss(data);\r\n  //hazard-id\r\n  //addressed-service-hazards/{RECORD ID}\r\n  url = new URL(window.location.href);\r\n  if ( searchParam('hazard_id') != '' ) {\r\n   \r\n    setTimeout(openAddressHazard, 2000)\r\n\r\n    function openAddressHazard(){\r\n       window.location.replace(`#community-concierge/community-dashboard/${data.id}/addressed-service-hazards/${ searchParam('hazard_id') }`)\r\n    }\r\n  }\r\n});\r\n//view_3508 Show Infraction Total Loss on Infraction Page\r\n$(document).on(\"knack-view-render.view_3508\", function(event, view, data) {\r\n  showInfractionLoss(data);\r\n});\r\n\r\n//Get what quarter\r\n$(document).on(\"knack-view-render.view_3514\", function(event, view, data) {\r\n  // $('#sv_survey_link').removeClass('hideMe')\r\n  data.field_1113 = 0;\r\n  // console.log(data, \"view_3514view_3514view_3514view_3514\")\r\n  $('#view_3514').hide();\r\n  var date = new Date();\r\n  var quarter = parseInt(date.getMonth() / 3) + 1;\r\n  var currentYear = date.getFullYear();\r\n  var lastSurveyDate = data.field_2375;\r\n  var lastDate = new Date(lastSurveyDate)\r\n  var lastSurveyQuarter = parseInt(lastDate.getMonth() / 3) + 1;\r\n  var lastSurveyYear;\r\n  var lastSurveyDateEqualsCurrentDate = false;\r\n  var currentCMRoles = Knack.session.user.profile_objects;\r\n  var currentCMId = currentCMRoles.find(x => x.object == \"object_5\").entry_id;\r\n  if(lastSurveyDate != ''){\r\n      lastSurveyYear = new Date(data.field_2375); lastSurveyYear = lastSurveyYear.getFullYear();\r\n      if(currentYear == lastSurveyYear && quarter == lastSurveyQuarter){\r\n          lastSurveyDateEqualsCurrentDate = true;\r\n      }\r\n  }\r\n  // console.log(currentYear, lastSurveyYear, quarter, lastSurveyQuarter)\r\n  //check if current CM has taken the survey\r\n  var takenBy = [];\r\n  if(data.field_2379 != ''){\r\n      takenBy = takenBy.concat(data.field_2379_raw); \r\n  }\r\n  var surveyTakenByLoggedCM = false;\r\n  takenBy.forEach(checkIfTakenByCurrentCM);\r\n  function checkIfTakenByCurrentCM(item, index) {\r\n      if(takenBy[index].id == currentCMId){\r\n          surveyTakenByLoggedCM = true;\r\n      }\r\n  }\r\n  // console.log('surveyTakenByLoggedCM',surveyTakenByLoggedCM)\r\n  //console.log(quarter, currentYear)\r\n  //this will show the survey notification IF the current quarter total survey is more than 0.\r\n  $('#current_year_id').html(currentYear);\r\n  $('#current_quarter_id').html($('#sv_survey_quarter_v').html());\r\n  \r\n  if(lastSurveyDateEqualsCurrentDate && surveyTakenByLoggedCM){\r\n      // $('p.sticky').hide();\r\n      // $('p.sticky').removeClass('hideMe');\r\n      $('#sv_survey_link').hide();\r\n  }else{\r\n     $('#view_survey_id').click();\r\n     $('p.sticky').removeClass('hideMe');\r\n  }\r\n  // console.log(lastSurveyDateEqualsCurrentDate, \"lastSurveyDateEqualsCurrentDate\", surveyTakenByLoggedCM, \"surveyTakenByLoggedCM\")\r\n  //Close the Sticky Survey\r\n  // $('#close_sticky').on('click', function() {\r\n  //     $('p.sticky').hide();\r\n  // });\r\n\r\n  //view_survey_id Open the Survey\r\n  $('#click_survey_id').on('click', function() {\r\n      $('#view_survey_id').click();\r\n      // $('p.sticky').hide();\r\n  });\r\n});\r\n\r\n//HIDE THE SIDE WHEN ON THE MAIN MENU\r\n//kn-scene_1253\r\n\r\n$(document).on('knack-scene-render.scene_1253', function(event, scene) {\r\n  //$('#kn-mobile-menu').addClass('hideMe');\r\n  //document.getElementById('knack-body').style.margin-left = '-50px';\r\n\r\n});\r\n//view_3520 Survey Form ONGOING\r\n$(document).on(\"knack-view-render.view_3520\", function(event, view, data) {\r\n  $('#view_4929').addClass('hideMe')\r\n  var date = new Date();\r\n  var quarter = parseInt(date.getMonth() / 3) + 1;\r\n  var quarterInput = 'Q' + quarter;\r\n  //console.log(data, \"quarterInput is \", quarterInput);\r\n  if (quarter == 1) {\r\n      $(\"#view_3520-field_1101\").prop(\"selectedIndex\", 0).change();\r\n  }\r\n  if (quarter == 2) {\r\n      $(\"#view_3520-field_1101\").prop(\"selectedIndex\", 1).change();\r\n  }\r\n  if (quarter == 3) {\r\n      $(\"#view_3520-field_1101\").prop(\"selectedIndex\", 2).change();\r\n  }\r\n  if (quarter == 4) {\r\n      $(\"#view_3520-field_1101\").prop(\"selectedIndex\", 3).change();\r\n  }\r\n});\r\n\r\n//view_4930 Survey Form ONGOING New Object\r\n$(document).on(\"knack-view-render.view_4930\", function(event, view, data) {\r\n  console.log('test')\r\n  var date = new Date();\r\n  var quarter = parseInt(date.getMonth() / 3) + 1;\r\n  var quarterInput = 'Q' + quarter;\r\n  $('#kn-input-field_2388').addClass('hideMe')\r\n  //console.log(data, \"quarterInput is \", quarterInput);\r\n  if (quarter == 1) {\r\n     $(\"#view_4930-field_2388\").prop(\"selectedIndex\", 1).change();\r\n  }\r\n  if (quarter == 2) {\r\n      $(\"#view_4930-field_2388\").prop(\"selectedIndex\", 2).change();\r\n  }\r\n  if (quarter == 3) {\r\n      $(\"#view_4930-field_2388\").prop(\"selectedIndex\", 3).change();\r\n  }\r\n  if (quarter == 4) {\r\n      $(\"#view_4930-field_2388\").prop(\"selectedIndex\", 4).change();\r\n  }\r\n});\r\n\r\n\r\n//view_3473 Survey Form\r\n$(document).on(\"knack-view-render.view_3473\", function(event, view, data) {\r\n  //console.log(data);\r\n  // var blankValue = `<i class=\"fa fa-plus-circle\"></i>`;\r\n  // if (data.field_1552 == blankValue || data.field_1552 == \"\") {\r\n  //     // $('#view_3410').removeClass('hideMe');\r\n  //     $('#view_3473').addClass('hideMe');\r\n  // } else {\r\n  //     // $('#view_3410').addClass('hideMe');\r\n  //     $('#view_3473').removeClass('hideMe');\r\n  // }\r\n  // $('#edit-rating-id').on('click', function() {\r\n  //     $('#view_3473').addClass('hideMe');\r\n  //     // $('#view_3410').removeClass('hideMe');\r\n  // });\r\n  // //close_rating_form\r\n  // $('#close_rating_form').on('click', function() {\r\n  //     $('#view_3473').removeClass('hideMe');\r\n  //     $('#view_3410').addClass('hideMe');\r\n  // });\r\n});\r\n//This will hide the side nav bar on the other pages.\r\n$(document).on('knack-scene-render.any', function(event, scene) {\r\n  showHideMenuText();\r\n  //List of the Page where the view exist to hide the side bar;\r\n  var viewsToHide = document.getElementById('view_3370');\r\n  if (viewsToHide) {\r\n      $('#kn-mobile-menu').addClass('hideMe')\r\n      //kn-app-header\r\n      $('#kn-app-header').addClass('hideMe')\r\n  } else {\r\n      $('#kn-mobile-menu').removeClass('hideMe')\r\n      $('#kn-app-header').removeClass('hideMe')\r\n\r\n  }\r\n});\r\n//Documents Btn Function helper\r\nfunction documentFunctions(data){\r\n  //docs_no_data\r\n  !data.field_1533 & !data.field_2904 & !data.field_1534 & !data.field_1535 ? $('#docs_no_data').show() : $('#docs_no_data').hide(); \r\nif (!data.field_1533) {\r\n      $('#doc_resident_flyer_btn').addClass('hideMe'); //Resident Flyer\r\n  }\r\n  if (!data.field_2904) {\r\n      $('#doc_com_flyer_btn').addClass('hideMe'); //Community Flyer\r\n      $('#doc_com_flyer_btn').addClass('sv-no-data');\r\n      $('#doc_com_flyer_btn_download').addClass('hideMe')\r\n  }\r\n  data.field_1534 ? $('#doc_cert_of_ins_btn').show() : $('#doc_cert_of_ins_btn').hide();\r\n  //if(!data.field_1534){\r\n  // $('#doc_cert_of_ins_btn').addClass('hideMe');//Certificate of Ins can be edit by the CM\r\n  //}\r\n  if (!data.field_1535) {\r\n      $('#doc_holiday_flyer_btn').hide(); //Holiday Flyer\r\n  }\r\n\r\n  $('#doc_resident_flyer_btn').on('click', function() { //Resident Flyer\r\n      $('.field_1533 a').click();\r\n  });\r\n  $('#doc_com_flyer_btn').on('click', function() { //Community Flyer\r\n      $('#cmFlyer').click();\r\n  });\r\n  $('#doc_com_flyer_btn_download').on('click', function() { //Community Flyer\r\n      // $('#cmFlyer').click();\r\n      // window.location.href = $('#cmFlyer').attr('href')\r\n      document.getElementById('cmFlyer').click()\r\n  });\r\n  $('#doc_cert_of_ins_btn').on('click', function() { //Certificate of Ins\r\n      //$('#view_com_cert_of_ins').click();\r\n      $('.field_1534 a').click();\r\n  });\r\n  $('#doc_holiday_flyer_btn').on('click', function() { //Holiday Flyer\r\n      $('.field_1535 a').click();\r\n  });\r\n}\r\n\r\n//view_3378 Community Documents BTN\r\n$(document).on(\"knack-view-render.view_3378\", function(event, view, data) {\r\n  //console.log(data , \"document\");\r\n  $('#view_3378').hide();\r\n  documentFunctions(data);\r\n\r\n});\r\n\r\n//view_3713 Community Profile Documents BTN\r\n$(document).on(\"knack-view-render.view_3713\", function(event, view, data) {\r\n  // console.log(data , \"documnet\");\r\n  $('#view_3713').addClass('hideMe');\r\n  documentFunctions(data);\r\n    var cmFlyerCloudField = data.field_2904_raw;\r\n    // var customFlyerCloud = `<a id=\"cmFlyer\" class=\"kn-img-gallery\" href=\"#\" style=\"display: none;\">\r\n    //       <div class=\"nailthumb-container\" style=\"width: 100px; height: 100px; visibility: visible; overflow: hidden; padding: 0px;\">\r\n    //           <span class=\"\">\r\n    //               <img data-kn-img-gallery=\"${cmFlyerCloudField}\"\r\n    //               style=\"position: relative; width: 100px; height: 100px; top: 0px; left: 0px; display: inline;\" \r\n    //               class=\"nailthumb-image\" src=\"${cmFlyerCloudField}\">\r\n    //           </span>\r\n    //       </div>\r\n    //   </a>`\r\n    // var customFlyerCloud =  `<a id=\"cmFlyer\" href=\"${cmFlyerCloudField}\" target=\"_blank\">Download</a>`\r\n  // $('#view_3713').append(customFlyerCloud)\r\n  $('#cmFlyer').attr('href', cmFlyerCloudField )\r\n});\r\n\r\n$(document).on(\"knack-view-render.view_5243\", function(event, view, data) {\r\n  // console.log(data , \"documnet\");\r\n  // $('#view_3713').addClass('hideMe');\r\n  $('#kn-scene_1908').removeClass('kn-scene').removeClass('kn-container').css('text-align', 'center')\r\n  $('#view_5243 .field_2556').hide()\r\n  documentFunctions(data);\r\n    var cmFlyerCloudField = data.field_2556_raw;\r\n    // var customFlyerCloud = `<a id=\"cmFlyer\" class=\"kn-img-gallery\" href=\"#\" style=\"display: none;\">\r\n    //       <div class=\"nailthumb-container\" style=\"width: 100px; height: 100px; visibility: visible; overflow: hidden; padding: 0px;\">\r\n    //           <span class=\"\">\r\n    //               <img data-kn-img-gallery=\"${cmFlyerCloudField}\"\r\n    //               style=\"position: relative; width: 100px; height: 100px; top: 0px; left: 0px; display: inline;\" \r\n    //               class=\"nailthumb-image\" src=\"${cmFlyerCloudField}\">\r\n    //           </span>\r\n    //       </div>\r\n    //   </a>`\r\n    var customFlyerCloud =  `<a class=\"kn-button is-primary\" id=\"cmFlyer\" href=\"${cmFlyerCloudField}\" target=\"_blank\">Download Community Flyer</a>`\r\n    var iframe = `<iframe src=\"${cmFlyerCloudField}\" width=\"100%\" height=\"600\" style=\"border:none;\"></iframe>`\r\n  $('#view_5243').append(customFlyerCloud)\r\n  // $('#view_5243').append(iframe)\r\n});\r\n\r\n$(document).on(\"knack-view-render.view_2536\", function(event, view, data) {\r\n  // console.log(data , \"documnet\");\r\n  // $('#view_3713').addClass('hideMe');\r\n  // $('#kn-scene_1908').removeClass('kn-scene').removeClass('kn-container').css('text-align', 'center')\r\n  $('#view_2536 .field_2557 img').hide()\r\n  $('#view_2536 .field_2558 img').hide()\r\n  $('#view_2536 .field_2559 img').hide()\r\n  documentFunctions(data);\r\n    var cmFlyerCloudField = data.field_2557_raw;\r\n    var cmFlyerCloudField2 = data.field_2558_raw;\r\n    var cmFlyerCloudField3 = data.field_2559_raw;\r\n\r\n    var customFlyerCloud =  `<a class=\"kn-button is-primary\" id=\"cmFlyer\" href=\"${cmFlyerCloudField}\" target=\"_blank\">Download Contract Document</a>`\r\n    var customFlyerCloud2 =  `<a class=\"kn-button is-primary\" id=\"cmFlyer2\" href=\"${cmFlyerCloudField2}\" target=\"_blank\">Download Contract Addendum</a>`\r\n    var customFlyerCloud3 =  `<a class=\"kn-button is-primary\" id=\"cmFlyer3\" href=\"${cmFlyerCloudField3}\" target=\"_blank\">Download Master Agreement</a>`\r\n\r\n  $('#view_2536 .field_2557 .kn-detail-body').append(customFlyerCloud)\r\n  $('#view_2536 .field_2558 .kn-detail-body').append(customFlyerCloud2)\r\n  $('#view_2536 .field_2559 .kn-detail-body').append(customFlyerCloud3)\r\n  // $('#view_5243').append(iframe)\r\n});\r\n\r\n$(document).on(\"knack-view-render.view_1825\", function(event, view, data) {\r\n  // console.log(data , \"documnet\");\r\n  // $('#view_3713').addClass('hideMe');\r\n  // $('#kn-scene_1908').removeClass('kn-scene').removeClass('kn-container').css('text-align', 'center')\r\n  $('#view_1825 .field_2552 img').hide()\r\n  $('#view_1825 .field_2495 img').hide()\r\n  $('#view_1825 .field_2904 img').hide()\r\n  $('#view_1825 .field_2553 img').hide()\r\n  $('#view_1825 .field_2495 kn-detail-body span').hide()\r\n\r\n  \r\n\r\n\r\n  documentFunctions(data);\r\n    var cmFlyerCloudField = data.field_2552_raw;\r\n    var cmFlyerCloudField2 = data.field_2904_raw;\r\n    var cmFlyerCloudField3 = data.field_2553_raw;\r\n\r\n\r\n  if (cmFlyerCloudField != \"\"){\r\n    var fileNameDotIdx = cmFlyerCloudField.lastIndexOf(\".\");\r\n    var fileName = cmFlyerCloudField.substr(0, fileNameDotIdx);\r\n\r\n\r\n    updatedImageUrl = fileName + \".jpg\";\r\n\r\n\r\n    var cloudImage = `<span><a class=\"kn-img-gallery\" href=\"#\"><span class=\"\"><img data-kn-img-gallery=\"${updatedImageUrl}\" class=\"nailthumb-image\" src=\"${updatedImageUrl}\"></span></a></span>`\r\n    var customFlyerCloud =  `<a class=\"kn-button is-primary\" id=\"cmFlyer\" href=\"${cmFlyerCloudField}\" target=\"_blank\">Download Map</a>`\r\n    \r\n    $('#view_1825 .field_2552 .kn-detail-body').append(customFlyerCloud)\r\n    $('#view_1825 .field_2495 .kn-detail-body').append(cloudImage)\r\n  }\r\n\r\n  if (cmFlyerCloudField2 != \"\"){\r\n      var customFlyerCloud2 =  `<a class=\"kn-button is-primary\" href=\"${cmFlyerCloudField2}\" target=\"_blank\">Download PDF Flyer</a>`\r\n      $('#view_1825 .field_2904 .kn-detail-body').append(customFlyerCloud2)\r\n  }\r\n\r\n  if (cmFlyerCloudField3 != \"\"){\r\n      var customFlyerCloud3 =  `<a class=\"kn-button is-primary\" href=\"${cmFlyerCloudField3}\" target=\"_blank\">Download Letter</a>`\r\n      $('#view_1825 .field_2553 .kn-detail-body').append(customFlyerCloud3)\r\n  }\r\n    \r\n\r\n  // $('#view_5243').append(iframe)\r\n});\r\n\r\n\r\n\r\n//view_3582 Certificate of Ins POP UP - This will hide or show the form\r\n$(document).on(\"knack-view-render.view_3582\", function(event, view, data) {\r\n  $('#view_3583 .kn-asset-close').addClass('hideMe')\r\n  if (data.field_1534) {\r\n      //show details with edit\r\n      //hide form\r\n      //cert_of_ins_pdf_prev\r\n      document.getElementById('cert_of_ins_pdf_prev').style.display = 'none';\r\n      $('#cert_of_ins_pdf_prev').attr(\"src\", data.field_1534_raw.url);\r\n      //this waits for 2 seconds before showing the pdf iframe\r\n      var timeout = setTimeout(function() {\r\n          document.getElementById('cert_of_ins_pdf_prev').style.display = 'block';\r\n          clearTimeout(timeout);\r\n      }, 2000);\r\n      //field_1534\r\n      //hides the ins field\r\n      $('.field_1534').addClass('hideMe');\r\n      //adds href to the btn\r\n      $('#view_coi').attr(\"href\", data.field_1534_raw.url);\r\n      $('#view_3580').addClass('hideMe'); //form\r\n\r\n\r\n\r\n\r\n  } else {\r\n      //show form\r\n      //hide details\r\n  }\r\n\r\n  //btn - click to show the form\r\n  //edit\r\n  $('#edit_coi').on('click', function() {\r\n      $('#view_3580').removeClass('hideMe'); //form\r\n      $('#edit_coi').addClass('hideMe'); //form\r\n  });\r\n\r\n  $('#view_3580 .is-primary').on(\"click\", function() {\r\n\r\n      $(\"#view_3583\").addClass(\"hideMe\");\r\n\r\n  });\r\n\r\n});\r\n\r\n//this will change the text display of the Reqeust RADAR column INFRACTION PAGE\r\n$(document).on(\"knack-view-render.view_3557\", function(event, view, data) {\r\n  console.log(data)\r\n\r\n//$(\"[myAttribute='my value']\")\r\n $('#view_3557 .col-6').each(function(i) {\r\n   $($('#view_3557 .col-6 a')[i]).text('Request RADAR');\r\n  });\r\n\r\n});\r\n\r\n//view_3456 Service History\r\n$(document).on(\"knack-view-render.view_3456\", function(event, view, data) {\r\n  //console.log(data);\r\n  //$('#view_3456 .col-7').each(function(i) {\r\n   //$($('#view_3557 .col-7 a')[i]).text('Request RADAR');\r\n      //console.log($($('#view_3557 .col-7 a')[i]));\r\n  //});\r\n  for (let i = 0; i < data.length; i++) {\r\n      var tableX = document.getElementById('view_3456').getElementsByTagName('table')[0];\r\n      var x = tableX.rows[i + 1].cells;\r\n      var link = location.href + '/community-request-radar/' + data[i].field_146_raw[0].id;\r\n      console.log(x[7].innerHTML)\r\n      try {\r\n          x[7].innerHTML = `<a href=${link}><span>Request RADAR</span></a>`;\r\n      } catch (err) {\r\n          console.log(err)\r\n      }\r\n  }\r\n});\r\n\r\n\r\n//view_3549 Survey Rating on the Service History table\r\n//This will change the value of the Rating Value field based on the radio input selected\r\n$(document).on(\"knack-view-render.view_3549\", function(event, view, data) {\r\n  //this will hide the input and the submit btn\r\n  //$(\"input\").addClass(\"hideMe\");\r\n  $(\"#kn-input-field_1495\").addClass(\"hideMe\");\r\n\r\n  //hardcoded value of the thumbsup field\r\n  var thumbsUpVal = '<img src=\"https://s3.amazonaws.com/assets.knackhq.com/assets/5bbcb6a739b582305a70b738/60afcd97af88d2001eebb81f/original/up.png\" alt=\"Thumbs Up\" width=\"50\" height=\"50\" />';\r\n\r\n\r\n  //when click, submit the form & set the value of the Rating Value field\r\n  $(\".radio\").on('click', function() {\r\n\r\n      if ($('.radio:checked').val() != null) {\r\n          const selections = document.querySelectorAll('input[type=\"radio\"]');\r\n          let userSelection;\r\n          for (const selection of selections) {\r\n              if (selection.checked) {\r\n                  userSelection = selection.value;\r\n                  break;\r\n              }\r\n          }\r\n          if (userSelection == thumbsUpVal) {\r\n              console.log(\"Thumbs Up\");\r\n              $(\"#view_3549-field_1495\").prop(\"selectedIndex\", 1).change();\r\n          } else {\r\n              console.log(\"Thumbs D\");\r\n              $(\"#view_3549-field_1495\").prop(\"selectedIndex\", 2).change();\r\n\r\n\r\n          }\r\n          $('button').on(\"click\", function() {\r\n              $('.close-modal').click();\r\n          });\r\n\r\n          //$('form').submit();\r\n          //$('.close-modal').click();\r\n      }\r\n  });\r\n});\r\n\r\n\r\n//Community Profile - Schedule Indicator -view_3566 \r\n$(document).on(\"knack-view-render.view_3744\", function(event, view, data) {\r\n  $('#view_3744').hide();\r\n  //console.log(data);\r\n  if (data.field_132 == \"Yes\") {\r\n      $('#sunday').addClass(\"on-sched\");\r\n  } else {\r\n      $('#sunday').addClass(\"not-on-sched\");\r\n  }\r\n  if (data.field_133 == \"Yes\") {\r\n      $('#monday').addClass(\"on-sched\");\r\n  } else {\r\n      $('#monday').addClass(\"not-on-sched\");\r\n  }\r\n  if (data.field_134 == \"Yes\") {\r\n      $('#tuesday').addClass(\"on-sched\");\r\n  } else {\r\n      $('#tuesday').addClass(\"not-on-sched\");\r\n  }\r\n  if (data.field_135 == \"Yes\") {\r\n      $('#wednesday').addClass(\"on-sched\");\r\n  } else {\r\n      $('#wednesday').addClass(\"not-on-sched\");\r\n  }\r\n  if (data.field_136 == \"Yes\") {\r\n      $('#thursday').addClass(\"on-sched\");\r\n  } else {\r\n      $('#thursday').addClass(\"not-on-sched\");\r\n  }\r\n  if (data.field_137 == \"Yes\") {\r\n      $('#friday').addClass(\"on-sched\");\r\n  } else {\r\n      $('#friday').addClass(\"not-on-sched\");\r\n  }\r\n  if (data.field_138 == \"Yes\") {\r\n      $('#saturday').addClass(\"on-sched\");\r\n  } else {\r\n      $('#saturday').addClass(\"not-on-sched\");\r\n  }\r\n\r\n});\r\n\r\n//Access Code - Indicator -view_3607 \r\n$(document).on(\"knack-view-render.view_3607\", function(event, view, data) {\r\n  //console.log(data);\r\n  $('#view_3607').addClass(\"hideMe\");\r\n  if (data.field_1571 == \"Yes\") {\r\n      $('#sunday').addClass(\"on-sched\");\r\n  } else {\r\n      $('#sunday').addClass(\"not-on-sched\");\r\n  }\r\n  if (data.field_1572 == \"Yes\") {\r\n      $('#monday').addClass(\"on-sched\");\r\n  } else {\r\n      $('#monday').addClass(\"not-on-sched\");\r\n  }\r\n  if (data.field_1573 == \"Yes\") {\r\n      $('#tuesday').addClass(\"on-sched\");\r\n  } else {\r\n      $('#tuesday').addClass(\"not-on-sched\");\r\n  }\r\n  if (data.field_1574 == \"Yes\") {\r\n      $('#wednesday').addClass(\"on-sched\");\r\n  } else {\r\n      $('#wednesday').addClass(\"not-on-sched\");\r\n  }\r\n  if (data.field_1575 == \"Yes\") {\r\n      $('#thursday').addClass(\"on-sched\");\r\n  } else {\r\n      $('#thursday').addClass(\"not-on-sched\");\r\n  }\r\n  if (data.field_1576 == \"Yes\") {\r\n      $('#friday').addClass(\"on-sched\");\r\n  } else {\r\n      $('#friday').addClass(\"not-on-sched\");\r\n  }\r\n  if (data.field_1577 == \"Yes\") {\r\n      $('#saturday').addClass(\"on-sched\");\r\n  } else {\r\n      $('#saturday').addClass(\"not-on-sched\");\r\n  }\r\n  //days_indicator\r\n  var timeout = setTimeout(function() {\r\n      document.getElementById('days_indicator').style.display = 'block';\r\n      clearTimeout(timeout);\r\n  }, 2000);\r\n});\r\n\r\n//view_3598 Edit Access Code\r\n\r\n$(document).on(\"knack-view-render.view_3598\", function(event, view, data) {\r\n  //console.log(data);\r\n  $('#view_3598').addClass('hideMe');\r\n  if (data.field_132 == \"No\") {\r\n      $(\"input[type='checkbox'][name='field_1571']\").attr('disabled', 'disabled');\r\n  }\r\n  if (data.field_133 == \"No\") {\r\n      $(\"input[type='checkbox'][name='field_1572']\").attr('disabled', 'disabled');\r\n  }\r\n\r\n  if (data.field_134 == \"No\") {\r\n      $(\"input[type='checkbox'][name='field_1573']\").attr('disabled', 'disabled');\r\n  }\r\n\r\n  if (data.field_135 == \"No\") {\r\n      $(\"input[type='checkbox'][name='field_1574']\").attr('disabled', 'disabled');\r\n  }\r\n\r\n  if (data.field_136 == \"No\") {\r\n      $(\"input[type='checkbox'][name='field_1575']\").attr('disabled', 'disabled');\r\n  }\r\n\r\n  if (data.field_137 == \"No\") {\r\n      $(\"input[type='checkbox'][name='field_1576']\").attr('disabled', 'disabled');\r\n  }\r\n\r\n  if (data.field_138 == \"No\") {\r\n      $(\"input[type='checkbox'][name='field_1577']\").attr('disabled', 'disabled');\r\n  }\r\n\r\n});\r\n\r\n//view_3603 Add Access Code\r\n\r\n$(document).on(\"knack-view-render.view_3603\", function(event, view, data) {\r\n  //console.log(data);\r\n  $('#view_3603').addClass('hideMe');\r\n  if (data.field_132 == \"No\") {\r\n      $(\"input[type='checkbox'][name='field_1571']\").attr('disabled', 'disabled');\r\n  }\r\n  if (data.field_133 == \"No\") {\r\n      $(\"input[type='checkbox'][name='field_1572']\").attr('disabled', 'disabled');\r\n  }\r\n\r\n  if (data.field_134 == \"No\") {\r\n      $(\"input[type='checkbox'][name='field_1573']\").attr('disabled', 'disabled');\r\n  }\r\n\r\n  if (data.field_135 == \"No\") {\r\n      $(\"input[type='checkbox'][name='field_1574']\").attr('disabled', 'disabled');\r\n  }\r\n\r\n  if (data.field_136 == \"No\") {\r\n      $(\"input[type='checkbox'][name='field_1575']\").attr('disabled', 'disabled');\r\n  }\r\n\r\n  if (data.field_137 == \"No\") {\r\n      $(\"input[type='checkbox'][name='field_1576']\").attr('disabled', 'disabled');\r\n  }\r\n\r\n  if (data.field_138 == \"No\") {\r\n      $(\"input[type='checkbox'][name='field_1577']\").attr('disabled', 'disabled');\r\n  }\r\n\r\n});\r\n\r\n//view_3374 Service Schedule on Dashboard\r\n$(document).on(\"knack-view-render.view_3374\", function(event, view, data) {\r\n  //console.log(data);\r\n  $('#today-service-schedule').html(data.field_44);\r\n  $('.field_44').addClass('hideMe');\r\n});\r\n//view_3407 Updates from TB on Dashboard\r\n$(document).on(\"knack-view-render.view_3407\", function(event, view, data) {\r\n  //$($('#view_3407 p')[1]).removeClass(\"tb-updates\")\r\n  //console.log(data);\r\n  //$('#updates-from-tb-id').html(data.field_1403);\r\n  //if (data.field_1403) {\r\n      //$('.tb-updates').addClass('sv-read-more-updates');\r\n  //}\r\n  $('#view_updatesTB').hide();\r\n  $('.field_1403').hide();\r\n  if(data.field_1403){\r\n    var updataText = data.field_1403;\r\n    var updateLength = 300;\r\n    var trimmedUpdate = updataText.substring(0, updateLength);\r\n    //var trimmedUpdate = updataText;\r\n    //var stickyNotifFromTB = `<span style=\"color: #8392ab;\"><strong><i class=\"fa fa-bell-o\"></i>Update From The Trash Butler Team:</span><br><p\r\n    //data-toggle=\"tooltip\" data-placement=\"left\" title=\"${updataText}\"\r\n    //class=\"cm-limit-text\" style=\"color: hsl(211, 71%, 28%); cursor: pointer;\">${trimmedUpdate} <a style=\"color:#67748e; font-size: .875rem;\" id=\"view_more_TBupdate\">(Read More)</a></p></strong>`;\r\n    var stickyNotifFromTB = `<div class=\"updateTB\" style=\"cursor: pointer;\">\r\n        <strong>\r\n            <span style=\"color: #8392ab;\"></span><i class=\"fa fa-bell-o\"></i>Update From The Trash Butler Team:</span><br>\r\n            <p style=\"color: hsl(211, 71%, 28%);\">${trimmedUpdate} ... <span style=\"font-style: italic;\">(Read More)</span>\r\n            </p>\r\n        </strong>\r\n    </div>`;\r\n    $('#updates-from-tb-id').html(stickyNotifFromTB);\r\n  }else{$('#updates-from-tb-id').html(stickyNotifFromTB);}\r\n  \r\n  $($('.updateTB')[0]).on(\"click\", function(){\r\n    $('#view_updatesTB').click();\r\n      console.log('Testasdadd')\r\n  });\r\n});\r\n//view_3374 Community Information\r\n$(document).on(\"knack-view-render.view_3374\", function(event, view, data) {\r\n  //console.log(data);\r\n  $('#ComAdd_ID').html(data.field_38);\r\n  $('#ComPhone_ID').html(data.field_39);\r\n  $('.field_38').addClass('hideMe');\r\n  $('.field_39').addClass('hideMe');\r\n\r\n  //hide extra column that has no data displayed - Kim APL\r\n  $($(\"#view_3374 section.columns div.is-horizontal\")[1]).addClass(\"hideMe\");\r\n});\r\n\r\n//view_3374 Show Infraction Total Loss\r\n$(document).on(\"knack-view-render.view_3374\", function(event, view, data) {\r\n  //console.log(data);\r\n  $('#today-service-schedule').html(data.field_44);\r\n  $('.field_44').addClass('hideMe');\r\n});\r\n\r\n\r\n//view_3618 Add Support Ticket - Contact Support Ticket - https://builder.sv.knack.com/apps/trashdash/pages/scene_1357/views/view_3618/form\r\n//this will hide the other option\r\n$(document).on(\"knack-view-render.view_3618\", function(event, view, data) {\r\n  $('#kn-input-field_309 .kn-datetime').hide();\r\n  $('#kn-input-field_309 label').hide();\r\n  var selectId = document.getElementById(\"view_3618-field_306\").getElementsByTagName(\"option\");\r\n  // selectId[4].style = \"display: none;\";\r\n  selectId[2].style = \"display: none;\";\r\n  selectId[6].style = \"display: none;\";\r\n  selectId[7].style = \"display: none;\";\r\n  //selectId[8].style = \"display: none;\";\r\n  //selectId[9].style = \"display: none;\";\r\n  selectId[10].style = \"display: none;\";\r\n  selectId[11].style = \"display: none;\";\r\n\r\n  var timeout = setTimeout(function() {\r\n      document.getElementById('view_3618').style.display = 'block';\r\n      clearTimeout(timeout);\r\n  }, 500);\r\n});\r\n\r\n// //view_3621 RADAR LOGS PAGE Search Unit\r\n// $(document).on(\"knack-view-render.view_3621\", function(event, view, data) {\r\n//     $('#view_3621 button').addClass('hideMe');\r\n//     $('#view_3588 form').addClass('hideMe');\r\n//     //$('#view_3588 .search').addClass(\"hideMe\");\r\n//   \t$('#clear_unit_filter').hide();\r\n//     document.getElementById('view_3621-field_305').options[0].innerHTML = \"\";\r\n// \tlet test = document.getElementsByClassName(\"select\")[0];\r\n//     $('#view_3621-field_305').on(\"change\", function() {\r\n//       \tlet searchValue = '';\r\n//         searchValue = test.options[test.selectedIndex].text;\r\n//         console.log(typeof(searchValue), searchValue);\r\n//         $('#view_3588 input').val(searchValue).change();\r\n//         $('#view_3588 .search').click();\r\n//         $('#view_3588 input').addClass('hideMe');\r\n//         $('#view_3588 .search').addClass(\"hideMe\");\r\n\r\n//         $('#selected_com').html(searchValue);\r\n//       \t$('#clear_unit_filter').show();\r\n\r\n//     });\r\n\r\n//   \t$('#clear_unit_filter').on(\"click\", function() {\r\n//       \tlet searchValue = '';\r\n//       \tdocument.getElementsByClassName(\"select\").selectedIndex = \"0\";\r\n//         $('#view_3588 input').val(searchValue).change();\r\n//         $('#view_3588 .search').click();\r\n//         $('#view_3588 input').addClass('hideMe');\r\n//         $('#view_3588 .search').addClass(\"hideMe\");\r\n//         $('#selected_com').html(searchValue);\r\n//       \t$('#view_3621_field_305_chzn span').html(searchValue);\r\n//       \t$('#clear_unit_filter').hide();\r\n//     });\r\n// });\r\n\r\n//view_3588 Radar Logs Table\r\n$(document).on(\"knack-view-render.view_3588\", function(event, view, data) {\r\n  //$('#view_3588 form').addClass('hideMe');\r\n});\r\n\r\n\r\n//Add Login/Logout Session Log Records object_89\r\nvar LOGIN_PAGE = false;\r\nvar LOGIN = false;\r\n// Helper functions\r\nfunction getUserDeviceJ(){\r\n  let details = navigator.userAgent;\r\n    \r\n  let regexp = /android|iphone|kindle|ipad/i;\r\n  \r\n  let isMobileDevice = regexp.test(details);\r\n  \r\n  if (isMobileDevice) {\r\n      return 'Mobile'\r\n  } else {\r\n      return 'Desktop'\r\n  }\r\n}\r\n$(document).on('knack-scene-render.any', function (event, scene) {\r\n  var device = getUserDeviceJ();\r\nLOGIN_PAGE = $('.kn-login').length == 1 ? true : false;\r\nif (LOGIN_PAGE) {\r\n  LOGIN = false;\r\n  $('input[type=\"submit\"]').click(function (e) {\r\n    e.preventDefault();\r\n    LOGIN = true;\r\n    $('form').submit();\r\n  });\r\n} else {\r\n  if (LOGIN) {\r\n    LOGIN = false;\r\n    getDeviceData(\"Login\");\r\n  }\r\n}\r\n});\r\n// Logout actions\r\n$(document).on('knack-scene-render.any', function (event, scene) {\r\n   var device = getUserDeviceJ();\r\n// Check is already authenticated\r\n\r\nif (!Knack.session.user) {\r\n  return;\r\n}\r\n$('.kn-log-out').on('click', function () {\r\n  getDeviceData(\"Logout\");\r\n});\r\n});\r\n//End Add Session Log\r\n\r\n//view_3568 Service History Pop up\r\n$(document).on('knack-form-submit.view_3568', function(event, view, record) {\r\n$('.close-modal').click();\r\n$('#view_3396 form a').click();\r\n});\r\n\r\n//view_3506 Dashboard Infraction Pop Up\r\n//this will refresh the Open Infractions (Dashboard) Table when submitted\r\n$(document).on('knack-form-submit.view_3506', function(event, view, record) {\r\n  if($('#view_3376')){$('#view_3376 form a').click();}\r\n  if($('#view_3557')){$('#view_3557 form a').click();}\r\n});\r\n\r\n//Notify Resident Infraction\r\n//view_3569\r\n//this will refresh the Notify Resident Infraction Table when submitted\r\n$(document).on('knack-form-submit.view_3569', function(event, view, record) {\r\n   if($('#view_3376')){$('#view_3376 form a').click();}\r\n  if($('#view_3557')){$('#view_3557 form a').click();}\r\n});\r\n//view_3597\r\n//this will refresh the Access Code Table when the edit form is submitted\r\n$(document).on('knack-form-submit.view_3597', function(event, view, record) {\r\n   if($('#view_3596').length){$('#view_3596 form a').click(); console.log(\"Edited Access Code\");}//view_3719\r\n  if($('#view_3719').length){$('#view_3719 form a').click(); console.log(\"Edited Access Code\");}//Community Profile\r\n  if($('#view_3650').length){$('#view_3650 form a').click(); console.log(\"Edited Access Code\");}//view_3650 Edit Community Profile Page\r\n});\r\n\r\n//view_3740\r\n//this will refresh the Access Code Table when the DELETE form is submitted\r\n$(document).on('knack-form-submit.view_3740', function(event, view, record) {\r\n   if($('#view_3596').length){$('#view_3596 form a').click(); console.log(\"Deleted Access Code\");}//view_3596\r\n  if($('#view_3719').length){$('#view_3719 form a').click(); console.log(\"Deleted Access Code\");}//Community Profile\r\n  if($('#view_3650').length){$('#view_3650 form a').click(); console.log(\"Deleted Access Code\");}//view_3650 Edit Community Profile Page\r\n  $($('.close-modal')[0]).click();\r\n});\r\n\r\n//view_3516 Refresh Community Units Table when the form is submitted\r\n$(document).on('knack-form-submit.view_3516', function(event, view, record) {\r\n   if($('#view_3393').length){$('#view_3393 form a').click();}//Dashboard\r\n  //if($('#view_3719').length){$('#view_3719 form a').click(); console.log(\"Deleted Access Code\");}//Community Profile\r\n  //if($('#view_3650').length){$('#view_3650 form a').click(); console.log(\"Deleted Access Code\");}//view_3650 Edit Community Profile Page\r\n  //$($('.close-modal')[0]).click();\r\n});\r\n\r\n//Notify Resident Infraction this will add the placeholder content of the email\r\n$(document).on(\"knack-view-render.view_3569\", function(event, view, data) {\r\n  //console.log(data, \"form data\");\r\n  Knack.showSpinner();\r\n  $('#view_3569 button').prop('disabled', true);\r\n  const myInterval = setInterval(checkIfExist, 800);\r\n\r\n  function checkIfExist(){\r\n    if( $('#view_3442').length === 0 ){\r\n      console.log('waiting for view')\r\n    }else{\r\n      $('#view_3569 button').prop('disabled', false);\r\n        Knack.hideSpinner();\r\n        mainViewFunction();\r\n        clearInterval(myInterval);\r\n    }\r\n  }\r\n  \r\n \r\n function mainViewFunction(){\r\n    $('#view_3729').hide();\r\n  $('#view_3569 #field_1554').hide();\r\n  $('#kn-input-field_614').hide();\r\n  $('#kn-input-field_615').hide();\r\n  $('#kn-input-field_338').hide();\r\n  var newTextArea = `<textarea class=\"kn-textarea\" id=\"email_content\" name=\"email_content\"></textarea>`;\r\n  $('#kn-input-field_1554').append(newTextArea);\r\n  var image1 = $('.field_614 img').attr('src') ? $('.field_614 img').attr('src') : '';\r\n  var image2 = $('.field_615 img').attr('src') ? $('.field_615 img').attr('src') : '';\r\n  image1 = data.field_614 ? `<a href=${image1} target=\"_blank\"><img src=${image1} height=\"600\"></a>` : '';\r\n  image2 = data.field_615 ? `<a href=${image2} target=\"_blank\"><img src=${image2} height=\"600\"></a>` : '';\r\n  var emailMessage;\r\n  var emailContent = `\r\n<div id=\"images_div\"><p id=\"image_section\"><span>${image1}</span><span>${image2}</span></p></div>\r\n<hr>\r\n<p id=\"content_id\"></p>\r\n`\t\r\nif($('#view_3729 #images_div #image_section').length == 0){$('#view_3729 #images_div').append(`<p style=\"font-weight: bold;\">Infraction Photos Documented by your Trash Butler</p><p id=\"image_section\"><span>${image1}</span><span>${image2}</span></p>`);}\r\n$('#view_3569 #field_1554').val($('#view_3729').html()).change();\r\n//$('#images_div').append(`<p id=\"image_section\"><span>${image1}</span><span>${image2}</span></p>`);\r\n$('input[name=\"field_1652\"]').on(\"click\", function(){\r\n    if($('#view_3569 input[name=\"field_1652\"]').is(':checked')){\r\n         $('#view_3729 #images_div').append(`<p id=\"image_section\"><span>${image1}</span><span>${image2}</span></p>`);\r\n       }\r\n    else{\r\n        $('#view_3729 #image_section').remove()\r\n    }\r\n    $('#view_3569 #field_1554').val($('#view_3729').html()).change();\r\n    console.log($('#view_3569 #field_1554').val())\r\n});\r\n$('#email_content').keyup(function(){\r\n  $('#view_3729 #content_id').html($('#email_content').val());\r\n  document.getElementById('content_id').value = document.getElementById('email_content').value;\r\n  //console.log($('#content_id').val());\r\n  $('#view_3569 #field_1554').val($('#view_3729').html()).change();\r\n  console.log($('#view_3569 #field_1554').val());\r\n  $('#view_3569 #field_338').val($('#content_id').val()).change();\r\n\r\n});\r\n }\r\n});\r\n\r\n//put button view into list view data \r\n//by KIM\r\nvar buttonIntoListView = [\r\n{\r\n  listView: \"view_5467\",\r\n  buttonView: \"view_3377\"\r\n},{\r\n    listView: \"view_5448\",\r\n    buttonView: \"view_3388\"\r\n},\r\n{\r\n    listView: \"view_3615\",\r\n    buttonView: \"view_3539\"\r\n},\r\n  {\r\n    listView: \"view_3393\",\r\n    buttonView: \"view_3749\"\r\n}\r\n];\r\n\r\nbuttonIntoListView.forEach(blv => {\r\n  $(document).on(`knack-view-render.${blv.listView}`, function(event, view, data) {\r\n      $(`#${blv.buttonView}`).detach().prependTo(`#${blv.listView} div.view-header`);\r\n      $(`#${blv.buttonView}`).addClass('sv-CMButtonViewInView');\r\n      $(`#${blv.listView} div.view-header h2`).css('margin-top','0');\r\n  });\r\n});\r\n\r\n//view_3393 Units Table Dashboard\r\n//Set the column to Request if not On Radar\r\n$(document).on(\"knack-view-render.view_3393\", function(event, view, data) {\r\n  //$('#view_3393 .col-2').each(function(i) {\r\n   // \tif($($('#view_3393 .col-2 a')[i]).html() == \"No\"){\r\n //\t\t$($('#view_3393 .col-2 a')[i]).text('Request');\r\n   //   }\r\n   // \telse{\r\n    //    \t$($('#view_3393 .col-2 a')[i]).removeAttr(\"href\");\r\n    //  }\r\n//});\r\n});\r\n\r\n/********************This is the AREA Command Center Section*************************************************/\r\nvar asHeader = {\r\n    'X-Knack-Application-Id': Knack.application_id,\r\n    \"X-Knack-REST-API-Key\": window.knackRestApiKey,\r\n    'Authorization': Knack.getUserToken()\r\n};\r\nvar ASclock;\r\n//view_4192 Dashboard\r\n$(document).on(\"knack-view-render.view_4193\", function(event, view, data) {\r\n  $('#view_4193').hide();\r\n  var c = { 'isClockIn' : data.field_1179_raw, 'time': data.field_1966 }\r\n  ASclock = c;\r\n});\r\nvar showPopUpAs = true;\r\nvar getLateServicesLoaded = false;\r\nfunction getLateServices(){\r\nif(Knack.session.user && !getLateServicesLoaded){\r\n  var myVar = setInterval(refreshInterval, 30000);\r\n  function refreshInterval(){\r\n  //   console.log('getLateServices running')\r\n    return $.ajax({\r\n      type: 'GET',\r\n      headers: asHeader,\r\n      url: 'https://api.sv.knack.com/v1/pages/scene_1437/views/view_4069/records',\r\n      success: function(data) {\r\n        as_lateNotif(data.records)\r\n      }\r\n    });\r\n  }\r\ngetLateServices = true;\r\n}else{\r\n  $('#as_late_notif')\r\n}\r\n}\r\n\r\nfunction getLoggedInState(){\r\nreturn $.ajax({\r\n  type: 'GET',\r\n  headers: asHeader,\r\n  url: 'https://api.sv.knack.com/v1/pages/scene_1417/views/view_4193/records/' + Knack.session.user.profile_objects[0].entry_id,\r\n  success: function(data) {\r\n  //   console.log(data, \"getLoggedInState\")\r\n    loggedInState.clocked_in = data.field_1179_raw\r\n    loggedInState.clockedTime = data.field_1966\r\n    try{\r\n      loggedInState.clockedDate = data.field_1966_raw.date\r\n    }\r\n  catch(err){\r\n    \r\n    }\r\n    addClockDetails();\r\n  }\r\n});\r\n}\r\n\r\n//view_3801 Login Page AS Command Center\r\n$(document).on(\"knack-view-render.view_3801\", function(event, view, data) {\r\n//$('.kn-button').on('click', function(){\r\n  //setTimeout(getLateServices(), 3000);\r\n//})\r\n});\r\n\r\n//This add TimeClock Details TCE\r\nfunction addClockDetails(){\r\n// var t;\r\n// if(loggedInState.clocked_in){ t = `Clocked In At `+loggedInState.clockedTime; $('#as_clock_status').addClass('tce-in'); $('#as_clock_status').removeClass('tce-out') }\r\n// else { t = 'You Are Clocked Out'; $('#as_clock_status').addClass('tce-out'); $('#as_clock_status').removeClass('tce-in')}\r\n// $('#as_clock_status').html(t)\r\n// $('#as_clock_status').removeClass('hideMe')\r\n}\r\n\r\n// This will check if the current logged in user have a butler role\r\nvar userObjectRoles;\r\nvar isButler;\r\nvar currentAppendedTheme;\r\n//Theme Append//\r\n//This is the list of all SCENE IDs for the Area Command Center\r\n//scene_1694, scene_1695 scene_1698, scene_1694 - for New Site Audit Mobile - https://builder.sv.knack.com/apps/trashdash#pages/scene_1698\r\nvar as_scenes = [ 'scene_1935','scene_1921','scene_1799','scene_1792', 'scene_1752','scene_1750','scene_1708','scene_1659','scene_1660','scene_1661','scene_1656','scene_1657','scene_1646','scene_1639','scene_1567','scene_1418', 'scene_1417', 'scene_1426', 'scene_1436', 'scene_1437', 'scene_1518', 'scene_1519', 'scene_1520', 'scene_1525', 'scene_1527', 'scene_1537', 'scene_1528', 'scene_1532', 'scene_1538', 'scene_1533', 'scene_1540', 'scene_1544', 'scene_1534', 'scene_1551', 'scene_1535', 'scene_1529', 'scene_1546', 'scene_1552', 'scene_1530', 'scene_1547', 'scene_1548', 'scene_1549', 'scene_1550', 'scene_1531', 'scene_1438', 'scene_1558', 'scene_1561', 'scene_1565', 'scene_1562', 'scene_1439', 'scene_1440', 'scene_1446', 'scene_1478', 'scene_1479', 'scene_1480', 'scene_1481', 'scene_1483', 'scene_1492', 'scene_1454', 'scene_1505', 'scene_1507', 'scene_1508', 'scene_1509', 'scene_1510', 'scene_1511', 'scene_1512', 'scene_1513', 'scene_1517', 'scene_1490', 'scene_1441', 'scene_1451', 'scene_1452', 'scene_1453', 'scene_1442', 'scene_1455', 'scene_1443', 'scene_1460', 'scene_1536', 'scene_1444', 'scene_1475', 'scene_1476', 'scene_1477', 'scene_1445', 'scene_1468', 'scene_1526', 'scene_1448', 'scene_1494', 'scene_1555', 'scene_1556', 'scene_1557', 'scene_1574', 'scene_1576', 'scene_1573', 'scene_1642', 'scene_1757']\r\n//New Site Audit Setup Scene List - https://builder.sv.knack.com/apps/trashdash/pages/scene_1695\r\nvar siteAudit_scenes = ['scene_1698', 'scene_1915'];\r\nvar siteAuditShared = ['scene_1741','scene_1742','scene_1770','scene_1697','scene_1704','scene_1704','scene_1777','scene_1705','scene_1768']\r\n// var siteAudit_scenes = ['scene_1698','scene_1741','scene_1742','scene_1697','scene_1704','scene_1705','scene_1768']\r\nas_scenes = as_scenes.concat(siteAudit_scenes)\r\nas_scenes.forEach((item, index) => {\r\n  $(document).on(\"knack-scene-render.\" + item, function(event, scene) {\r\n      function initializeAreaCommandCenter(){\r\n          if($('#app-menu-list-mobile').length > 0 ){ $('#app-menu-list-mobile').remove()}\r\n          var loginPage = $('.kn-login').length == 1 ? true : false;\r\n          var clockinStateHTML = `<p id=\"as_clock_status\" class=\"as-tce hideMe\"></p>`\r\n          if($('#as_clock_status').length === 0 & !loginPage){ $('#kn-app-header').append(clockinStateHTML) }\r\n          if(Knack.session.user){ getLoggedInState();} //Get Logged In State When Logged In\r\n          $('#kn-scene_1417').length ? $('#kn-app-header').hide() : $('#kn-app-header').show()\r\n          //This check if Knack's Backlink exist -> Create a copy for the Custom Backlink in the Top of the existing scene\r\n          var backLinkExist = setInterval(checkBackLink, 1000);\r\n          function checkBackLink(){\r\n              if($('.kn-back-link').html() === undefined){ }\r\n              else{\r\n                  function addBackLink(){\r\n                      var origLink = $($('.kn-back-link a')[0]).attr('href');\r\n                      var backLink = `<a style=\"margin-left: 10px\" class=\"sv-top-back-link\" id=\"sv-top-back\" href=`+origLink+`><span>Back<span></a>`;\r\n                      $('#kn-app-header').append(backLink);\r\n                      $('#sv-top-back').show();\r\n                  }\r\n                  if($('#sv-top-back').length == 1){ $('#sv-top-back').remove(); addBackLink() }\r\n                  else{ addBackLink(); }\r\n                  clearInterval(backLinkExist);\r\n              }\r\n          }\r\n          //This check if Knack's Backlink exist -> Create a copy for the Custom Backlink in the Top of the existing scene\r\n          addCustomMenuSv();\r\n          // addImagePreview();\r\n          if($('form').length > 0){ \r\n          $( `<label class=\"as-custom-label\">Date</label>` ).insertBefore( \"form .knack-date\" );\r\n          $( `<label class=\"as-custom-label\">Time</label>` ).insertBefore( \"form .kn-time\" );\r\n          }\r\n          if(item != 'scene_1417'){ try{ getLateServices(); }catch(err){ } }\r\n          if(item == 'scene_1518'){ $('#as_late_notif').remove(); }\r\n          //$(\".kn-add-filter\").css({'margin-right': '10px', 'margin-top': '-35px'});\r\n          if (loginPage) {\r\n          $('input[type=\"submit\"]').click(function (e) {\r\n              setTimeout(function(){getLateServices(); location.reload();}, 1000);\r\n              $('form').submit();\r\n          });\r\n          }else{\r\n              userObjectRoles = Knack.session.user.profile_objects;\r\n              isButler = userObjectRoles.find(x => x.object == \"object_4\");\r\n          }\r\n          //This removes the LATE SERVICES NOTIF & CUSTOM BACK LINK & TCE when the user logged out\r\n          $('.kn-log-out').on('click', function(){\r\n              $('#sv-top-back').remove(); $('#as_late_notif').remove(); $('#as_clock_status').remove();\r\n          })\r\n          \r\n          \r\n          //This is a fast fix\r\n          var labelChck = setInterval(lablF, 1000);\r\n          function lablF(){\r\n              if( $('.kn-detail-label').length > 0 ){ //$('.kn-detail-label').removeAttr('style'); \r\n                                                  clearInterval(labelChck); }\r\n          }\r\n      }\r\n      function appendTheme(){\r\n          //THEME APPEND\r\n          if ($('#as_command_center_theme').length == 0) {\r\n              $('head').append('<link rel=\"stylesheet\" type=\"text/css\" id=\"as_command_center_theme\" class=\"lazyload\" href=\"https://strategic-visionz.github.io/knack-css/scss/Area%20Supervisor%20Theme.min.css\">')\r\n              //-- Hotjar Tracking Code forhttps://apps.sv.knack.com/trashdash#area-command-center-login-->\r\n              $('head').append(`<script>\r\n                  (function(h,o,t,j,a,r){\r\n                      h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};\r\n                      h._hjSettings={hjid:2773437,hjsv:6};\r\n                      a=o.getElementsByTagName('head')[0];\r\n                      r=o.createElement('script');r.async=1;\r\n                      r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;\r\n                      a.appendChild(r);\r\n                  })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');\r\n              </script>`)\r\n              $('body').append('<button id=\"goTopBtn\" class=\"sv-top-btn\">&nbsp;<i class=\"fa fa-arrow-up\"></i>&nbsp;</button>');\r\n              //GOTOP BTN - CAN BE GLOBAL\r\n              $('#goTopBtn').on('click', function(){\r\n                  $('html, body').animate({\r\n                      scrollTop: 0\r\n                  }, 750);\r\n              })\r\n              window.onscroll = function() {\r\n                  document.body.scrollTop > 1000 || document.documentElement.scrollTop > 1000 ?\r\n                      goTopBtn.style.display = \"block\" :\r\n                      goTopBtn.style.display = \"none\";\r\n              };\r\n              //GOTOP BTN\r\n              siteAudit_scenes = 'as_command_center_theme'\r\n          }\r\n      }\r\n\r\n      if(siteAudit_scenes.includes(item)){\r\n          // appendTheme()\r\n          // console.log('AS Scenes')\r\n      }else{\r\n          initializeAreaCommandCenter();\r\n          appendTheme()\r\n          // console.log('Site Audit Scenes')\r\n      }\r\n      // checkCurrentTheme()\r\n  })\r\n\r\n})\r\nfunction addImagePreview(){\r\nconsole.log(\"addImagePreviewaddImagePreviewaddImagePreview\")\r\nfor (let i = 0; i < $('img').length; i++) {//This will makes the Multiple Image Upload Images Preview Full size image\r\n  // if($($('img')[i]).attr('data-kn-img-gallery') === undefined){\r\n    console.log('fsd', transformImage($($('img')[i]).attr('src')));\r\n    $($('img')[i]).attr('data-kn-img-gallery', transformImage($($('img')[i]).attr('src')))\r\n    $($('img')[i]).wrap('<a class=\"kn-img-gallery\" href=\"#\"></a>');\r\n  // }\r\n}\r\n}\r\n\r\nfunction addCustomMenuSv(){\r\n  var menuList =  [\r\n/*    {\ttitle: 'Clock In Page',\r\n      icon: \"\",\r\n      link: \"https://apps.sv.knack.com/trashdash#area-command-center/\"\r\n  },*/\r\n  {\ttitle: 'Pre-Service Dashboard',\r\n      icon: \"\",\r\n      link: \"https://apps.sv.knack.com/trashdash#area-command-center/dashboards/pre-service-dashboard/\"\r\n  },{\ttitle: 'In-Service Dashboard',\r\n      icon: \"\",\r\n      link: \"https://apps.sv.knack.com/trashdash#area-command-center/dashboards/in-service-dashboard\"\r\n  },{\ttitle: 'Post-Service Dashboard',\r\n      icon: \"\",\r\n      link: \"https://apps.sv.knack.com/trashdash#area-command-center/dashboards/post-service-dashboard/\"\r\n  },{\ttitle: 'View All Workflows',\r\n      icon: \"\",\r\n      link: \"https://apps.sv.knack.com/trashdash#area-command-center/dashboards/view-all-workflow/\"\r\n  },{\ttitle: 'Quick Links',\r\n      icon: \"\",\r\n      link: \"https://apps.sv.knack.com/trashdash#area-command-center/dashboards/quick-links/\"\r\n  },{\ttitle: 'My Profile',\r\n      icon: \"\",\r\n      link: \"https://apps.sv.knack.com/trashdash#area-command-center/dashboards/my-profile/\"\r\n  }\r\n  ,\r\n  {\ttitle: `Switch to Butler View`,\r\n      icon: \"fa-exchange\",\r\n      link: \"https://apps.sv.knack.com/trashdash#butler/\"\r\n  }\r\n  ]\r\n  var list = ``;\r\n  for (let i = 0; i < menuList.length; i++) {\r\n    var icon = `<i style=\"margin-top: 3px;\" class=\"fa ${menuList[i].icon}\"></i>`;\r\n  //   var icon = ''\r\n    list = list + `<li><a href=${menuList[i].link} class=\"sv-cm-navbar\"><span class=\"custom-menu-text\">${icon}  ${menuList[i].title}</span></a></li>`;  \r\n  }\r\n  Knack.navList = list;\r\n  var customMenu = `<ul id=\"custom_menu_id\" style=\"list-style-type:none;\">${list}</ul>`;\r\n  if($('#custom_menu_id').length === 0){ $('#kn-mobile-menu').append(customMenu); }\r\n  if(!isButler){\r\n      $($('#custom_menu_id li')[6]).remove()\r\n  }else{\r\n      $($('#custom_menu_id li a')[6]).attr(\"target\",\"_blank\");\r\n      // $($('#custom_menu_id li')[6]).remove() //Not yet live\r\n  }\r\n  // $('#kn-app-header').removeClass('fx-top-bar-josh-service-log')\r\n  // $('.kn-scenes.kn-section').removeClass('scene-fx-josh-service-log')\r\n}\r\n//scene_1417 Hide other views (used for linked page) in the CLOCK IN PAGE\r\n$(document).on(\"knack-scene-render.scene_1417\", function(event, scene) {\r\n  $('#view_3808').hide();\r\n  $('#view_3823').hide();\r\n  $('#view_3825').hide();\r\n});\r\n\r\n//view_3825 User Butler List hide\r\n$(document).on(\"knack-view-render.view_3825\", function(event, view, data) {\r\n  $('#view_3825').hide();\r\n});\r\n\r\n//view_3924 Display CLOCK IN PAGE DISPLAYED NAME\r\n$(document).on(\"knack-view-render.view_3924\", function(event, view, data) {\r\n  // $('.as_manager_name').html(Knack.session.user.values.field_6.first);\r\n});\r\n\r\n//view_3925\r\n$(document).on(\"knack-view-render.view_3925\", function(event, view, data) {\r\n  // console.log(data.length);\r\n  $('.as_number_of_service_today').html(data.length);\r\n  $('#view_3925').hide();\r\n});\r\n\r\n//view_3924 Clock in\r\nvar clockRunning = false;\r\n$(document).on(\"knack-view-render.view_3924\", function(event, view, data) {\r\n  // $('.kn-input-date_time').addClass('hideMe');\r\n  //   if(!clockRunning){\r\n  //     setInterval(() => {\r\n  //       if($('#as_time_now').length > 0 ){\r\n  //         var d = new Date();\r\n  //         //var n = d.toLocaleTimeString('en-US', { timeZone: 'America/New_York' });//EST\r\n  //         var n = d.toLocaleTimeString('en-US');\r\n  //         $('#as_time_now').html(n);\r\n  //         clockRunning = true;\r\n  //       }\r\n  //     }, 1000);\r\n  //   }\r\n\r\n  window.location.href = Knack.url_base + '#area-command-center/dashboards/'\r\n});\r\n//view_3956 AS Clock In Record For Today\r\n$(document).on(\"knack-view-render.view_3956\", function(event, view, data) {\r\n        //$('#view_3956').hide();\r\n    $('.kn-action-link').hide();\r\n      $('#view_3956 .kn-action-link').on(\"click\", function(){\r\n          //AS_isClockedIn = false;\r\n          // console.log(\"refreshing view_4193\")\r\n          Knack.views.view_4193.model.fetch();\r\n          ASclock = undefined;\r\n          $('#as_clock_status').remove();\r\n        })\r\n        $('.field_1176').hide(); $('.field_1190').hide();\r\n        if(data.length > 0 ){\r\n          var clockedInText = 'You are already clocked in at <br><span class=\"svClockIn\">' +data[0].field_1176+'</span>';\r\n          var newTxt = `<br><div><h3 class=\"kn-title\">Ready to Clock Out?</h3><hr><div>Have you verified that all services are completed and all Butlers have properly clocked out?</div></div>`;\r\n          var nt2 = `<div id=\"clock_out\"><p class=\"as-ready-out-main as-sub\">YES, I'M READY TO CLOCK OUT </p></div>`\r\n          $('.as_is_clocked_in').html(clockedInText + newTxt + nt2);\r\n        }\r\n    $('#clock_out').on('click', function(){\r\n        $('#clock_out').hide();\r\n          $('.kn-action-link').show();\r\n      })\r\n       \r\n});\r\n//view_3856 Butler Timeclock Details - click to view hide link popup if timeclock is 0\r\n$(document).on(\"knack-view-render.view_3856\", function(event, view, data) {\r\n  try{ \r\n  // console.log(data, 'view_3856');\r\n  $('#view_3856').attr('service-id', data.id)\r\n  $('#view_3856').attr('area-id', data.field_485_raw[0].id)\r\n  $('#view_3856').attr('com-id', data.field_54_raw[0].id)\r\n  data.field_809 === 0 ? $('#view_3856 .kn-details-link').hide() : $('#view_3856 .kn-details-link').show();}\r\n  catch(err){ console.log(err) }\r\n});\r\n\r\n//view_3958 Preservice Dashboard Service IDs\r\n$(document).on(\"knack-view-render.view_3958\", function(event, view, data) {\r\n  $('#view_3958').hide();\r\n});\r\n\r\n//view_3959  Preservice Dashboard New Butlers\r\n$(document).on(\"knack-view-render.view_3959\", function(event, view, data) {\r\n  $('#view_3959').hide();\r\n});\r\n\r\n//view_3960  Preservice Dashboard Support Tickets\r\n$(document).on(\"knack-view-render.view_3960\", function(event, view, data) {\r\n  $('#view_3960').hide();\r\n});\r\n\r\n\r\nvar serviceIDsharedViews = [\r\n'view_3850', 'view_4732', 'view_4760'\r\n]\r\n//view_3850 Review Service ID List Data Source (Service IDs > Area)\r\nserviceIDsharedViews.forEach((view_id, idx) => {\r\n$(document).on(\"knack-view-render.\"+view_id, function(event, view, data) {\r\n  console.log(\"review service id\", data);\r\n  $('.field_1025').hide(); $('.field_46').hide(); $('.field_121').hide();\r\n  $('.field_300').hide();\r\n  $('.field_359').hide(); $('.field_170').hide(); //realService Schedule Time\r\n  for (let i = 0; i < data.length; i++) {\r\n    var classService;\r\n    //if time started override have data > hide the original time started field\r\n    data[i].field_793 == '' ? $($('.field_793')[i]).hide() : $($('.field_122')[i]).hide() ;\r\n    data[i].field_1929 == '' ? $($('.field_1929')[i]).hide() : $($('.field_265')[i]).hide() ;\r\n    $('.as-show-edited').on('click', function(){\r\n      // console.log('test 2');\r\n    })\r\n    if(data[i].field_121 == 'Complete'){ classService = \"sv-pass\" }\r\n    else if(data[i].field_121 == 'Pending'){ classService = \"sv-fail\"; }\r\n    else{ classService = \"sv-not-reviewed\" }\r\n    if(data[i].field_1025 == \"\"){\r\n      $($('.as_service_id_pass_fail')[i]).html(\"Not Reviewed\").addClass(\"sv-not-reviewed\").addClass(\"sv-stats\");\r\n      $($('.as_edit_review')[i]).hide();\r\n      $($('.as_start_review')[i]).show();\r\n    }\r\n    if(data[i].field_1025 == \"Fail\"){ \r\n      $($('.as_service_id_pass_fail')[i]).html(\"Failed\").addClass(\"sv-fail\").addClass(\"sv-stats\");\r\n      $($('.as_edit_review')[i]).show();\r\n      $($('.as_start_review')[i]).hide();\r\n    }\r\n    if(data[i].field_1025 == \"Pass\"){ \r\n      $($('.as_service_id_pass_fail')[i]).html(\"Passed\").addClass(\"sv-pass\").addClass(\"sv-stats\"); \r\n      $($('.as_edit_review')[i]).show();\r\n      $($('.as_start_review')[i]).hide();\r\n    }\r\n    data[i].field_300 === 0 ? $($('.kn-list-item-container')[i]).find('.field_362').hide() : $($('.kn-list-item-container')[i]).find('.field_362').show();\r\n    if(data[i].field_121 != \"Complete\"){ $($('.as_edit_review')[i]).prop('disabled', true); $($('.as_start_review')[i]).prop('disabled', true); \r\n                                        $($('.as_edit_review')[i]).addClass('disabledButtons'); $($('.as_start_review')[i]).addClass('disabledButtons'); } \r\n    else{ $($('.as_edit_review')[i]).removeClass('disabledButtons'); $($('.as_start_review')[i]).removeClass('disabledButtons'); }\r\n\r\n    var serviceStatus =`<span class=\"as-service-status ${classService}\">Status: ` +data[i].field_121+`</span>`;\r\n    var serviceTimeDate = data[i].field_46 + ` - ` +data[i].field_170;\r\n    var radarLogsText =  data[i].field_360+ '/' +data[i].field_300;\r\n    $($($('.field_360')[i]).children('div')[1]).children('span').html(radarLogsText);\r\n    $($('.as-service-date-time')[i]).html(serviceStatus+' <br> '+serviceTimeDate);\r\n  }\r\n});\r\n})\r\n\r\n//CREATE CUSTOM ACCORDION LIST\r\nvar customAccor = [\r\n  {   //Edit Service ID\r\n      \"view_id\": \"view_4033\", //RICH TEXT - View ID where the accordion will be appended\r\n      \"accordions\": [ // This are the accordion details\r\n          {\r\n              'name': 'Edit Service ID',\r\n              'acc_view': 'view_4013', //View Id of the LIST to be appended to the Accordion List\r\n              'add_menu_view': '' //View ID of the Add Menu to be appended to the Accordion List\r\n          },{\r\n              'name': 'Compactor Logs',\r\n              'acc_view': 'view_4015',\r\n              'add_menu_view': 'view_4022'\r\n          },{\r\n              'name': 'RADAR Logs',\r\n              'acc_view': 'view_4016',\r\n              'add_menu_view': 'view_4025'\r\n          },{\r\n              'name': 'Resident Infractions',\r\n              'acc_view': 'view_4017',\r\n              'add_menu_view': 'view_4031'\r\n          },{\r\n              'name': 'Support Tickets',\r\n              'acc_view': 'view_4029',\r\n              'add_menu_view': ''\r\n          },\r\n          {\r\n              'name': 'Service Hazards',\r\n              'acc_view': 'view_4018',\r\n              'add_menu_view': 'view_4048'\r\n          },\r\n          {\r\n              'name': 'Butler Timeclock',\r\n              'acc_view': 'view_4200',\r\n              'add_menu_view': 'view_4201'\r\n          },\r\n      ]\r\n  },{   //View Service ID\r\n      \"view_id\": \"view_3996\", //RICH TEXT - View ID where the accordion will be appended\r\n      \"accordions\": [ // This are the accordion details\r\n          {\r\n              'name': 'Compactor Logs',\r\n              'acc_view': 'view_3997',\r\n              'add_menu_view': ''\r\n          },{\r\n              'name': 'RADAR Logs',\r\n              'acc_view': 'view_3999',\r\n              'add_menu_view': ''\r\n          },{\r\n              'name': 'Resident Infractions',\r\n              'acc_view': 'view_4001',\r\n              'add_menu_view': ''\r\n          },{\r\n             'name': 'Support Tickets',\r\n             'acc_view': 'view_4600',\r\n             'add_menu_view': ''\r\n          },\r\n          {\r\n              'name': 'Service Hazards',\r\n              'acc_view': 'view_4003',\r\n              'add_menu_view': ''\r\n          },\r\n          {\r\n              'name': 'Butler Timeclock',\r\n              'acc_view': 'view_4005',\r\n              'add_menu_view': ''\r\n          },{\r\n              'name': 'Service Notes',\r\n              'acc_view': 'view_4008',\r\n              'add_menu_view': ''\r\n          }\r\n      ]\r\n  },{   //Review Service ID Page\r\n      \"view_id\": \"view_3819\", //RICH TEXT - View ID where the accordion will be appended\r\n      \"accordions\": [ // This are the accordion details\r\n          {\r\n              'name': 'Compactor Logs',\r\n              'acc_view': 'view_3820',\r\n              'add_menu_view': ''\r\n          },{\r\n              'name': 'RADAR Logs',\r\n              'acc_view': 'view_3821',\r\n              'add_menu_view': ''\r\n          },{\r\n              'name': 'Resident Infractions',\r\n              'acc_view': 'view_3822',\r\n              'add_menu_view': ''\r\n          },{\r\n              'name': 'Service Hazards - new',\r\n              'acc_view': 'view_3841',\r\n              'add_menu_view': ''\r\n          },{\r\n              'name': 'Butler Timeclock',\r\n              'acc_view': 'view_3828',\r\n              'add_menu_view': ''\r\n          },{\r\n              'name': 'Support Tickets',\r\n              'acc_view': 'view_4599',\r\n              'add_menu_view': ''\r\n          },{\r\n              'name': 'Service Notes',\r\n              'acc_view': 'view_4235',\r\n              'add_menu_view': ''\r\n          }\r\n      ]\r\n  },{   //Communities & Contacts\r\n      \"view_id\": \"view_4136\", //RICH TEXT - View ID where the accordion will be appended\r\n      \"accordions\": [ // This are the accordion details\r\n          {\r\n              'name': 'Maintenance',\r\n              'acc_view': 'view_4130',\r\n              'add_menu_view': ''\r\n          },{\r\n              'name': 'Assigned Butlers',\r\n              'acc_view': 'view_4135',\r\n              'add_menu_view': ''\r\n          },{\r\n              'name': 'Community Manager',\r\n              'acc_view': 'view_4137',\r\n              'add_menu_view': ''\r\n          },{\r\n              'name': 'Access Code (OLD)',\r\n              'acc_view': 'view_4133',\r\n              'add_menu_view': ''\r\n          },{\r\n              'name': 'Access Code (New)',\r\n              'acc_view': 'view_4134',\r\n              'add_menu_view': ''\r\n          },{\r\n              'name': 'Emergency Procedures',\r\n              'acc_view': 'view_4139',\r\n              'add_menu_view': ''\r\n          }\r\n      ]\r\n  },{   //Community Units Details\r\n      \"view_id\": \"view_4250\", //RICH TEXT - View ID where the accordion will be appended\r\n      \"accordions\": [ // This are the accordion details\r\n          {\r\n              'name': 'RADAR Logs',\r\n              'acc_view': 'view_4247',\r\n              'add_menu_view': ''\r\n          },{\r\n              'name': 'Resident Infractions',\r\n              'acc_view': 'view_4248',\r\n              'add_menu_view': ''\r\n          },{\r\n              'name': 'Support Tickets',\r\n              'acc_view': 'view_4249',\r\n              'add_menu_view': ''\r\n          }\r\n      ]\r\n  },{   //My Profile Accordion\r\n          \"view_id\": \"view_4255\", //RICH TEXT - View ID where the accordion will be appended\r\n          \"accordions\": [ // This are the accordion details\r\n              {\r\n                  'name': 'My Area(s)',\r\n                  'acc_view': 'view_4646',\r\n                  'add_menu_view': ''\r\n              },{\r\n                  'name': 'My Communities',\r\n                  'acc_view': 'view_4239',\r\n                  'add_menu_view': ''\r\n              }\r\n          ]\r\n  },{   //Site Checklist Mobile - https://builder.sv.knack.com/apps/trashdash#pages/scene_1698\r\n          \"view_id\": \"view_4716\", //RICH TEXT - View ID where the accordion will be appended\r\n          \"accordions\": [ // This are the accordion details - Staff View \r\n              {\r\n                  'name': 'All Site Audits',\r\n                  'acc_view': 'view_4627',\r\n                  'add_menu_view': ''\r\n              },{\r\n                  'name': 'Communities With No Audits Last 30 Days',\r\n                  'acc_view': 'view_4717',\r\n                  'add_menu_view': ''\r\n              }\r\n          ]\r\n  },{   //Site Checklist Mobile - https://builder.sv.knack.com/apps/trashdash#pages/scene_1698\r\n          \"view_id\": \"view_4723\", //RICH TEXT - View ID where the accordion will be appended\r\n          \"accordions\": [ // This are the accordion details - FOQM View \r\n              {\r\n                  'name': 'All Site Audits',\r\n                  'acc_view': 'view_4853',\r\n                  'add_menu_view': ''\r\n              },{\r\n                  'name': 'Communities With No Audits Last 30 Days',\r\n                  'acc_view': 'view_4851',\r\n                  'add_menu_view': ''\r\n              }\r\n          ]\r\n  },{   //Site Checklist Mobile - https://builder.sv.knack.com/apps/trashdash#pages/scene_1698\r\n          \"view_id\": \"view_4724 \", //RICH TEXT - View ID where the accordion will be appended\r\n          \"accordions\": [ // This are the accordion details - TM View \r\n              {\r\n                  'name': 'All Site Audits',\r\n                  'acc_view': 'view_4713',\r\n                  'add_menu_view': ''\r\n              },{\r\n                  'name': 'Communities With No Audits Last 30 Days',\r\n                  'acc_view': 'view_4850',\r\n                  'add_menu_view': ''\r\n              }\r\n          ]\r\n  },{   //Site Checklist Mobile - https://builder.sv.knack.com/apps/trashdash#pages/scene_1698\r\n          \"view_id\": \"view_4725\", //RICH TEXT - View ID where the accordion will be appended\r\n          \"accordions\": [ // This are the accordion details - AS View \r\n              {\r\n                  'name': 'All Site Audits',\r\n                  'acc_view': 'view_4859',\r\n                  'add_menu_view': ''\r\n              },{\r\n                  'name': 'Communities With No Audits Last 30 Days',\r\n                  'acc_view': 'view_4852',\r\n                  'add_menu_view': ''\r\n              }\r\n          ]\r\n  },{   //Site Checklist Desktop - https://builder.sv.knack.com/apps/trashdash/pages/scene_1695\r\n          \"view_id\": \"view_4841\", //RICH TEXT - View ID where the accordion will be appended\r\n          \"accordions\": [ // This are the accordion details - Staff View\r\n              {\r\n                  'name': 'All Audits',\r\n                  'acc_view': 'view_4617',\r\n                  'add_menu_view': ''\r\n              },{\r\n                  'name': 'Communities With No Audits Last 30 Days',\r\n                  'acc_view': 'view_4837',\r\n                  'add_menu_view': ''\r\n              }\r\n          ]\r\n  },{   //Site Checklist Desktop - https://builder.sv.knack.com/apps/trashdash/pages/scene_1695\r\n          \"view_id\": \"view_4843\", //RICH TEXT - View ID where the accordion will be appended\r\n          \"accordions\": [ // This are the accordion details - TM View\r\n              {\r\n                  'name': 'All Audits',\r\n                  'acc_view': 'view_4656',\r\n                  'add_menu_view': ''\r\n              },{\r\n                  'name': 'Communities With No Audits Last 30 Days',\r\n                  'acc_view': 'view_4839',\r\n                  'add_menu_view': ''\r\n              }\r\n          ]\r\n  },{   //Site Checklist Desktop - https://builder.sv.knack.com/apps/trashdash/pages/scene_1695\r\n          \"view_id\": \"view_4844\", //RICH TEXT - View ID where the accordion will be appended\r\n          \"accordions\": [ // This are the accordion details - FOQM View\r\n              {\r\n                  'name': 'All Audits',\r\n                  'acc_view': 'view_4854',\r\n                  'add_menu_view': ''\r\n              },{\r\n                  'name': 'Communities With No Audits Last 30 Days',\r\n                  'acc_view': 'view_4838',\r\n                  'add_menu_view': ''\r\n              }\r\n          ]\r\n  },{   //Site Checklist Desktop - https://builder.sv.knack.com/apps/trashdash/pages/scene_1695\r\n          \"view_id\": \"view_4845\", //RICH TEXT - View ID where the accordion will be appended\r\n          \"accordions\": [ // This are the accordion details - AS View \r\n              {\r\n                  'name': 'All Audits',\r\n                  'acc_view': 'view_4857',\r\n                  'add_menu_view': ''\r\n              },{\r\n                  'name': 'Communities With No Audits Last 30 Days',\r\n                  'acc_view': 'view_4858',\r\n                  'add_menu_view': ''\r\n              }\r\n          ]\r\n  },{   //General Butler Audit Details - https://apps.sv.knack.com/trashdash#area-command-center/dashboards/view-all-workflow/my-butlers/butler-audit-details/617127bf229d70080cd2e91e/\r\n          \"view_id\": \"view_4915\", //RICH TEXT - View ID where the accordion will be appended\r\n          \"accordions\": [ // This are the accordion details - AS View \r\n              {\r\n                  'name': 'Butler Audit Logs',\r\n                  'acc_view': 'view_4913',\r\n                  'add_menu_view': ''\r\n              }\r\n          ]\r\n  },{   //Community Visit Logs - https://builder.sv.knack.com/apps/trashdash/pages/scene_1788/views/view_4919/rich_text\r\n          \"view_id\": \"view_4919\", //RICH TEXT - View ID where the accordion will be appended\r\n          \"accordions\": [ // This are the accordion details - AS View \r\n              {\r\n                  'name': 'Community Visit Logs',\r\n                  'acc_view': 'view_4918',\r\n                  'add_menu_view': ''\r\n              }\r\n          ]\r\n  },\r\n  // {   //Site Audit Details\r\n  //         \"view_id\": \"view_5257\", //RICH TEXT - View ID where the accordion will be appended\r\n  //         \"accordions\": [ // This are the accordion details - AS View \r\n  //             {\r\n  //                 'name': 'Butler Score Logs',\r\n  //                 'acc_view': 'view_4862',\r\n  //                 'add_menu_view': ''\r\n  //             }\r\n  //         ]\r\n  // }\r\n  // // ,{   //Site Audit Details\r\n  // //         \"view_id\": \"view_5256\", //RICH TEXT - View ID where the accordion will be appended\r\n  // //         \"accordions\": [ // This are the accordion details - AS View \r\n  // //             {\r\n  // //                 'name': 'Site Audit Notes',\r\n  // //                 'acc_view': 'view_4863',\r\n  // //                 'add_menu_view': ''\r\n  // //             }\r\n  // //         ]\r\n  // // }\r\n]\r\n\r\ncustomAccor.forEach((item, index) => {\r\n  var v_id = item.view_id;\r\n  $(document).on(\"knack-view-render.\" + v_id, function(event, view, date) {\r\n    \r\n    var accordion = '';\r\n    item.accordions.forEach((a, i) => {\r\n        var accViewID = a.acc_view +`_`+i;\r\n        var isOpen = '';\r\n        var maxH = '';\r\n        if( a.is_open ){ isOpen = 'as-active'; maxH = \"as-active-panel\" }\r\n        accordion = accordion +`<button class=\"as-accordion ${isOpen}\">${a.name}</button>\r\n                                    <div class=\"as-panel ${maxH}\">\r\n                                        <p id=\"${accViewID+'_menu'}\"></p>\r\n                    <p id=\"${accViewID+'_list'}\"></p>\r\n                                    </div>`;\r\n        //This add the list view to the Accordion\r\n        $(document).on(\"knack-view-render.\" + a.acc_view, function(event, view, date) {\r\n            //if(a[i].add_menu_view != '') { $('#'+a.acc_view + i).append($('#'+a.add_menu_view)) }\r\n            //This add the ADD MENU to the Accordion\r\n            if(a.add_menu_view != '') {\r\n              $(document).on(\"knack-view-render.\" + a.add_menu_view, function(event, view, date) {\r\n                  $('#'+accViewID+'_menu').append($('#'+a.add_menu_view)) })\r\n            }\r\n            $('#'+accViewID+'_list').append($('#'+a.acc_view)); \r\n        })\r\n    });\r\n      $('#'+item.view_id).append(accordion);\r\n      // responsiveAcc();\r\n      setTimeout(responsiveAcc, 2000)  \r\n  })                   \r\n})\r\n//END CREATE CUSTOM ACCORDION\r\n\r\nfunction responsiveAcc(){\r\n  var acc = document.getElementsByClassName(\"as-accordion\");\r\n  var i;\r\n  for (i = 0; i < acc.length; i++) {\r\n    acc[i].addEventListener(\"click\", function() {\r\n      // console.log(i)\r\n      this.classList.toggle(\"as-active\");\r\n      var panel = this.nextElementSibling;\r\n      if (panel.style.maxHeight) {\r\n        $( this ).next().removeClass('as-active-panel');\r\n        panel.style.maxHeight = null;\r\n        console.log(' xasdasdasd')\r\n      } else {\r\n        panel.style.maxHeight = panel.scrollHeight + 10 + \"px\";\r\n      }\r\n    });\r\n  }           \r\n}\r\n\r\n\r\n\r\n\r\n//NEW BUTLER SETUP - ASSIGN TO Service ID\r\n$(document).on('knack-form-submit.view_3833', function(event, view, data) {\r\n  Knack.showSpinner('Loading... Please, wait');\r\n// console.log(data);\r\n  //$('#view_3858-field_1803').val('').trigger(\"liszt:updated\");\r\n  for (let i = 0; i < data.field_1715_raw.length; i++) {\r\n  //   console.log(data.field_1715_raw[i].id)\r\n    getServiceId(data.field_1715_raw[i].id, data.id)\r\n  }\r\n  \r\n});\r\nfunction getServiceId(service_id, butler_id){\r\n  Knack.showSpinner('Getting Service ID Details');\r\n  return $.ajax({\r\n  type: 'GET',\r\n  headers: asHeader,\r\n  url: 'https://api.sv.knack.com/v1/objects/object_9/records/' +service_id,\r\n  success: function(data) {\r\n      // console.log(data, \"this is from the getServiceId return data\");\r\n      addButlerToService(service_id, data.field_55_raw, butler_id);\r\n}\r\n});\r\n}\r\nfunction addButlerToService(service_id, butlers, butler_id) {\r\nKnack.showSpinner('Assigning Butler to the Service');\r\n//   console.log(butlers, \"butlers\");\r\n//   console.log(service_id, \"service_id\");\r\n//   console.log(\"addButlerToCommunity\");\r\nvar newButlers = {\"id\": butler_id};\r\nbutlers.push(newButlers)\r\nreturn $.ajax({\r\n  type: 'PUT',\r\n  headers: asHeader,\r\n  url: 'https://api.sv.knack.com/v1/objects/object_9/records/'+service_id,\r\n  data: {\r\n      field_55: butlers\r\n  },\r\n  success: function(data) {\r\n      //console.log(data, \"this is from the addButlerToService return data\");\r\n      Knack.hideSpinner();\r\n      $('.close-modal').click();//added by Josh\r\n}\r\n});\r\n\r\n}\r\nfunction butlerDeets(data){\r\nif(data.length > 0){\r\n  for(var i = 0; i < data.length; i++){\r\n    if(data[i].field_37.length > 0) { //$($('.as_assigned_community')[i]).html('Currently Assigned to '+data[i].field_37_raw +' - '+data[i].field_475_raw) \r\n    }\r\n    else { $($('.as_assigned_community')[i]).html('Not Assigned To Any Community!') }\r\n  }\r\n}\r\n}\r\n//view_3831 New Butler Setup Butler's List\r\n$(document).on(\"knack-view-render.view_3831\", function(event, view, data) {\r\n  //console.log(data)\r\n butlerDeets(data);\r\n});\r\n// https://builder.sv.knack.com/apps/trashdash#pages/scene_1441\r\n$(document).on(\"knack-view-render.view_4735\", function(event, view, data) {\r\n  //console.log(data)\r\n butlerDeets(data);\r\n});\r\n\r\n//view_3968 New Butler Setup Butler's Details Community\r\n$(document).on(\"knack-view-render.view_3968\", function(event, view, data) {\r\n  // console.log(data)\r\n   $('#view_3968 section').attr('id', data.id)\r\n});\r\n//community_number view_3836\r\n//view_3836 Assign Community - New Butler Setup Community List https://builder.sv.knack.com/apps/trashdash/pages/scene_1451/views/view_3836/list\r\n$(document).on(\"knack-view-render.view_3836\", function(event, view, data) {\r\n//console.log(data);\r\nvar addedCommunitiesV = [];\r\n$('#view_3836 .kn-list-content').hide();\r\nvar myVar = setInterval(test, 100);\r\nfunction test(){\r\n    if( typeof( $('#view_3968 section').attr('id') ) != 'string' ){  }\r\n    else{\r\n       //console.log(typeof( $('#view_3968 section').attr('id') ), $('#view_3968 section').attr('id'))\r\n      for(var i = 0; i < data.length; i++){\r\n        var haveService;\r\n        var isCheck = '';\r\n        var butlerId = $('#view_3968 section').attr('id');\r\n        var butlersL = data[i].field_41_raw;\r\n        for (let j = 0; j < butlersL.length; j++) {\r\n          //console.log(butlersL[j].id, butlerId, butlersL[j].id == butlerId, \"butlersL == butlerId\")\r\n          if(butlersL[j].id == butlerId){ isCheck = 'checked'; addedCommunitiesV.push(data[i].id) }\r\n        }\r\n        if(data[i].field_141_raw === true){ haveService = `<i class=\"fa fa-check-circle\"></i> Have service Today` }else{ haveService = `<i class=\"fa fa-close\"></i> NO service Today`}\r\n        var communityAcc = `\r\n                      <input class=\"as-new-list\" type=\"checkbox\" id=`+data[i].id+` `+isCheck+`><button class=\"as-accordion\" style=\"width: 90%;\">  `+data[i].field_37+`</button>\r\n                      <div class=\"as-panel\">\r\n                        <div class=\"as_details\">\r\n                            <div class=\"kn-detail-label\">\r\n                                <p>Schedule Time: <span>`+data[i].field_44+`</span></p>\r\n                                <p>`+haveService+`</p>\r\n                <p>Assigned Butler:</p>\r\n                <p>`+data[i].field_41+`</p>\r\n                            </div>\r\n                        </div>\r\n                      </div>\r\n                    `;\r\n        $('#as_com_acc').append(communityAcc);\r\n      }\r\n      //console.log(\"addedCommunitiesV\")\r\n      $('.as-accordion').on('click', function(){\r\n        this.classList.toggle(\"as-active\");\r\n        var panel = this.nextElementSibling;\r\n        if (panel.style.maxHeight) {\r\n          panel.style.maxHeight = null;\r\n        } else {\r\n          panel.style.maxHeight = panel.scrollHeight + 10 + \"px\";\r\n        }\r\n      })\r\n      $('.as-new-list').on('click', function(){\r\n        var commId = $(this).attr(\"id\");\r\n        if (addedCommunitiesV.includes(commId) === false) { addedCommunitiesV.push(commId); }\r\n          else{ \r\n              for( var i = 0; i < addedCommunitiesV.length; i++){ \r\n                  if ( addedCommunitiesV[i] === commId) { \r\n                      addedCommunitiesV.splice(i, 1); \r\n                  }\r\n              }\r\n        }\r\n          $('#view_3832-field_1711').val(addedCommunitiesV).trigger(\"liszt:updated\");\r\n          //console.log(addedCommunitiesV, 'addedCommunitiesV')\r\n      })\r\n      clearInterval(myVar);\r\n    }\r\n}\r\n});\r\n//view_3833 Assign Service ID - New Butler Setup Form\r\n$(document).on(\"knack-view-render.view_3833\", function(event, view, data) {\r\n  //$('#view_3833 form ul').addClass('hideMe');\r\n  //$('.chzn-drop').addClass('hideMe')\r\n  //$('#view_3833-field_1715').val('').trigger(\"liszt:updated\");\r\n});\r\n//view_3973 New Butler Setup Butler's Details Service ID\r\n$(document).on(\"knack-view-render.view_3973\", function(event, view, data) {\r\n  //console.log(data)\r\n   $('#view_3973 section').attr('id', data.id)\r\n});\r\n//view_3855 Assign Service ID - New Butler Setup Service ID List\r\n$(document).on(\"knack-view-render.view_3855\", function(event, view, data) {\r\n  //console.log(data)\r\n  var addedServiceID = [];\r\n  if(data.length > 0){\r\n      var myVar = setInterval(checkButlerId, 100);\r\n      function checkButlerId(){\r\n          if( typeof( $('#view_3973 section').attr('id') ) != 'string'){  }\r\n          else{\r\n              $('#view_3855 .kn-list-content').hide();\r\n              $('#view_3966').hide();\r\n              $('#view_3833').show();\r\n              for(var i = 0; i < data.length; i++){\r\n                  var isCheck = '';\r\n          var butlerId = $('#view_3973 section').attr('id');\r\n                  var butlersL = data[i].field_55_raw;\r\n                  for (let j = 0; j < butlersL.length; j++) {\r\n                      //console.log(butlersL[j].id, butlerId, butlersL[j].id == butlerId, \"butlersL == butlerId\")\r\n                      if(butlersL[j].id == butlerId){ isCheck = 'checked'; addedServiceID.push(data[i].id) }\r\n                  }\r\n                  var title = data[i].field_95 + \" - \" +data[i].field_37_raw+ \" - \" +data[i].field_170;\r\n                  var communityAcc = `\r\n                      <input class=\"as-new-list\" type=\"checkbox\" id=`+data[i].id+` `+isCheck+`><button class=\"as-accordion\" style=\"width: 90%;\">  `+title+`</button>\r\n                      <div class=\"as-panel\">\r\n                          <div class=\"as_details\">\r\n                              <div class=\"kn-detail-label\">\r\n                                  <p><strong>Schedule Time:</strong> <span>`+data[i].field_170+`</span></p>\r\n                              </div>\r\n                              <div class=\"kn-detail-label\">\r\n                                  <p>Assigned Butlers:</p>\r\n                                  <div class=\"as_assigned_butlers\">`+data[i].field_55+`</div>\r\n                              </div>\r\n                          </div>\r\n                      </div>\r\n                      `;\r\n                  $('#as_service_acc').append(communityAcc);\r\n              }\r\n              $('.as-accordion').on('click', function(){\r\n                  this.classList.toggle(\"as-active\");\r\n                      var panel = this.nextElementSibling;\r\n                  if (panel.style.maxHeight) {\r\n                      panel.style.maxHeight = null;\r\n                  } else {\r\n                      panel.style.maxHeight = panel.scrollHeight + 10 + \"px\";\r\n                  }\r\n              })\r\n              \r\n              $('.as-new-list').on(\"click\", function(){\r\n              var serviceID = $(this).attr(\"id\");\r\n              // console.log(serviceID)\r\n              if (addedServiceID.includes(serviceID) === false) { addedServiceID.push(serviceID); }\r\n              else{ \r\n                  for( var i = 0; i < addedServiceID.length; i++){ \r\n                          if ( addedServiceID[i] === serviceID) { \r\n                              addedServiceID.splice(i, 1); \r\n                          }\r\n                      }\r\n                  }\r\n                  $('#view_3833-field_1715').val(addedServiceID).trigger(\"liszt:updated\");\r\n                  // console.log(addedServiceID)\r\n              });\r\n              clearInterval(myVar);\r\n          }\r\n      }\r\n  }\r\n  else{\r\n      $('#view_3855 .kn-list-content').show();\r\n      $('#view_3966').show();\r\n      $('#view_3833').hide();\r\n  }\r\n  var changeSelect = setInterval(addToSelect, 1000);\r\n  function addToSelect(){\r\n    if($('#view_3833-field_1715').length == 0){console.log(\"select id is loading\")}\r\n      else{\r\n          $('#view_3833-field_1715').val(addedServiceID).trigger(\"liszt:updated\");\r\n      console.log('addedServiceID', addedServiceID)\r\n        clearInterval(changeSelect);\r\n      }\r\n  }\r\n});\r\n\r\n//view_3898 Training Logs List\r\n$(document).on(\"knack-view-render.view_3916\", function(event, view, data) {\r\n  // console.log(\"Training Logs List\", data);\r\n  $('.field_1794').hide();\r\n  for (let i = 0; i < data.length; i++) {\r\n    if(data[i].field_1794 == \"\"){\r\n        $($('#view_3916 .as_training_stat')[i]).html(\"Pending Review\").addClass(\"sv-not-reviewed\").addClass(\"sv-stats\");\r\n          \r\n      }\r\n      else if(data[i].field_1794 == \"Flagged\"){ \r\n        $($('#view_3916 .as_training_stat')[i]).html(\"Flagged\").addClass(\"sv-fail\").addClass(\"sv-stats\");\r\n        \r\n      }\r\n      else{ \r\n        $($('#view_3916 .as_training_stat')[i]).html(\"Passed\").addClass(\"sv-pass\").addClass(\"sv-stats\"); \r\n      }\r\n  }\r\n});\r\n//view_3974 Training Logs List Accounts connected to this Area\r\n$(document).on(\"knack-view-render.view_3974\", function(event, view, data) {\r\n  // console.log(\"Training Logs List\", data);\r\n  $('.field_1794').hide();\r\n  for (let i = 0; i < data.length; i++) {\r\n    if(data[i].field_1794 == \"\"){\r\n        $($('#view_3974 .as_training_stat')[i]).html(\"Pending Review\").addClass(\"sv-not-reviewed\").addClass(\"sv-stats\");\r\n          \r\n      }\r\n      else if(data[i].field_1794 == \"Flagged\"){ \r\n        $($('#view_3974 .as_training_stat')[i]).html(\"Flagged\").addClass(\"sv-fail\").addClass(\"sv-stats\");\r\n        \r\n      }\r\n      else{ \r\n        $($('#view_3974 .as_training_stat')[i]).html(\"Passed\").addClass(\"sv-pass\").addClass(\"sv-stats\"); \r\n      }\r\n  }\r\n});\r\n//Training Grade Modal\r\n$(document).on(\"knack-view-render.view_3922\", function(event, view, data) {\r\n//   console.log(data)\r\n  $('.field_1187').hide();\r\n  if(data.length > 0){\r\n    for (let i = 0; i < data.length; i++) {\r\n        if(data[i].field_1187_raw > .66){\r\n            $($('.as_training_grade')[i]).html(\"Pass\").addClass(\"sv-pass\").addClass(\"sv-stats\");\r\n        }\r\n       \r\n        else{ \r\n          $($('.as_training_grade')[i]).html(\"Failed\").addClass(\"sv-fail\").addClass(\"sv-stats\"); \r\n        }\r\n    }\r\n  }\r\n});\r\n\r\n//Service Assignment Section\r\n$(document).on(\"knack-view-render.view_3944\", function(event, view, data) {\r\n  $('#view_3944 .kn-list-item-container section .kn-detail-body').addClass('as-accordion');\r\n  var addedButler = [];\r\n  $('#view_3944 .kn-list-item-container section .kn-detail-body').on(\"click\", function(){\r\n      this.classList.toggle(\"as-active\");\r\n      var commId = $($(this).parents()[6]).attr('id')\r\n    if (addedButler.includes(commId) === false) { addedButler.push(commId); }\r\n      else{ \r\n          for( var i = 0; i < addedButler.length; i++){ \r\n              if ( addedButler[i] === commId) { \r\n                  addedButler.splice(i, 1); \r\n             }\r\n          }\r\n      }\r\n      $('#view_3838-field_55').val(addedButler).trigger(\"liszt:updated\");\r\n  })\r\n});\r\n//Edit Service ID view_3993\r\n$(document).on(\"knack-view-render.view_3993\", function(event, view, data) {\r\n  $('#view_3993 .kn-list-item-container section .kn-detail-body').addClass('as-accordion');\r\n  var addedButler = [];\r\n  $('#view_3993 .kn-list-item-container section .kn-detail-body').on(\"click\", function(){\r\n      this.classList.toggle(\"as-active\");\r\n      var commId = $($(this).parents()[6]).attr('id')\r\n    if (addedButler.includes(commId) === false) { addedButler.push(commId); }\r\n      else{ \r\n          for( var i = 0; i < addedButler.length; i++){ \r\n              if ( addedButler[i] === commId) { \r\n                  addedButler.splice(i, 1); \r\n             }\r\n          }\r\n      }\r\n      $('#view_3838-field_55').val(addedButler).trigger(\"liszt:updated\");\r\n  })\r\n});\r\n\r\n//view_3957\r\n$(document).on(\"knack-view-render.view_3957\", function(event, view, data) {\r\n  //console.log(data);\r\n});\r\n\r\n//view_3861 Support Tickets \r\n$(document).on(\"knack-view-render.view_3861\", function(event, view, data) {\r\n  // console.log(data);\r\n  $('.field_306').hide();\r\n  $('.field_313').hide(); $('.kn-details-link').show();\r\n  $('.field_308').hide(); $('.field_1654').hide();\r\n  $('.field_303').hide();\r\n  $('.field_309').hide();\r\n  for (let i = 0; i < data.length; ++i) {\r\n    var ticketDetails = `<p><span class=\"as_ticket_number\">Ticket #: ` + data[i].field_313 +` </span> <span class=\"as_ticket_status\">Status: `+data[i].field_308+`</span></p>\r\n             <p><span class=\"as_ticket_reason\">`+data[i].field_306+`</span></p>\r\n             <p>Submitted by `+data[i].field_303+ ` `+data[i].field_309;+`</p>`\r\n    $($('.ticket-details')[i]).html(ticketDetails);\r\n    if(data[i].field_308_raw == \"Closed\"){ $($('.as_ticket_status')[i]).addClass('statclosed'); $($('.as_ticket_reason')[i]).addClass('statclosed'); }\r\n    if(data[i].field_308_raw == \"Open\"){ $($('.as_ticket_status')[i]).addClass('statopen') ; $($('.as_ticket_reason')[i]).addClass('statopen') };\r\n    if(data[i].field_308_raw == \"Pending\"){ $($('.as_ticket_status')[i]).addClass('statpending') ; $($('.as_ticket_reason')[i]).addClass('statpending'); }\r\n    //\r\n    //if(data[i].field_306 != 'Resident Complaint / Request RADAR' && data[i].field_306 != 'Customer Complaint / Request Radar' || data[i].field_1654_raw === false){\r\n    if(data[i].field_306 != 'Resident Complaint / Request RADAR' && data[i].field_306 != 'Customer Complaint / Request Radar'){ \r\n      $($($('.as-active-radar')[i]).parents()[6]).hide()\r\n    } //hide Activate RADAR if not Request RADAR AND not a complaint\r\n}\r\n});\r\n\r\n////////////////////////IN Service\r\n//Menu\r\nvar currentLateCount = 0;\r\nfunction computeLate(data){\r\nvar lateArray = [];\r\nfunction getTimezone(i){\r\n  if(data[i].field_171 == 0){ return 'America/Toronto' }\r\n  else if(data[i].field_171 == 1){ return 'America/Chicago' }\r\n  else if(data[i].field_171 == 2){ return 'America/Denver' }\r\n  else if(data[i].field_171 == 3){ return 'America/Los_Angeles' }\r\n  else{ return 'EST' }\r\n}\r\n\r\nfor (let i = 0; i < data.length; ++i) {\r\n  var time = new Date();\r\n  var timeNow = time.toLocaleString('en-US', {timeZone: getTimezone(i)});\r\n  timeNow = timeNow.split(\",\").join(\"\");\r\n  var schedTime = data[i].field_170_raw.hours +':' +data[i].field_170_raw.minutes +' '+ data[i].field_170_raw.am_pm;\r\n  var timeStart = new Date(data[i].field_46+ \" \"+ schedTime);\r\n  var timeEnd = new Date(timeNow);\r\n  var diff;\r\n  diff = (timeEnd - timeStart)/ 60000\r\n  var minutes = diff % 60;\r\n  var hours = ( (diff - minutes) / 60 );\r\n  minutes = parseInt(minutes)\r\n  var lateMin = minutes - 15\r\n  if(hours <= 0){\r\n      if(minutes <= 0 || minutes < 15){\r\n      }\r\n      else if(30 >= minutes >= 15){\r\n        lateArray.push(i)\r\n      }else{\r\n        lateArray.push(i);\r\n      }\r\n    }else{\r\n      lateArray.push(i)\r\n    }\r\n}\r\nreturn lateArray.length;\r\n}\r\n//view_4069 Late Service Count Table\r\n$(document).on('knack-view-render.view_4069', function(event, view, data) {\r\n//var lateNumbers = data.length;\r\n//as_lateNotif(data)\r\n});\r\n\r\nfunction as_lateNotif(data){\r\nvar lateNumbers = computeLate(data);\r\n//console.log(data, \"view_4069\", lateNumbers)\r\nvar myVar = setInterval(myTimer, 30000);\r\nfunction myTimer() {\r\n  if($('#view_4051').length > 0){\r\n    $($('.as-late-service-count')[0]).html(lateNumbers);\r\n    clearInterval(myVar);\r\n  }else{\r\n  }\r\n}\r\nif(lateNumbers > 0){ showLateNotif(); sendSMSlateNotif(data) } else { $($('.as-late-service-count')[0]).attr('style', 'background-color: #7ac144')}\r\nfunction showLateNotif(){\r\n  var lateNotifText = `<div id=\"as_late_notif\"><p><span class=\"as-late-service-notif\">`+lateNumbers+`</span> Service(s) Are Currently Late </p>\r\n<p><a href=\"https://apps.sv.knack.com/trashdash#area-command-center/dashboards/in-service-dashboard/late-services/\">Click Here to Review</a></p>`\r\n  //$($('.as-late-service-notif')[0]).html(lateNumbers);\r\n  var viewsToShow = $('#view_4069').length > 0;\r\n\r\n  if($('#as_late_notif').length){\r\n    $($('.as-late-service-notif')[0]).html(lateNumbers)\r\n  }else{\r\n    $('body').append(lateNotifText);\r\n  } \r\n}\r\nif(lateNumbers > currentLateCount){ $('#as_late_notif').show() }\r\ncurrentLateCount = lateNumbers;\r\n//<span id=\"close_late_notif\"><i class=\"fa fa-close\"></i></span>\r\n$('#close_late_notif').on('click', function(){\r\n  $('#as_late_notif').hide()\r\n});\r\n$('#as_late_notif a').on('click', function(){\r\n  //$('#as_late_notif').hide();\r\n})\r\n}\r\n\r\nfunction sendSMSlateNotif(data){\r\n  // console.log(data, 'sendSMSlateNotif')\r\n  // for (let i = 0; i < data.length; ++i) {\r\n  //     if(data[i].field_2777 == 'No'){\r\n  //         KnackViewApi.UpdateObject('scene_1879', 'view_5155', data[i].id).then((res) => {\r\n  //             console.log('sendSMSlateNotif View Bsed API test', res)\r\n  //         });\r\n  //     }\r\n  // }\r\n}\r\n\r\n//view_4070\r\n$(document).on('knack-view-render.view_4070', function(event, view, data) {\r\n  if(getLateServicesLoaded === false){\r\n    //Interval for the Late Services Notifications\r\n    var myVar = setInterval(refreshInterval, 30000);\r\n    function refreshInterval(){\r\n      Knack.views.view_4069.model.fetch();\r\n      $('#close_late_notif').on('click', function(){\r\n        $('#as_late_notif').hide()\r\n      });\r\n    }\r\n  }\r\n  getLateServicesLoaded = true;\r\n})\r\nvar myButlerList;\r\nfunction getMyButlers(){\r\nreturn $.ajax({\r\n  type: 'GET',\r\n  headers: asHeader,\r\n  url: 'https://api.sv.knack.com/v1/pages/scene_1531/views/view_4141/records/',\r\n  success: function(data) {\r\n    //console.log('getMyButlers', data);\r\n    myButlerList = data.records;\r\n    //console.log(myButlerList, \"myButlerList\")\r\n  }\r\n});\r\n}\r\n\r\n//view_4052 ORIGINAL LATE SERVICES\r\n$(document).on(\"knack-view-render.view_4052\", function(event, view, data) {\r\n  //getMyButlers();\r\n  $('#view_4052 .kn-records-nav').hide()\r\n  $('#view_4052 form').hide();\r\n  $('.field_121').hide(); $('.field_121').next().hide(); $('.field_171').hide();\r\n  $('.field_170').hide(); $('.field_46').hide();\r\n  $('.field_276').hide(); $('.field_16').hide();\r\n\r\n  \r\n  var lateArray = [];\r\n  function getTimezone(i){\r\n    if(data[i].field_171 == 0){ return 'America/Toronto' }\r\n    else if(data[i].field_171 == 1){ return 'America/Chicago' }\r\n    else if(data[i].field_171 == 2){ return 'America/Denver' }\r\n    else if(data[i].field_171 == 3){ return 'America/Los_Angeles' }\r\n    else{ return 'America/Toronto' }\r\n  }\r\n  \r\n  for (let i = 0; i < data.length; ++i) {\r\n    var time = new Date();\r\n    var timeNow = time.toLocaleString('en-US', {timeZone: getTimezone(i)});\r\n    timeNow = timeNow.split(\",\").join(\"\");\r\n    var timeZone = getTimezone(i)\r\n    var schedTime = data[i].field_170_raw.hours +':' +data[i].field_170_raw.minutes +' '+ data[i].field_170_raw.am_pm;\r\n    var timeStart = new Date(data[i].field_46+ \" \"+ schedTime);\r\n    var timeEnd = new Date(timeNow);\r\n    var diff;\r\n    diff = (timeEnd - timeStart)/ 60000\r\n    var minutes = diff % 60;\r\n    var hours = ( (diff - minutes) / 60 );\r\n    minutes = parseInt(minutes)\r\n    var lateTimeDetails;\r\n    if(hours <= 0){\r\n      if(minutes < 15){\r\n        $($('.kn-list-item-container')[i]).hide();\r\n      }\r\n      else if(30 >= minutes >= 15){\r\n        lateTimeDetails = `<p>${minutes - 15} minute(s) late</p>`;\r\n        lateArray.push(i)\r\n      }else{\r\n        lateTimeDetails = `<p>+15 minutes late</p>`;\r\n        lateArray.push(i);\r\n      }\r\n    }else{\r\n      lateTimeDetails = `+15 minutes late`;\r\n      lateArray.push(i)\r\n    }\r\n    var schedAtText = `Scheduled At `+data[i].field_170+ ` - #` +data[i].field_95;\r\n    $($('.sv-sched-at')[i]).append(schedAtText)\r\n    $($('.as_late_service_clock')[i]).append(`<span>`+lateTimeDetails+`</span>`)\r\n    //addButlerDeetails();\r\n    const waitForButlerList = setInterval(loadButlerDetails, 500);\r\n    function loadButlerDetails(){\r\n      if(myButlerList){\r\n          setTimeout(addButlerDeetails, 500);\r\n          clearInterval(waitForButlerList);\r\n      }\r\n    }\r\n    function addButlerDeetails(){\r\n\r\n      if(data[i].field_16 != ''){\r\n          var butlerList = data[i].field_55_raw;\r\n          //console.log(butlerList, \"butlerList\")\r\n          var bNumber, noNum;\r\n          for(let j = 0; j < butlerList.length; ++j){\r\n              \r\n              for(let k = 0; k < myButlerList.length; ++k){\r\n                  if(myButlerList[k].field_276 != ''){ bNumber = myButlerList[k].field_276_raw.full; noNum = '' } else { noNum = `no-number`; }\r\n                  function getButlerNumber(tag){\r\n                   return bNumber;\r\n                  }\r\n                  if(butlerList[j].id === myButlerList[k].id){\r\n                      var nameAndNumber = `<div class=\"butler-contacts\"><span class=\"sv-as-name\">`+butlerList[j].identifier+`</span>\r\n                      <span class=\"sv-as-number\"><a href=\"tel:`+getButlerNumber(k)+`\"><i class=\"fa fa-phone `+noNum+`\"></i></a></span>\r\n                      <span class=\"sv-as-message\"><a href=\"sms:`+getButlerNumber(k)+`\"><i class=\"fa fa-comment `+noNum+`\"></i></a></span>\r\n                      </div>`;\r\n                      $($('.as_late_service_details')[i]).append(nameAndNumber);\r\n                  \r\n                  }\r\n              \r\n              }\r\n              \r\n          }\r\n      }\r\n    }\r\n  }\r\n  $($('.sv-as-number-of-late-service')[0]).html(lateArray.length+' Late Service(s)') \r\n});\r\n\r\n\r\nvar refreshLateListServices_MainPage = false;\r\n$(document).on(\"knack-view-render.view_4068\", function(event, view, data) {\r\n  //console.log(\"view is loaded\")\r\nvar intervalLoadView = setInterval(waitList, 1000);\r\n  function waitList() {\r\n    if($('#view_4052').length > 0){\r\n      refreshLateList();\r\n      clearInterval(intervalLoadView);\r\n    }else{console.log(\"loading list\")}\r\n  }\r\n  function refreshLateList(){\r\n    if(refreshLateListServices_MainPage === false){\r\n      refreshLateListServices_MainPage = true;\r\n      //This is the interval where the LATE Services Main Page is refresh\r\n    var listInterval = setInterval(refreshList, 900000);\r\n      function refreshList(){\r\n          //console.log(\"refreshing table\")\r\n        Knack.views.view_4052.model.fetch();\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\n//view_4077 Community AUdit Add Photo Form\r\n$(document).on(\"knack-view-render.view_4077\", function(event, view, data) {\r\n  //$($('.kn-button')[1]).html('Submit Final Audit');\r\n});\r\n\r\n//Refresh View - Close Modal\r\n//List of Modal that will close when successfully submitted\r\nvar modalList = [\r\n  {   //Edit Butler Profile\r\n      form_id: 'view_3834',\r\n      refresh: 'view_3831',\r\n      closeModal: true\r\n  },{   //Butler Service Notes\r\n      form_id: 'view_3839',\r\n      refresh: 'view_3837',\r\n      closeModal: true\r\n  },{   //Add Change Butler\r\n      form_id: 'view_3992',\r\n      refresh: 'view_3837',\r\n      closeModal: true\r\n  },{   //Approve Training\r\n      form_id: 'view_3918',\r\n      refresh: 'view_3916',\r\n      closeModal: true\r\n  },{   //Flagged Training\r\n      form_id: 'view_3919',\r\n      refresh: 'view_3916',\r\n      closeModal: true\r\n  },{   //Edit Radar Log\r\n      form_id: 'view_4039',\r\n      refresh: 'view_4016',\r\n      closeModal: true\r\n  },{   //Edit Resident Infractions\r\n      form_id: 'view_4036',\r\n      refresh: 'view_4017',\r\n      closeModal: true\r\n  },\r\n  {   //Add Compactor Logs\r\n      form_id: 'view_4041',\r\n      refresh: 'view_4015',\r\n      closeModal: true\r\n  },{   //Edit Support Ticket\r\n      form_id: 'view_4037',\r\n      refresh: 'view_4029',\r\n      closeModal: true\r\n  },{//view_4040 ADd Radar Log\r\n    form_id: 'view_4040',\r\n      refresh: 'view_4016',\r\n      closeModal: true\r\n  },\r\n   //NEW\r\n  {   //Edit RADAR Photos\r\n    form_id: 'view_4098',\r\n    refresh: 'view_4097',\r\n    closeModal: true\r\n  },{   //Edit RADAR Logs\r\n    form_id: 'view_4039',\r\n    refresh: 'view_4097',\r\n    closeModal: true\r\n  },{   //Edit Resident Infraction Photo\r\n    form_id: 'view_4146',\r\n    refresh: 'view_4112',\r\n    closeModal: true\r\n  },{   //Edit Butler Profile\r\n    form_id: 'view_4036',\r\n    refresh: 'view_4112',\r\n    closeModal: true\r\n  },{   //Edit Compactor Logs\r\n    form_id: 'view_4035',\r\n    refresh: 'view_4113',\r\n    closeModal: true\r\n  },{   //Edit Butler Timeclock\r\n    form_id: 'view_4120',\r\n    refresh: 'view_4118',\r\n    closeModal: true\r\n  },{   //Edit Butler Profile\r\n    form_id: 'view_3932',\r\n    refresh: 'view_4118',\r\n    closeModal: true\r\n  },{   //Add RADAR Logs\r\n    form_id: 'view_4117',\r\n    refresh: 'view_4097',\r\n    closeModal: true\r\n  },{   //Add RADAR Logs\r\n    form_id: 'view_4117',\r\n    refresh: 'view_4097',\r\n    closeModal: true\r\n  },{   //Add Infraction\r\n    form_id: 'view_4165',\r\n    refresh: 'view_4112',\r\n    closeModal: true\r\n  },{   //Add Compactor\r\n    form_id: 'view_4158',\r\n    refresh: 'view_4113',\r\n    closeModal: true\r\n  },{   //Change Butler\r\n    form_id: 'view_3992',\r\n    refresh: 'view_4052',\r\n    closeModal: true\r\n  },{\r\n    form_id: 'view_4158',\r\n    refresh: 'view_4079',\r\n    closeModal: true\r\n  },{//Add Change Butler Community/ Update Butler Assignment\r\n    form_id: 'view_4123',\r\n    refresh: 'view_4122',\r\n    closeModal: true\r\n  },{//Add Butler Timeclock\r\n    form_id: 'view_4150',\r\n    refresh: 'view_4118',\r\n    closeModal: true\r\n  },{//Add Service Today\r\n    form_id: 'view_4129',\r\n    refresh: 'view_4122',\r\n    closeModal: true\r\n  // },{//Add Service Today\r\n  //   form_id: 'view_4050',\r\n  //   refresh: 'view_4018',\r\n  //   closeModal: false\r\n  },{//Review Training - Approve\r\n    form_id: 'view_3918',\r\n    refresh: 'view_3916',\r\n    closeModal: true\r\n  },{//Add Resident Infractions\r\n    form_id: 'view_4042',\r\n    refresh: 'view_4017',\r\n    closeModal: true\r\n  },{//Activate RADAR\r\n    form_id: 'view_4245',\r\n    refresh: 'view_4242',\r\n    closeModal: true\r\n  },{//Edit My Profile\r\n    form_id: 'view_4254',\r\n    refresh: 'view_4253',\r\n    closeModal: true\r\n  },{//Quick Ratings\r\n    form_id: 'view_3568',\r\n    refresh: 'view_3374',\r\n    closeModal: true\r\n  },{//Community Audit Photos- https://builder.sv.knack.com/apps/trashdash/pages/scene_1704\r\n    form_id: 'view_4815',\r\n    refresh: 'view_4877',\r\n    closeModal: false\r\n  },{\r\n    form_id: 'view_4779',\r\n    refresh: 'view_4118',\r\n    closeModal: true\r\n  }\r\n  // {//Popup\r\n  //   form_id: 'view_3568',\r\n  //   refresh: 'view_3473'\r\n  // }\r\n  // {//Community Audit\r\n  //   form_id: 'view_5002',\r\n  //   refresh: 'view_4798'\r\n  // },\r\n  // {//Community Audit\r\n  //   form_id: 'view_5004',\r\n  //   refresh: 'view_4806'\r\n  // },\r\n  // {//Community Audit\r\n  //   form_id: 'view_5005',\r\n  //   refresh: 'view_4802'\r\n  // }\r\n  // Community Audit\r\n  ,{\r\n    form_id: 'view_5254',\r\n    refresh: 'view_5268',\r\n    closeModal: true\r\n  }\r\n  ,{\r\n    form_id: 'view_5254',\r\n    refresh: 'view_4708',\r\n    closeModal: true\r\n  }\r\n  ,{\r\n    form_id: 'view_5205',\r\n    refresh: 'view_5204',\r\n    closeModal: true\r\n  },\r\n  {\r\n    form_id: 'view_3832', //scene_1451 Assign First Day Butler\r\n    refresh: 'view_4735',\r\n    closeModal: true\r\n  },\r\n  {\r\n    form_id: 'view_5222', //scene_1897\" Add New template\r\n    refresh: 'view_5210',\r\n    closeModal: true\r\n  },\r\n  {\r\n    form_id: 'view_5214', //scene_1897\" Create New Popup Schedule\r\n    refresh: 'view_5215',\r\n    closeModal: true\r\n  }\r\n]\r\nfor (let i = 0; i < modalList.length; i++) {\r\n$(document).on('knack-form-submit.'+modalList[i].form_id, function(event, view, record) {\r\n  if( $('#'+modalList[i].refresh).length > 0){\r\n      console.log($('#'+modalList[i].refresh).length, \"refreshing\", modalList[i].form_id)\r\n      Knack.views[modalList[i].refresh].model.fetch()\r\n      setTimeout(function(){ $($('.as-panel')[i]).prev().click(); }, 2000);\r\n      if( modalList[i].closeModal ){ $('.close-modal').click(); }\r\n      if($('.as-panel').length > 0){\r\n          for (let i = 0; i < $('.as-panel').length; i++) {\r\n              if($($('.as-panel')[i]).attr('style')){  \r\n              $($('.as-panel')[i]).removeAttr('style'); \r\n              setTimeout(function(){ $($('.as-panel')[i]).prev().click(); }, 700);\r\n              \r\n              }\r\n        }\r\n      }\r\n  }\r\n});\r\n}\r\n//End Refresh List when Form is Submitted\r\n\r\nfunction getServiceLogsAS(serviceFilter, j) {\r\nreturn $.ajax({\r\n  type: 'GET',\r\n  headers: asHeader,\r\n  url: 'https://api.sv.knack.com/v1/objects/object_16/records?filters=' + encodeURIComponent(JSON.stringify(serviceFilter)),\r\n  success: function(data) {\r\n        \r\n        var types = data.records;\r\n        if(types.length > 0){\r\n            //console.log(types, \"types\")\r\n            for (let i = 0; i < types.length; i++) {\r\n              //console.log(i, \"iii\", types)\r\n              var details = `<p>Uploaded By: <span class=\"\">`+types[i].field_102+`</span>\r\n                <a class=\"kn-img-gallery\" href=\"#\" style=\"display: inline-block\">\r\n                                  <div class=\"nailthumb-container\">\r\n                                      <span class=\"\">\r\n                                          <img data-kn-img-gallery=`+types[i].field_607_raw+` src=`+types[i].field_607_raw+`;>\r\n                                      </span>\r\n                                  </div>\r\n                                 </a></p>\r\n               `\r\n      //var butler = `<p>Uploaded By: <span class=\"\">`+types[i].field_102_raw[0].identifier+`</span></p>`;\r\n             \r\n              if(types[i].field_98 == 'Compactor Before (Resident Access)'){\r\n                  //$($('#view_4079 .as-compactor-before-resident .as-warning')[j]).hide();\r\n                //$($('#view_4079 .as-compactor-before-resident')[j]).append(details)\r\n                  $($('.as-compactor-before-resident .as-warning')[j]).hide();\r\n                $($('.as-compactor-before-resident')[j]).append(details)\r\n              }\r\n              // else if(types[i].field_98 == 'Compactor Before (Maintenance Access)'){\r\n              //   \t//$($('#view_4079 .as-compactor-before-maintenance .as-warning')[j]).hide();\r\n              // \t//$($('#view_4079 .as-compactor-before-maintenance')[j]).append(details)\r\n              //   \t$($('.as-compactor-before-maintenance .as-warning')[j]).hide();\r\n              // \t$($('.as-compactor-before-maintenance')[j]).append(details)\r\n              // }\r\n              // else if(types[i].field_98 == 'Compactor After (Resident Access)'){\r\n              //   \t//$($('#view_4079 .as-compactor-after-resident .as-warning')[j]).hide();\r\n              // \t//$($('#view_4079 .as-compactor-after-resident')[j]).append(details)\r\n              //   \t//$($('.as-compactor-after-resident')[j]).parent().show();\r\n              //   // \t$($('.as-compactor-after-resident .as-warning')[j]).hide();\r\n              // \t// $($('.as-compactor-after-resident')[j]).append(details)\r\n              // }\r\n              // else if(types[i].field_98 == 'Compactor After (Maintenance Access)'){\r\n              //   \t//$($('#view_4079 .as-compactor-after-maintenance .as-warning')[j]).hide();\r\n              // \t//$($('#view_4079 .as-compactor-after-maintenance')[j]).append(details)\r\n              //   \t//$($('.as-compactor-after-maintenance .as-warning')[j]).parent().show();\r\n              //   \t//$($('.as-compactor-after-maintenance .as-warning')[j]).hide();\r\n              // \t//$($('.as-compactor-after-maintenance')[j]).append(details)\r\n              // }\r\n              // else if(types[i].field_98 == 'Compactor After'){//////////////////////////////////\r\n              //   \t//$($('#view_4079 .as-compactor-after .as-warning')[j]).hide();\r\n              // \t//$($('#view_4079 .as-compactor-after')[j]).append(details)\r\n              //   \t//$($('.as-compactor-after .as-warning')[j]).parent().show();\r\n              //   \t//$($('.as-compactor-after .as-warning')[j]).hide();\r\n              // \t//$($('.as-compactor-after')[j]).append(details)\r\n              // }\r\n              // else if(types[i].field_98 == 'Compactor Before'){\r\n              //   \t//$($('#view_4079 .as-compactor-before .as-warning')[j]).hide();\r\n              // \t//$($('#view_4079 .as-compactor-before')[j]).append(details)\r\n              //   \t$($('.as-compactor-before .as-warning')[j]).hide();\r\n              // \t$($('.as-compactor-before')[j]).append(details)\r\n              // }\r\n              // else if(types[i].field_98 == 'Compactor After (Inside Area)'){\r\n              //   \t//$($('#view_4079 .as-compactor-after-inside .as-warning')[j]).hide();\r\n              // \t//$($('#view_4079 .as-compactor-after-inside')[j]).append(details);\r\n              //   \t//$($('.as-compactor-after-inside')[j]).parent().show();\r\n              //   \t//$($('.as-compactor-after-inside .as-warning')[j]).hide();\r\n              // \t//$($('.as-compactor-after-inside')[j]).append(details)\r\n              // }\r\n              // else if(types[i].field_98 == 'Compactor Before (Inside Area)'){\r\n              //   \t//$($('#view_4079 .as-compactor-before-inside .as-warning')[j]).hide();\r\n              // \t//$($('#view_4079 .as-compactor-before-inside')[j]).append(details);\r\n              //   \t$($('.as-compactor-after-inside .as-warning')[j]).hide();\r\n              // \t$($('.as-compactor-after-inside')[j]).append(details)\r\n              // }\r\n            }\r\n      }\r\n      }\r\n});\r\n}\r\n\r\n// ACC Custom Record Number List Major List View\r\nvar customRecordNumberArray = [\r\n  { 'v_id': 'view_4079' }, //Verify Compactor Log \r\n  { 'v_id': 'view_4732' }, //Today Service\r\n  { 'v_id': 'view_3916' }, //Review Training Log\r\n  { 'v_id': 'view_4760' }, //All Service Ids\r\n  { 'v_id': 'view_3850' }, //Review Service IDs\r\n  { 'v_id': 'view_4735' }, //New Butlers\r\n  { 'v_id': 'view_3837' }, //Manage Service Assignment **\r\n  { 'v_id': 'view_3861' }, //Manage Support Ticket **\r\n  { 'v_id': 'view_4097' }, //Radar Logs\r\n  { 'v_id': 'view_4112' }, //Resident Infraction\r\n  { 'v_id': 'view_4113' }, //Compactor Logs\r\n  { 'v_id': 'view_4118' }, //Butler Timeclock\r\n  { 'v_id': 'view_4122' }, //Communities & Contacts\r\n  { 'v_id': 'view_4151' }, //Community Service History\r\n  { 'v_id': 'view_4961' }, //Verify Butler Timeclock\r\n  { 'v_id': 'view_4174' }, //Still in Progress\r\n  { 'v_id': 'view_4961' }, //Verify Butler Timeclock\r\n  { 'v_id': 'view_4653' }, //TapCheck Review\r\n  { 'v_id': 'view_3850' }, //Review Service IDs\r\n  { 'v_id': 'view_4752' }, //My Site Audits\r\n  { 'v_id': 'view_4961' }, //Verify Butler Timeclock\r\n  { 'v_id': 'view_4877' }, //Manage Site Audits\r\n]\r\nfor (let i = 0; i < customRecordNumberArray.length; i++) {\r\n  $(document).on(`knack-view-render.${customRecordNumberArray[i].v_id}`, function(event, view, data) {\r\n      console.log(customRecordNumberArray[i].v_id, \"customRecordNumberArray[i].v_id\")\r\n      var text = addShowNumberText(data.length)\r\n      if( $(`#${customRecordNumberArray[i].v_id} .kn-entries-summary`).length === 0 ){ $($(`#${customRecordNumberArray[i].v_id} .kn-records-nav`)[0]).append( text ) }\r\n  });\r\n}\r\n// End\r\nfunction addShowNumberText(length){\r\n  if(length > 0 ){\r\n      return `<div class=\"kn-entries-summary\" style=\"margin-right: .5em;\">\r\n        <span class=\"light\">Showing 1-${length} of ${length}</span>\r\n      </div>`;\r\n  }else{\r\n      return `<div class=\"kn-entries-summary\" style=\"margin-right: .5em;\">\r\n        <span class=\"light\">Showing 0 Record</span>\r\n      </div>`;\r\n  }\r\n}\r\n$(document).on(\"knack-view-render.view_4079\", function(event, view, data) {\r\n  $('.as-compactor-after-resident').parent().hide(); \r\n  $('.as-compactor-after-maintenance').parent().hide();\r\n  console.log(data);\r\n  //$('.field_1019').hide();\r\n  for (let i = 0; i < data.length; i++) {\r\n    var serviceFilter = [{\"field\":\"field_97\", \"operator\":\"is\", \"value\":data[i].id}]\r\n    getServiceLogsAS(serviceFilter, i);\r\n  }\r\n  var numberText = `<div class=\"kn-entries-summary\" style=\"margin-right: .5em;\">\r\n        <span class=\"light\">Showing ${data.length} Compactor Log(s)</span>\r\n      </div>`;\r\n  if( $('.kn-entries-summary').length === 0 ){ $($('#view_4079 .kn-records-nav .level')[1]).append(numberText) }\r\n  \r\n});\r\n\r\n//view_4732\r\n// $(document).on(\"knack-view-render.view_4732\", function(event, view, data) {\r\n//     var text = addShowNumberText(data.length)\r\n//     if( $('#view_4732 .kn-entries-summary').length === 0 ){ $($('#view_4732 .kn-records-nav')[0]).append( text ) }\r\n  \r\n// });\r\n\r\n//Contact Butler In Service \r\n$(document).on(\"knack-view-render.view_4093\", function(event, view, data) {\r\n  //console.log(data, data[0].field_277_raw);\r\n  $('.field_16').hide(); $('.field_276').hide(); $('.field_16').hide(); $('.field_277').hide();\r\n  for (let i = 0; i < data.length; ++i) {\r\n    var butlerName = data[i].field_16;\r\n    var full, formatted, full2, formatted2;\r\n    data[i].field_277_raw !== undefined ? full2 = data[i].field_277_raw.full : full2 = '';\r\n    data[i].field_277_raw !== undefined ? formatted2 = data[i].field_277_raw.formatted : formatted2 = '';\r\n    data[i].field_276_raw !== undefined ? full = data[i].field_276_raw.full : full = '';\r\n    data[i].field_276_raw !== undefined ? formatted = data[i].field_276_raw.formatted : formatted = '';\r\n    contactDisplay(data.length, '.as-butler-details', full, formatted, butlerName, i, full2, formatted2)\r\n  }\r\n\r\n});\r\n\r\n//view_4136 Create the Accordion - Community Contacts\r\nfunction createAsAccordionC(view_id, j){\r\nconsole.log('j', j)\r\nvar accordion = '';\r\nfor (let i = 0; i < j.length; i++) {\r\n   accordion = accordion + `<button class=\"as-accordion\">`+j[i].title+`</button>\r\n    <div class=\"as-panel\">\r\n    <p id=`+j[i].id+`></p>\r\n    </div>`;\r\n    \r\n}\r\nconsole.log(accordion);\r\n$(view_id).append($(accordion));\r\nresponsiveAcc();                                    \r\n}                                   \r\n//This will Add class to the Emergency Procedure Accordion\r\n$(document).on(\"knack-view-render.view_4139\", function(event, view, data) {\r\n  var s = setInterval(t, 1000);\r\n  function t() {\r\n    if($('.as-accordion').length > 0){ \r\n      $($('#view_4139').parents()[1].previousElementSibling).addClass('sv-emergency')\r\n      clearInterval(s);\r\n    }\r\n  }\r\n});\r\n\r\n//view_4130\r\n$(document).on(\"knack-view-render.view_4130\", function(event, view, data) {\r\n$('#view_4130 .field_385').hide();\r\n$('#view_4130 .field_386').hide();\r\n$('#view_4130 .field_388').hide();\r\n});\r\n\r\n//view_4135\r\n$(document).on(\"knack-view-render.view_4130\", function(event, view, data) {\r\n$('#view_4135 .field_276').hide();\r\n});\r\n\r\n//view_4135\r\n$(document).on(\"knack-view-render.view_4135\", function(event, view, data) {\r\n//console.log(data, 'Assigned Butlers');\r\n$('.field_16').hide(); $('.field_276').hide(); $('.field_16').hide(); $('.field_277').hide();\r\nfor (let i = 0; i < data.length; ++i) {\r\n  var butlerName = `<p><span class=\"sv-as-name\">`+data[i].field_16_raw.first+` `+data[i].field_16_raw.last+`</span></p>`\r\n  contactDisplay(data.length, '.as-butler-details', getVal(\"field_276_raw\",\"full\", data[i]), getVal(\"field_276_raw\",\"formatted\", data[i]), butlerName, i, \r\n                 getVal(\"field_277_raw\",\"full\", data[i]), getVal(\"field_277_raw\",\"formatted\", data[i]))\r\n}\r\n  \r\n});\r\n\r\n//view_4130\r\n$(document).on(\"knack-view-render.view_4130\", function(event, view, data) {\r\n  contactDisplay(1, '.as-maintenance-contact', data.field_386_raw.full, data.field_386_raw.formatted, data.field_385, 0, data.field_388_raw.full, data.field_388_raw.formatted)\r\n});\r\n\r\n//view_4137 Community Managers\r\n$(document).on(\"knack-view-render.view_4137\", function(event, view, data) {\r\n  $('#view_4137 .kn-detail').hide()\r\n  //console.log(data, 'CM');\r\n  for (let i = 0; i < data.length; ++i) {\r\n    //var butlerName = `<p><span class=\"sv-as-name\">`+data[i].field_16_raw.first+` `+data[i].field_16_raw.last+`</span></p>`\r\n    //contactDisplay(data.length, '.as-cm-details', data[i].field_1252_raw.full,\r\n        //       data[i].field_1252_raw.formatted, data[i].field_21)\r\n      contactDisplay(data.length, '.as-cm-details', getVal(\"field_1252_raw\",\"full\", data[i]), getVal(\"field_1252_raw\", \"formatted\", data[i]), data[i].field_21,\r\n                    i)\r\n  }\r\n});\r\n\r\nfunction getVal(field, s, t){\r\ntry { var y = t[field][s]\r\n  return y\r\n}\r\ncatch(err) {\r\n  //console.log(err)\r\n}\r\n}\r\n        \r\nfunction contactDisplay(l, appendTo, num1, fnum1, name, i, num2, fnum2){\r\n  //console.log(l, appendTo, num1, fnum1, num2, fnum2, name, i)\r\n  var className = $($(appendTo)[i]);\r\n  if(l > 0){\r\n    function getNumber(num, s, p){\r\n      try {\r\n        var classA;\r\n        var number;\r\n        if(num == undefined){ classA = 'no-number'; number = 'No '+p+' : ' }else{ classA = ''; number = p+` `+s}\r\n        return `<span class=\"as-formatted-number\" style=\"font-size: 12px;\">`+number+`</span>\r\n              <span class=\"sv-as-number\"><a class=\"${classA}\" href=\"tel:`+num+`\"><i class=\"fa fa-phone `+classA+`\"></i></a></span>\r\n              <span class=\"sv-as-message `+classA+`\"><a class=\"${classA}\" href=\"sms:`+num+`\"><i class=\"fa fa-comment `+classA+`\"></i></a><span>`\r\n      }\r\n      catch(err) {\r\n        console.log(err);\r\n        return `Error getting `+p+ ` #`\r\n      }\r\n      //if( num != undefined && num != '') {return `<span class=\"as-formatted-number\" style=\"font-size: 12px;\">`+p+` `+s+`</span><span class=\"sv-as-number\"><a href=\"tel:`+num+`\"><i class=\"fa fa-phone\"></i></a><span>\r\n  //\t\t\t\t\t   </span><span class=\"sv-as-message\"><a href=\"sms:`+num+`\"><i class=\"fa fa-comment\"></i></a><span>`\r\n      //}else{ return '' }\r\n    }\r\n    var butlerName = `<p><span class=\"sv-as-name\">`+name+`</span></p>`;\r\n    var nameAndNumber = `<div>`+butlerName+`<div>`+getNumber(num1, fnum1, 'Phone 1')+`</div><div>`+getNumber(num2, fnum2, 'Phone 2')+`</div></div>`;\r\n    className.append(nameAndNumber);\r\n  }\r\n}\r\n\r\n//My Butlers\r\n$(document).on(\"knack-view-render.view_4141\", function(event, view, data) {\r\n butlerDeets(data);\r\n$('.field_17').hide(); \r\n//   $('.field_276').hide(); \r\n$('.field_277').hide();\r\n});\r\n\r\n//view_4113\r\n$(document).on(\"knack-view-render.view_4113\", function(event, view, data) {\r\n //console.log('TEST');\r\n //var myVar = setInterval(addAreaInterval, 1000);\r\n //function addArea(){ $('#view_4143-field_1927').val(); clearInterval(myVar); }\r\n //function addAreaInterval(){\r\n   // if($('#view_4143-field_1927').val() == ''){ addArea(); }\r\n //}\r\n});\r\n\r\n//view_4170 Area Details\r\n$(document).on(\"knack-view-render.view_4170\", function(event, view, data) {\r\n //console.log(data);\r\n$('#view_4170').attr('area-id', data.field_483_raw[0].id);\r\n$('#view_4170').attr('com-id', data.id);\r\n});\r\n\r\n//view_4129 Assign Butler > Community Contacts Form\r\n$(document).on(\"knack-view-render.view_4170\", function(event, view, data) {\r\n$('#kn-input-field_485').addClass('hideMe'); $('#kn-input-field_54').addClass('hideMe')\r\nvar handler = setInterval(waitForForm, 500);\r\n$('#view_4129 form button').attr(\"disabled\", true);\r\nKnack.showSpinner('Fetching data');\r\n\r\nfunction waitForForm() {\r\n  Knack.showSpinner('Fetching data');\r\n  if($('#view_4170').length == 1){\r\n    var areaId = $('#view_4170').attr('area-id'); var comId = $('#view_4170').attr('com-id');\r\n    if($('#view_4170').attr('area-id') == $('#view_4129-field_485').val() && $('#view_4170').attr('com-id') == $('#view_4129-field_54').val()) { \r\n      clearInterval(handler); \r\n      $('#view_4129 form button').attr(\"disabled\", false);\r\n      Knack.hideSpinner();\r\n    }\r\n    else{  \r\n      changValue(areaId, comId); }\r\n    }\r\n  else{ //console.log('Form still loading');\r\n      setTimeout(function(){\r\n        clearInterval(handler);\r\n        Knack.hideSpinner();\r\n        //alert(\"Error: Please, try again\"); \r\n      }, 10000);\r\n   }\r\n}\r\nfunction changValue(a, c){\r\n  $('#view_4129-field_485').val(a).change().trigger(\"liszt:updated\");\r\n  $('#view_4129-field_54').val(c).change().trigger(\"liszt:updated\");\r\n}\r\n});\r\n\r\n//view_4170 Community Filter Test\r\n$(document).on(\"knack-view-render.view_4122\", function(event, view, data) {\r\n  console.log(data)\r\n  var url = 'https://apps.sv.knack.com/trashdash#area-command-center/dashboards/in-service-dashboard/communities-contacts/'\r\n  var activefilters = [\r\n\r\n  // Filter for records with a value for this field in the last three months\r\n  {\r\n      \"field\":\"field_642\",\r\n      \"operator\":\"is\",\r\n      \"text\":'Active',\r\n      'value': 'Active'\r\n  }\r\n  ];\r\n  var inactivefilters = [\r\n  // Filter for records with a value for this field in the last three months\r\n  {\r\n      \"field\":\"field_642\",\r\n      \"operator\":\"is\",\r\n      \"text\":'Inactive',\r\n      'value': 'Inactive'\r\n  }\r\n  ];\r\n  var active_url = url + '?view_4122_filters=' + encodeURIComponent(JSON.stringify(activefilters));\r\n  var inactive_url = url + '?view_4122_filters=' + encodeURIComponent(JSON.stringify(inactivefilters));\r\n  $('#as-active-filter').on('click', function(){\r\n      console.log(active_url, 'active_url');\r\n      window.location.href = active_url;\r\n  })\r\n  //as-inactive-filter\r\n  $('#as-inactive-filter').on('click', function(){\r\n  console.log(inactive_url, 'inactive_url')\r\n  window.location.href = inactive_url;\r\n  })\r\n  $('#view_4122 .field_345').hide();\r\n  var currentUTC = new Date().toJSON().slice(0,10).replace(/-/g,'/');\r\n  // $('.field_37 h2').append('<i class=\"sv-site-deets-btn fa fa-map-marker\"></i>')\r\n  for (let i = 0; i < data.length; i++) {\r\n      $($($('.sv-site-details')[i]).parents()[6]).html($($('.sv-site-details')[i]).parents()[3]).removeClass('kn-details-link')\r\n      $($('.sv-site-deets-btn')[i]).on('click', function(){\r\n          $($('.sv-site-details')[i]).click()\r\n      })\r\n      var lastSiteVisit  = data[i].field_345;\r\n      var diffInMs   = new Date(currentUTC) - new Date(lastSiteVisit)\r\n      var daysDif = diffInMs / (1000 * 60 * 60 * 24);\r\n      console.log(daysDif,  \"daysDif\");\r\n      $($('.sv-site-details')[i]).html(daysDif)\r\n      if(daysDif > 15 && daysDif < 31){\r\n          $($($('.sv-site-details')[i]).parents()[2]).addClass('sv-yellow')\r\n          console.log(i,daysDif, \"yllw\" )\r\n      }else if(30 < daysDif){\r\n          $($($('.sv-site-details')[i]).parents()[2]).addClass('sv-red')\r\n      }else{\r\n          $($($('.sv-site-details')[i]).parents()[2]).addClass('sv-green')\r\n      }\r\n      // $($($('.sv-site-details')[i]).parents()[7]).hide()\r\n      if (data[i].field_141 == \"Yes\") {\r\n          $($('.as-service-today')[i]).html('Service Today At ' + data[i].field_44);\r\n      } else {\r\n          $($('.as-service-today')[i]).html('No Service Today');\r\n      }\r\n  }\r\n  $('.field_44').hide();$('.field_141').hide();\r\n  \r\n});\r\n\r\n//view_4151\r\n$(document).on(\"knack-view-render.view_4151\", function(event, view, data) {\r\n//if(data.length > 0 )( $($('.as-community-name')[0]).html(data[0].field_54) )\r\n});\r\n\r\n/******************************************End AREA Command Center Section****************************************************************/\r\n\r\n\r\n\r\n///HIDES THE IN DEV***************************************************************************************************************************\r\n//view_1403 Butler Menu this will hide the menu for Report New Service Hazards\r\n// $(document).on(\"knack-view-render.view_1403\", function(event, view, data) {\r\n//   \ttry {\r\n//       console.log(Knack.session.user.id);\r\n//       if(Knack.session.user.id != \"600ee99f042013001b142c0a\"){ $('#view_1403 .kn-link-2').addClass('hideMe'); }\r\n//     }\r\n//     catch(err) {\r\n//       console.log(err);\r\n//     }\r\n// });\r\n//view_3760 Call Center Menu this will hide the menu for Report New Service Hazards\r\n// $(document).on(\"knack-view-render.view_3760\", function(event, view, data) {\r\n//   \ttry {\r\n//       console.log(Knack.session.user.id);\r\n//       if(Knack.session.user.id != \"600ee99f042013001b142c0a\"){ $('#view_3760').addClass('hideMe'); }\r\n//     }\r\n//     catch(err) {\r\n//       console.log(err);\r\n//     }\r\n// });\r\n//view_3795\r\n// $(document).on(\"knack-view-render.view_3795\", function(event, view, data) {\r\n//   \ttry {\r\n//       console.log(Knack.session.user.id);\r\n//       if(Knack.session.user.id != \"600ee99f042013001b142c0a\"){ $('#view_3795').addClass('hideMe'); }\r\n//     }\r\n//     catch(err) {\r\n//       console.log(err);\r\n//     }\r\n// });\r\n\r\n//view_3764 Session Logs\r\n// $(document).on(\"knack-view-render.view_3764\", function() {\r\n//   \t//hide the New Service Hazard if login user is not Josh\r\n//   \ttry {\r\n//       console.log(Knack.session.user.id);\r\n//       if(Knack.session.user.id != \"600ee99f042013001b142c0a\"){ $('#view_3764').hide(); }\r\n//       else{ $('#view_3764').show(); }\r\n//     }\r\n//     catch(err) {\r\n//       console.log(err);\r\n//     }\r\n// });\r\n\r\n// //scene_816 view_3794 Management\r\n// $(document).on('knack-scene-render.scene_816', function() {\r\n//     try {\r\n//       console.log(Knack.session.user.id);\r\n//       if(Knack.session.user.id != \"600ee99f042013001b142c0a\"){ $('#view_3794').hide(); }\r\n//       else{ $('#view_3794').show(); }\r\n//     }\r\n//     catch(err) {\r\n//       console.log(err);\r\n//     }\r\n// });\r\n\r\n//scene_309/views/view_3797 CM OLD\r\n// $(document).on('knack-scene-render.scene_309', function() {\r\n//     // try {\r\n//     //   console.log(Knack.session.user.id);\r\n//     //   if(Knack.session.user.id != \"600ee99f042013001b142c0a\"){ $('#view_3797').hide(); }\r\n//     //   else{ $('#view_3797').show(); }\r\n//     // }\r\n//     // catch(err) {\r\n//     //   console.log(err);\r\n//     // }\r\n// });\r\n\r\n///END HIDES THE IN DEV***************************************************************************************************************************\r\n\r\n//CUSTOM FILTER OBJECT\r\nvar filterData = \r\n[ \r\n{//Test Communities & Contacts\r\n    \"view_id\": \"view_4122\",\r\n    \"filters\": [\r\n      {  \r\n        'icon': 'fa-building',\r\n        'title': 'Service Today',\r\n        'filter_id': 'as-active',\r\n        'filter':[\r\n          {\r\n            \"field\":\"field_141\",\r\n            \"operator\":\"is\",\r\n            'value': 'Yes'\r\n          }\r\n        ]\r\n      },\r\n      { \r\n        'icon': '',\r\n        'title': 'All Communities',\r\n        'filter_id': 'as-inactive',\r\n        'filter':[{}]\r\n      }\r\n    ]\r\n},\r\n{ //Verify Compactor Logs\r\n  \"view_id\": \"view_4079\",\r\n  \"filters\": [\r\n    { \r\n      'icon': 'fa-exclamation-circle',\r\n      'title': 'Warnings',\r\n      'filter_id': 'as-warnings',\r\n      'filter':[\r\n        {\r\n          \"field\":\"field_1963\",\r\n          \"operator\":\"lower than\",\r\n          'value': 2\r\n        }\r\n      ]\r\n    },\r\n    { \r\n      'icon': 'fa-file-text',\r\n      'title': 'All Services',\r\n      'filter_id': 'as-all',\r\n      'filter':[\r\n        {\r\n          \"field\":\"field_95\",\r\n          \"operator\":\"is not blank\"\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n},\r\n{ //RADAR Logs\r\n  \"view_id\": \"view_4097\",\r\n  \"filters\": [\r\n    { \r\n      'icon': 'fa-exclamation-circle',\r\n      'title': 'Not Updated',\r\n      'filter_id': 'today_filter',\r\n      'filter':[\r\n        {\r\n          \"field\":\"field_74\",\r\n          \"operator\":\"is blank\"\r\n        }\r\n      ]\r\n    },\r\n    { \r\n      'icon': 'fa-file-text',\r\n      'title': 'All RADAR',\r\n      'filter_id': 'as-all',\r\n      'filter':[\r\n        {}\r\n      ]\r\n    }\r\n  ]\r\n},\r\n{ //Community Service History\r\n  \"view_id\": \"view_4151\",\r\n  \"filters\": [\r\n    { \r\n      'icon': 'fa-users',\r\n      'title': \"All Services\",\r\n      'filter_id': 'allservices',\r\n      'filter':[\r\n        {\r\n          \"field\":\"field_95\",\r\n          \"operator\":\"is not blank\"\r\n        }\r\n      ]\r\n    },\r\n    { \r\n      'icon': 'fa-building-o',\r\n      'title': \"Today's Service\",\r\n      'filter_id': 'today_filter',\r\n      'filter':[\r\n        {\r\n          \"field\":\"field_46\",\r\n          \"operator\":\"is\",\r\n          'value': currentServiceDate()\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n},//view_4206\r\n { //Today's Service IDs\r\n  \"view_id\": \"view_4732\",\r\n  \"filters\": [\r\n    { \r\n      'icon': 'fa-users',\r\n      'title': \"Pending\",\r\n      'filter_id': 'tspending',\r\n      'filter':[\r\n        {\r\n          \"field\":\"field_121\",\r\n          \"operator\":\"is\",\r\n          'value': 'Pending'\r\n        }\r\n      ]\r\n    },\r\n    { \r\n      'icon': 'fa-building-o',\r\n      'title': \"In Progress\",\r\n      'filter_id': 'tsip',\r\n      'filter':[\r\n        {\r\n          \"field\":\"field_121\",\r\n          \"operator\":\"is\",\r\n          'value': 'Started - In Progress'\r\n        }\r\n      ]\r\n    },\r\n    { \r\n      'icon': 'fa-building-o',\r\n      'title': \"Completed\",\r\n      'filter_id': 'tscompleted',\r\n      'filter':[\r\n        {\r\n          \"field\":\"field_121\",\r\n          \"operator\":\"is\",\r\n          'value': 'Complete'\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n},//view_3850\r\n{ //Pre-Service Rview Service\r\n  \"view_id\": \"view_3850\",\r\n  \"filters\": [\r\n    { \r\n      'icon': 'fa-users',\r\n      'title': \"Yesterday's Services\",\r\n      'filter_id': 'today_filter',\r\n      'filter':[\r\n        {\r\n          \"field\":\"field_46\",\r\n          \"operator\":\"is\",\r\n          'value': prevServiceDate()\r\n        }\r\n      ]\r\n    },\r\n    { \r\n      'icon': 'fa-users',\r\n      'title': \"Today's Services\",\r\n      'filter_id': 'ryservice1',\r\n      'filter':[\r\n        {\r\n          \"field\":\"field_46\",\r\n          \"operator\":\"is\",\r\n          'value': currentServiceDate()\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n},//view_3850\r\n{ //Pre-Service Rview Service\r\n  \"view_id\": \"view_4081\",\r\n  \"filters\": [\r\n    { \r\n      'icon': 'fa-users',\r\n      'title': \"Reported Today\",\r\n      'filter_id': 'today_filter',\r\n      'filter':[\r\n        {\r\n          \"field\":\"field_1499\",\r\n          \"operator\":\"is\",\r\n          'value': currentServiceDate()\r\n        }\r\n      ]\r\n    },\r\n    { \r\n      'icon': 'fa-users',\r\n      'title': \"All Hazards\",\r\n      'filter_id': 'ryservice',\r\n      'filter':[\r\n        {\r\n          \"field\":\"field_1499\",\r\n          \"operator\":\"is not blank\"\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n},\r\n{ //Compactor Logs\r\n  \"view_id\": \"view_4113\",\r\n  \"filters\": [\r\n    { \r\n      'icon': 'fa-building-o',\r\n      'title': \"Compactors Today\",\r\n      'filter_id': 'today_filter',\r\n      'filter':[\r\n        {\r\n          \"field\":\"field_257\",\r\n          \"operator\":\"is\",\r\n          'value': currentServiceDate()\r\n        }\r\n      ]\r\n    },\r\n    { \r\n      'icon': 'fa-folder',\r\n      'title': \"All Compactors\",\r\n      'filter_id': 'ryservice',\r\n      'filter':[\r\n        {\r\n          \"field\":\"field_257\",\r\n          \"operator\":\"is not blank\"\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n},\r\n{ //Manage TImeClock\r\n  \"view_id\": \"view_4118\",\r\n  \"filters\": [\r\n    { \r\n      'icon': 'fa-building-o',\r\n      'title': \"Today's TimeClocks\",\r\n      'filter_id': 'today_filter',\r\n      'filter':[\r\n        {\r\n          \"field\":\"field_113\",\r\n          \"operator\":\"is\",\r\n          'value': currentServiceDate()\r\n        }\r\n      ]\r\n    },\r\n    { \r\n      'icon': 'fa-folder',\r\n      'title': \"All TimeClocks\",\r\n      'filter_id': 'ryservice',\r\n      'filter':[\r\n        {\r\n          \"field\":\"field_113\",\r\n          \"operator\":\"is not blank\"\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n},\r\n{ //Infractions\r\n  \"view_id\": \"view_4112\",\r\n  \"filters\": [\r\n    { \r\n      'icon': 'fa-building-o',\r\n      'title': \"Today\",\r\n      'filter_id': 'today_filter',\r\n      'filter':[\r\n        {\r\n          \"field\":\"field_66\",\r\n          \"operator\":\"is\",\r\n          'value': currentServiceDate()\r\n        }\r\n      ]\r\n    },\r\n    { \r\n      'icon': 'fa-folder',\r\n      'title': \"All Infractions\",\r\n      'filter_id': 'ryservice',\r\n      'filter':[\r\n        {\r\n          \"field\":\"field_66\",\r\n          \"operator\":\"is not blank\"\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n},{ //Butler Audit New Site Checklist\r\n  \"view_id\": \"view_4752\",\r\n  \"filters\": [\r\n    { \r\n      'icon': 'fa-users',\r\n      'title': \"Butler's Audit\",\r\n      'filter_id': 'as-not-updated',\r\n      'filter':[\r\n        {\r\n          \"field\":\"field_689\",\r\n          \"operator\":\"is\",\r\n          'value': 'Butler Audit'\r\n        }\r\n      ]\r\n    },\r\n    { \r\n      'icon': 'fa-building-o',\r\n      'title': 'Community Audit',\r\n      'filter_id': 'as-all',\r\n      'filter':[\r\n        {\r\n          \"field\":\"field_689\",\r\n          \"operator\":\"is\",\r\n          'value': 'Community Audit'\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n},{ //TapCheck Review - https://builder.sv.knack.com/apps/trashdash#pages/scene_1708\r\n    \"view_id\": \"view_4653\",\r\n    \"filters\": [\r\n      { \r\n        'icon': 'fa-flag',\r\n        'title': \"Flagged\",\r\n        'filter_id': 'flagged',\r\n        'filter':[\r\n          {\r\n            \"field\":\"field_2212\",\r\n            \"operator\":\"is\",\r\n            'value': 'Yes'\r\n          }\r\n        ]\r\n      },{ \r\n      'icon': '',\r\n      'title': 'All',\r\n      'filter_id': 'as-all',\r\n      'filter':[\r\n        {\r\n        }\r\n      ]\r\n    }\r\n    ]\r\n  },//view_4760\r\n  { //All Service IDs\r\n  \"view_id\": \"view_4760\",\r\n  \"filters\": [\r\n    { \r\n      'icon': 'fa-users',\r\n      'title': \"Pending\",\r\n      'filter_id': 'tspending',\r\n      'filter':[\r\n        {\r\n          \"field\":\"field_121\",\r\n          \"operator\":\"is\",\r\n          'value': 'Pending'\r\n        }\r\n      ]\r\n    },\r\n    { \r\n      'icon': 'fa-building-o',\r\n      'title': \"In Progress\",\r\n      'filter_id': 'tsip',\r\n      'filter':[\r\n        {\r\n          \"field\":\"field_121\",\r\n          \"operator\":\"is\",\r\n          'value': 'Started - In Progress'\r\n        }\r\n      ]\r\n    },\r\n    { \r\n      'icon': 'fa-building-o',\r\n      'title': \"Completed\",\r\n      'filter_id': 'tscompleted',\r\n      'filter':[\r\n        {\r\n          \"field\":\"field_121\",\r\n          \"operator\":\"is\",\r\n          'value': 'Complete'\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n},\r\n{ //FLEX ADD FILTER https://builder.sv.knack.com/apps/trashdash/pages/scene_2051/views/view_5877/table/source\r\n    \"view_id\": \"view_5877\",\r\n    \"filters\": [\r\n        { \r\n          'icon': 'fa-flag',\r\n          'title': \"Today's Services\",\r\n          'filter_id': 'todays',\r\n          'filter':[\r\n            {\r\n              \"field\":\"field_46\",\r\n              \"operator\":\"is today\",\r\n            }\r\n          ]\r\n        },\r\n        { \r\n          'icon': 'fa-flag',\r\n          'title': \"Yesterday's Services\",\r\n          'filter_id': 'yesterdays',\r\n          'filter':[\r\n            {\r\n              \"field\":\"field_46\",\r\n              \"operator\":\"is during the previous\",\r\n              \"range\":1,\r\n              \"type\":\"days\"\r\n            }\r\n          ]\r\n        },{\r\n          'icon': '',\r\n          'title': 'All',\r\n          'filter_id': 'as-all',\r\n          'filter':[\r\n            {\r\n            }\r\n          ]\r\n      }\r\n    ]\r\n  },\r\n  { //FLEX ADD FILTER https://builder.sv.knack.com/apps/trashdash/pages/scene_2051/views/view_5959/table/source\r\n    \"view_id\": \"view_5959\",\r\n    \"filters\": [\r\n        { \r\n          'icon': 'fa-flag',\r\n          'title': \"Today's Services\",\r\n          'filter_id': 'todays',\r\n          'filter':[\r\n            {\r\n              \"field\":\"field_46\",\r\n              \"operator\":\"is today\",\r\n            }\r\n          ]\r\n        },\r\n        { \r\n          'icon': 'fa-flag',\r\n          'title': \"Yesterday's Services\",\r\n          'filter_id': 'yesterdays',\r\n          'filter':[\r\n            {\r\n              \"field\":\"field_46\",\r\n              \"operator\":\"is during the previous\",\r\n              \"range\":1,\r\n              \"type\":\"days\"\r\n            }\r\n          ]\r\n        },{\r\n          'icon': '',\r\n          'title': 'All',\r\n          'filter_id': 'as-all',\r\n          'filter':[\r\n            {\r\n            }\r\n          ]\r\n      }\r\n    ]\r\n  },\r\n  { //FLEX ADD FILTER https://builder.sv.knack.com/apps/trashdash/pages/scene_2051/views/view_5960/table/source\r\n    \"view_id\": \"view_5960\",\r\n    \"filters\": [\r\n        { \r\n          'icon': 'fa-flag',\r\n          'title': \"Today's Services\",\r\n          'filter_id': 'todays',\r\n          'filter':[\r\n            {\r\n              \"field\":\"field_46\",\r\n              \"operator\":\"is today\",\r\n            }\r\n          ]\r\n        },\r\n        { \r\n          'icon': 'fa-flag',\r\n          'title': \"Yesterday's Services\",\r\n          'filter_id': 'yesterdays',\r\n          'filter':[\r\n            {\r\n              \"field\":\"field_46\",\r\n              \"operator\":\"is during the previous\",\r\n              \"range\":1,\r\n              \"type\":\"days\"\r\n            }\r\n          ]\r\n        },{\r\n          'icon': '',\r\n          'title': 'All',\r\n          'filter_id': 'as-all',\r\n          'filter':[\r\n            {\r\n            }\r\n          ]\r\n      }\r\n    ]\r\n  },\r\n  { //FLEX ADD FILTER https://builder.sv.knack.com/apps/trashdash/pages/scene_2051/views/view_5961/table/source\r\n    \"view_id\": \"view_5961\",\r\n    \"filters\": [\r\n        { \r\n          'icon': 'fa-flag',\r\n          'title': \"Today's Services\",\r\n          'filter_id': 'todays',\r\n          'filter':[\r\n            {\r\n              \"field\":\"field_46\",\r\n              \"operator\":\"is today\",\r\n            }\r\n          ]\r\n        },\r\n        { \r\n          'icon': 'fa-flag',\r\n          'title': \"Yesterday's Services\",\r\n          'filter_id': 'yesterdays',\r\n          'filter':[\r\n            {\r\n              \"field\":\"field_46\",\r\n              \"operator\":\"is during the previous\",\r\n              \"range\":1,\r\n              \"type\":\"days\"\r\n            }\r\n          ]\r\n        },{\r\n          'icon': '',\r\n          'title': 'All',\r\n          'filter_id': 'as-all',\r\n          'filter':[\r\n            {\r\n            }\r\n          ]\r\n      }\r\n    ]\r\n  },\r\n// { //All Audit - Staff - Table\r\n//   \"view_id\": \"view_4617\",\r\n//   \"filters\": [\r\n//     { \r\n//       'icon': '',\r\n//       'title': \"Community Audit\",\r\n//       'filter_id': 'm_site_comAudit_staff_view_4617',\r\n//       'filter':[\r\n//         {\r\n//           \"field\":\"field_689\",\r\n//           \"operator\":\"is\",\r\n//           'value': 'Community Audit'\r\n//         }\r\n//       ]\r\n//     },\r\n//     { \r\n//       'icon': '',\r\n//       'title': \"Butler Audit\",\r\n//       'filter_id': 'm_site_bAudit_staff_view_4617',\r\n//       'filter':[\r\n//         {\r\n//           \"field\":\"field_689\",\r\n//           \"operator\":\"is\",\r\n//           'value': 'Butler Audit'\r\n//         }\r\n//       ]\r\n//     },\r\n//     { \r\n//       'icon': '',\r\n//       'title': \"Clear\",\r\n//       'filter_id': 'm_site_clear_staff_view_4617',\r\n//       'filter':[\r\n//         {\r\n//         }\r\n//       ]\r\n//     }\r\n//   ]\r\n// },\r\n// { //All Audit - Staff - List\r\n//   \"view_id\": \"view_4627\",\r\n//   \"filters\": [\r\n//     { \r\n//       'icon': '',\r\n//       'title': \"Community Audit\",\r\n//       'filter_id': 'm_site_comAudit_staff_view_4627',\r\n//       'filter':[\r\n//         {\r\n//           \"field\":\"field_689\",\r\n//           \"operator\":\"is\",\r\n//           'value': 'Community Audit'\r\n//         }\r\n//       ]\r\n//     },\r\n//     { \r\n//       'icon': '',\r\n//       'title': \"Butler Audit\",\r\n//       'filter_id': 'm_site_bAudit_staff_view_4627',\r\n//       'filter':[\r\n//         {\r\n//           \"field\":\"field_689\",\r\n//           \"operator\":\"is\",\r\n//           'value': 'Butler Audit'\r\n//         }\r\n//       ]\r\n//     },\r\n//     { \r\n//       'icon': '',\r\n//       'title': \"Clear\",\r\n//       'filter_id': 'm_site_clear_staff_view_4627',\r\n//       'filter':[\r\n//         {\r\n//         }\r\n//       ]\r\n//     }\r\n//   ]\r\n// },\r\n// { //My Audits - Table\r\n//   \"view_id\": \"view_4708\",\r\n//   \"filters\": [\r\n//     { \r\n//       'icon': '',\r\n//       'title': \"Community Audit\",\r\n//       'filter_id': 'm_site_comAudit_staff_view_4708',\r\n//       'filter':[\r\n//         {\r\n//           \"field\":\"field_689\",\r\n//           \"operator\":\"is\",\r\n//           'value': 'Community Audit'\r\n//         }\r\n//       ]\r\n//     },\r\n//     { \r\n//       'icon': '',\r\n//       'title': \"Butler Audit\",\r\n//       'filter_id': 'm_site_bAudit_staff_view_4708',\r\n//       'filter':[\r\n//         {\r\n//           \"field\":\"field_689\",\r\n//           \"operator\":\"is\",\r\n//           'value': 'Butler Audit'\r\n//         }\r\n//       ]\r\n//     },\r\n//     { \r\n//       'icon': '',\r\n//       'title': \"Clear\",\r\n//       'filter_id': 'm_site_clear_staff_view_4708',\r\n//       'filter':[\r\n//         {\r\n//         }\r\n//       ]\r\n//     }\r\n//   ]\r\n// },\r\n// { //My Audits - List\r\n//   \"view_id\": \"view_4860\",\r\n//   \"filters\": [\r\n//     { \r\n//       'icon': '',\r\n//       'title': \"Community Audit\",\r\n//       'filter_id': 'm_site_comAudit_staff_view_4860',\r\n//       'filter':[\r\n//         {\r\n//           \"field\":\"field_689\",\r\n//           \"operator\":\"is\",\r\n//           'value': 'Community Audit'\r\n//         }\r\n//       ]\r\n//     },\r\n//     { \r\n//       'icon': '',\r\n//       'title': \"Butler Audit\",\r\n//       'filter_id': 'm_site_bAudit_staff_view_4860',\r\n//       'filter':[\r\n//         {\r\n//           \"field\":\"field_689\",\r\n//           \"operator\":\"is\",\r\n//           'value': 'Butler Audit'\r\n//         }\r\n//       ]\r\n//     },\r\n//     { \r\n//       'icon': '',\r\n//       'title': \"Clear\",\r\n//       'filter_id': 'm_site_clear_staff_view_4860',\r\n//       'filter':[\r\n//         {\r\n//         }\r\n//       ]\r\n//     }\r\n//   ]\r\n// },\r\n]\r\nvar activeFilter;\r\nvar todayFilter = {'match': 'and',\r\n                     'rules': [{\r\n                       'field': 'field_46', //status\r\n                       'operator': 'is',\r\n                       'value': currentServiceDate()\r\n                     }]}\r\nvar newReviewServiceIDFilter = todayFilter.rules.concat({'field': 'field_121', 'operator': 'is','value': 'Complete'})\r\nfor (let i = 0; i < filterData.length; i++) {\r\n  $(document).on('knack-view-render.'+filterData[i].view_id, function(event, view, data) {\r\n    var filterDiv = `<div id=${filterData[i].view_id}_c_filter'><div class=\"custom_filter js-filter-menu tabs is-toggle is-flush\"><div><ul></ul></div><div></div></div></div>`\r\n    if( $('#'+filterData[i].view_id).length > 0){\r\n      //console.log('activeFilter', activeFilter)\r\n      if( $('#'+filterData[i].view_id+'_c_filter').length == 0 ){$($('#'+filterData[i].view_id+' .view-header')[0]).append(filterDiv);}\r\n      var view_filters = filterData[i].filters\r\n      for (let j = 0; j < view_filters.length; j++) {\r\n        var icon = `<i class=\"fa `+view_filters[j].icon+`\"></i>`;\r\n        if( $(`#${view_filters[j].filter_id}`).length === 0 ){\r\n          // console.log( filterData[i].view_id,view_filters[j], \"filterData[i].view_id is running\" )\r\n          $(`#${filterData[i].view_id} .custom_filter ul`).append(`<li id=`+view_filters[j].filter_id+`><a class=\"custom_filter-li-a\">`+icon+`<span class=\"as-custom-title\">`+`  `+view_filters[j].title+`</span></a></li>`);\r\n          // $(`#${filterData[i].view_id} .custom_filter div`).append($($('.kn-add-filter')[i]))\r\n          $('.kn-add-filter').addClass('as-add-filter-js')\r\n          activeFilter !== undefined ? $(activeFilter).addClass('is-active') : console.log('No Active filter')\r\n        }\r\n\r\n        $('.kn-remove-filter').on('click', function(){\r\n          activeFilter = undefined\r\n        })\r\n        \r\n        if(searchParam('is_today')){\r\n            activeFilter = '#today_filter'; $('#today_filter').click();\r\n        }\r\n        \r\n        if(searchParam('active')){\r\n            activeFilter = '#today_filter';\r\n        }\r\n       \r\n        $('#'+view_filters[j].filter_id).on('click', function(){\r\n          //$('#'+view_filters[j].filter_id).addClass('is-active')\r\n          var cFilter;\r\n          activeFilter = '#'+view_filters[j].filter_id\r\n          var loc = location.href;\r\n          //Today's Service \r\n          if(filterData[i].view_id == \"view_4732\"){\r\n            //cFilter = todayFilter.rules.push(view_filters[j].filter)\r\n            var todayAndFilter = todayFilter.rules.concat(view_filters[j].filter)\r\n            var todayAndFilter = {'match': 'and',\r\n                       'rules': todayAndFilter}\r\n            var dest = loc.split('?')[0] + '?'+filterData[i].view_id+'_filters=' + encodeURIComponent(JSON.stringify(todayAndFilter));\r\n          }else{\r\n            //cFilter = view_filters[j].filter\r\n            var dest = loc.split('?')[0] + '?'+filterData[i].view_id+'_filters=' + encodeURIComponent(JSON.stringify(view_filters[j].filter));\r\n          }\r\n          window.location.href = dest;\r\n        });\r\n        //if(filterData[i].view_id == \"view_3850\"){\r\n        //\t$('#'+view_filters[j].filter_id).click();\r\n        //}\r\n      }\r\n\r\n    }\r\n  });\r\n}\r\n//END CUSTOM FILTER OBJECT\r\n\r\n//view_4172 Area Details\r\n$(document).on(\"knack-view-render.view_4172\", function(event, view, data) {\r\n  $('#view_4172').hide();\r\n//   $('#view_4172').attr('area-id', data.id);\r\n});\r\nvar inprogress = \r\n  { \r\n   'match': 'and',\r\n   'rules':[{\r\n     \"field\":\"field_121\",\r\n     \"operator\":\"is\",\r\n     \"value\": \"Started - In Progress\"\r\n   },{\r\n     \"field\":\"field_46\",\r\n     \"operator\":\"is\",\r\n     \"value\": currentServiceDate()\r\n   }]\r\n }\r\nvar butlerNotClockedOut = { \r\n  'match': 'and',\r\n  'rules':[{\r\n    \"field\":\"field_114\",\r\n    \"operator\":\"is blank\"\r\n  },{\r\n    \"field\":\"field_113\",\r\n    \"operator\":\"is\",\r\n    \"value\": currentServiceDate()\r\n  }\r\n          ]\r\n}\r\nvar tapcheckA = { \r\n  'match': 'and',\r\n  'rules':[{\r\n    \"field\":\"field_114\",\r\n    \"operator\":\"is not blank\"\r\n  },{\r\n    \"field\":\"field_113\",\r\n    \"operator\":\"is\",\r\n    \"value\": currentServiceDate()\r\n  }]\r\n}\r\nvar reviewService = [{\r\n  \"field\":\"field_46\",\r\n  \"operator\":\"is\",\r\n  \"value\": currentServiceDate()\r\n}]\r\n//POST SERVICE MENU\r\n$(document).on(\"knack-view-render.view_4168\", function(event, view, data) {\r\n$('.kn-link-4').hide();\r\ngetStillInProgress()\r\n});\r\n\r\nfunction getStillInProgress(){\r\ntry{\r\n  return $.ajax({\r\n      type: 'GET',\r\n      headers: asHeader,\r\n      url: 'https://api.sv.knack.com/v1/pages/scene_1558/views/view_4174/records/?filters=' + encodeURIComponent(JSON.stringify(inprogress)),\r\n      success: function(data) {\r\n      $($('.as-late-service-count')[0]).html(data.records.length)\r\n      }\r\n  });\r\n}catch(err){\r\n  console.log(err)\r\n}\r\n}\r\n\r\nfunction searchParam(name) {\r\n  return (window.location.href.split(name + '=')[1] || '').split('&')[0];\r\n}\r\n//var currentBTC_back; //current Butler Timeclock scene back page\r\n//view_4118 - https://builder.sv.knack.com/apps/trashdash#pages/scene_1529\r\n$(document).on(\"knack-view-render.view_4118\", function(event, view, data) {\r\nfor (let i = 0; i < data.length; i++) {\r\n  $($($('.kn-link-delete')[i]).parents()[2]).hide()\r\n  $($($('.sv-delete-link')[i]).parents()[3]).attr('style', 'color: red')\r\n}\r\n$( \".field_112 a\" ).each(function( index ) {\r\n  $( this ).html($( this ).text() + `<i class=\"fa fa-phone-square sv-contact-butler\"></i>`)\r\n});\r\n});\r\n//TapCheck - https://builder.sv.knack.com/apps/trashdash#pages/scene_1708/views/view_4653\r\n$(document).on(\"knack-view-render.view_4653\", function(event, view, data) {\r\nfor (let i = 0; i < data.length; i++) {\r\n   $($($('.sv-delete-record')[i]).parents()[3]).hide()\r\n  $($($('.sv-delete-link')[i]).parents()[3]).attr('style', 'color: red')\r\n}\r\n});\r\n\r\n//as-area-clock-status Area TimeClock - \r\n$(document).on(\"knack-view-render.view_4186\", function(event, view, data) {\r\n$('.field_1179').hide();\r\n//console.log(data, \"as-area-clock-status\")\r\n$($($('.field_1966')[1]).children()[0]).html('Current Service Date')\r\n$($($('.field_1966')[1]).children()[1]).html(currentServiceDate())\r\nvar s, c;\r\nif(data.field_1179_raw){ s = 'You Are Clocked In'; c = 'statclosed'}\r\nelse { s = 'You Are Clocked Out'; $('#view_4186 .field_1966').hide(); c = 'statpending' }\r\ns = `<span class=\"as_ticket_reason `+c+`\">`+s+`</span>`\r\n$($('.as-area-clock-status')[0]).html(s)\r\n});\r\n//as-timeclock-date Area TimeClock - History\r\n$(document).on(\"knack-view-render.view_4185\", function(event, view, data) {\r\n//console.log(data, \"History\");\r\ntry{\r\n  for (let i = 0; i < data.length; i++) {\r\n  var hDate = data[i].field_1176_raw.date_formatted;\r\n  var clockIn = $($('#view_4185 .field_1176 .kn-detail-body span span')[i]).html().split(\" \")[1]\r\n  var clockOut = $($('#view_4185 .field_1177 .kn-detail-body span span')[i]).html().split(\" \")[1]\r\n  $($('#view_4185 .field_1176 .kn-detail-body span span')[i]).html(clockIn)\r\n  $($('#view_4185 .field_1177 .kn-detail-body span span')[i]).html(clockOut)\r\n  $($('#view_4185 .as-timeclock-date')[i]).html(hDate)\r\n}\r\n   }\r\ncatch(err){\r\n  //console.log(err)\r\n}\r\n});\r\n\r\n//view_4187 Ready to Clock Out? - My Time Clock\r\n$(document).on(\"knack-view-render.view_4187\", function(event, view, data) {\r\n$($('.as-ready-out-main')[1]).hide(); $($('#view_4187 .kn-action-link')[0]).hide();\r\n$($('.as-ready-out-main')[0]).on(\"click\", function(){\r\n  $($('.as-ready-out-main')[1]).show(); $($('.as-ready-out-main')[0]).hide();\r\n})\r\n$($('.as-ready-out-main')[1]).on(\"click\", function(){\r\n  $($('#view_4187 .kn-action-link')[0]).click();\r\n  $($('.kn-scenes')[0]).hide();\r\n  location.reload()\r\n})\r\n$('#clock_out a').attr('style', \"text-decoration: none;\") //This removes the underline of the btn\r\n});\r\n\r\n//Add Butler Timeclock view_4150\r\n$(document).on(\"knack-view-render.view_4150\", function(event, view, data) {\r\n$('#view_4150-field_113').val(''); $('#view_4150-field_113-time').val(''); $('#view_4150-field_114').val(''); $('#view_4150-field_114-time').val(''); \r\n});\r\n\r\n//view_4202\r\n$(document).on(\"knack-view-render.view_4202\", function(event, view, data) {\r\n$('#view_4202-field_113').val(''); $('#view_4202-field_113-time').val(''); $('#view_4202-field_114').val(''); $('#view_4202-field_114-time').val(''); \r\n});\r\n\r\n//view_4174\r\n$(document).on(\"knack-view-render.view_4174\", function(event, view, data) {\r\n//console.log(data)\r\n$('.field_121').hide();\r\nfor (let i = 0; i < data.length; i++) {\r\n  $($('.sv-stats')[i]).html(data[i].field_121)\r\n  if(data[i].field_121 == \"Started - In Progress\"){\r\n  $($('.sv-stats')[i]).html('In Progress').addClass('sv-not-reviewed')\r\n  }else if(data[i].field_121 == \"Pending\"){\r\n    $($('.sv-stats')[i]).addClass('sv-not-reviewed')\r\n  }\r\n  else{\r\n    $($('.sv-stats')[i]).addClass('sv-fail')\r\n  }\r\n}\r\n});\r\n\r\n\r\n$(document).on(\"knack-view-render.view_3833\", function(event, view, data) {\r\n$('#view_3833-field_1715').val('').trigger(\"liszt:updated\");\r\n  //$('#view_3855').hide();\r\n});\r\n\r\n$(document).on(\"knack-view-render.view_4227\", function(event, view, data) {\r\n$($('.as_close')[0]).hide();\r\n$('#as_input_all_workflows').on('input', function() {\r\n    var inputVal = $('#as_input_all_workflows').val();\r\n    inputVal = inputVal.toLocaleLowerCase()\r\n    if($('#as_input_all_workflows').val() != ''){\r\n        $($('.as_close')[0]).show();\r\n        for (let i = 0; i < $('#view_4225 a').length; i++) {\r\n            var str = $($($('#view_4225 a')[i]).children()[1]).html();\r\n            str = str.toLocaleLowerCase()\r\n          if(str.includes(inputVal)){ $($('#view_4225 a')[i]).show() }else{$($('#view_4225 a')[i]).hide()}\r\n        }\r\n    }\r\n    else{ $('#view_4225 a').show(); $($('.as_close')[0]).hide(); }\r\n});\r\n\r\n  $($('.as_close')[0]).on('click', function(){\r\n  $($('.as_close')[0]).hide(); $('#as_input_all_workflows').val(''); $('#view_4225 a').show();\r\n})\r\n});\r\n\r\n$(document).on(\"knack-view-render.view_4769\", function(event, view, data) {\r\n$($('.as_close')[0]).hide();\r\n$('#as_input_all_workflows').on('input', function() {\r\n    var inputVal = $('#as_input_all_workflows').val();\r\n    inputVal = inputVal.toLocaleLowerCase()\r\n    if($('#as_input_all_workflows').val() != ''){\r\n        $($('.as_close')[0]).show();\r\n        for (let i = 0; i < $('.as-accordion').length; i++) {\r\n            var str = $($('.as-accordion')[i]).html();\r\n            str = str.toLocaleLowerCase()\r\n          if(str.includes(inputVal)){ $($('.as-accordion')[i]).show() }else{$($('.as-accordion')[i]).hide()}\r\n        }\r\n    }\r\n    else{ $('.as-accordion').show(); $($('.as_close')[0]).hide(); }\r\n});\r\n\r\n  $($('.as_close')[0]).on('click', function(){\r\n  $($('.as_close')[0]).hide(); $('#as_input_all_workflows').val(''); $('.as-accordion').show();\r\n})\r\n});\r\n\r\nvar butlerNotClockedOut = { \r\n'match': 'and',\r\n'rules':[{\r\n  \"field\":\"field_114\",\r\n  \"operator\":\"is blank\"\r\n},{\r\n  \"field\":\"field_113\",\r\n  \"operator\":\"is\",\r\n  \"value\": currentServiceDate()\r\n}\r\n        ]\r\n}\r\nvar tapcheckA = { \r\n 'match': 'and',\r\n 'rules':[{\r\n   \"field\":\"field_114\",\r\n   \"operator\":\"is not blank\"\r\n },{\r\n   \"field\":\"field_113\",\r\n   \"operator\":\"is\",\r\n   \"value\": currentServiceDate()\r\n }]\r\n}\r\nvar still_inprogress = \r\n   { \r\n     'match': 'and',\r\n     'rules':[{\r\n       \"field\":\"field_121\",\r\n       \"operator\":\"is\",\r\n       \"value\": \"Started - In Progress\"\r\n     },{\r\n       \"field\":\"field_46\",\r\n       \"operator\":\"is\",\r\n       \"value\": currentServiceDate()\r\n     }]\r\n}\r\n//This is the custom filter that is added on the list with the Knack's funnel filter\r\nvar routeFilterMenu = [\r\n      {   //PRE Service Dashboard Menu\r\n          'route_view_id' : 'view_3812', \r\n          'menus':[\r\n              {\r\n                  'link_n':'2', //Service ID Reviews filtered by the PREVIOUS Service Date\r\n                  'filtered_view': 'view_3850', //view id that will be filtered\r\n                  'filters': [{\r\n                      \"field\":\"field_46\",\r\n                      \"operator\":\"is\",\r\n                      \"value\": prevServiceDate()\r\n                  },{'field': 'field_121', 'operator': 'is','value': 'Complete'}],\r\n                  'active_filter': true\r\n              },{\r\n                  'link_n':'9', // Today's Services  - menu items order number top to btom\r\n                  'filtered_view': 'view_4732', //view id that will be filtered\r\n                  'filters': todayFilter\r\n              }\r\n          ]\r\n      },{ //In Service Dashboard Menu\r\n        'route_view_id' : 'view_4051', \r\n        'menus':[\r\n              {\r\n                  'link_n':'4', //Verify Compactor Logs filtered Current Service date\r\n                  'filtered_view': 'view_4079',\r\n                  'filters': todayFilter\r\n              },{\r\n                  'link_n':'6', //Manage Timeclocks filtered Current Service Date\r\n                  'filtered_view': 'view_4118',\r\n                  'filters': [{\r\n                              \"field\":\"field_113\",\r\n                              \"operator\":\"is\",\r\n                              'value': currentServiceDate()\r\n                          }]\r\n              },{\r\n                  'link_n':'2', //Today'S Services\r\n                  'filtered_view': 'view_4732', \r\n                  'filters': todayFilter\r\n              },{\r\n                  'link_n':'9', //View Completed Services\r\n                   'filtered_view': 'view_3850',\r\n                  'filters': newReviewServiceIDFilter\r\n              }\r\n        ]\r\n      },{ // POST SERVICE DASHBOARD MENUS\r\n          'route_view_id' : 'view_4168',\r\n          'menus':[\r\n              {\r\n                  'link_n':'2', //Service Still In Progress filtered Current Service Date\r\n                  'filtered_view': 'view_4174', \r\n                  'filters': { \r\n                      'match': 'and',\r\n                      'rules':[{\r\n                      \"field\":\"field_121\",\r\n                      \"operator\":\"is\",\r\n                      \"value\": \"Started - In Progress\"\r\n                      },{\r\n                      \"field\":\"field_46\",\r\n                      \"operator\":\"is\",\r\n                      \"value\": currentServiceDate()\r\n                      }]\r\n                  }\r\n              },{\r\n                  'link_n':'3', //Butlers Not Clocked Out filters Clock Out is Blank AND Current Service Date\r\n                  'filtered_view': 'view_4118',\r\n                  'filters': butlerNotClockedOut\r\n              },{\r\n                  'link_n':'4', //TAPCHECK filters Clock Out is NOT Blank AND Current Service Date\r\n                  'filtered_view': 'view_4118',\r\n                  'filters': tapcheckA\r\n              },{\r\n                  'link_n':'6', //REVIEW SERVICE ID filtered CURRENT SERVICE DATE\r\n                  'filtered_view': 'view_3850',\r\n                  'filters': newReviewServiceIDFilter\r\n              },{\r\n                  'link_n':'10', //Today's Services\r\n                  'filtered_view': 'view_4732',\r\n                  'filters': todayFilter\r\n              }\r\n          ]\r\n      },{  //Manage Logs and Infractions Menus\r\n          'route_view_id' : 'view_4080', \r\n          'menus':[\r\n              {\r\n                  'link_n':'1', //Service ID Reviews filtered by the PREVIOUS Service Date\r\n                  'filtered_view': 'view_4081', //view id that will be filtered\r\n                  'filters': [{\r\n                      \"field\":\"field_1499\",\r\n                      \"operator\":\"is\",\r\n                        \"value\": currentServiceDate()\r\n                  }],\r\n                  'active_filter': true\r\n              },{\r\n                  'link_n':'2', // Today's Services  - menu items order number top to btom\r\n                  'filtered_view': 'view_4097', //view id that will be filtered\r\n                  'filters': [{\r\n                      \"field\":\"field_74\",\r\n                      \"operator\":\"is blank\"\r\n                  }],\r\n                  'active_filter': true\r\n              },{\r\n                  'link_n':'3', // Resident Infractions\r\n                  'filtered_view': 'view_4112', //view id that will be filtered\r\n                  'filters': [{\r\n                      \"field\":\"field_66\",\r\n                      \"operator\":\"is\",\r\n                  'value': currentServiceDate()\r\n                  }],\r\n                  'active_filter': true\r\n              },{\r\n                  'link_n':'4', // Compactor Logs\r\n                  'filtered_view': 'view_4113', //view id that will be filtered\r\n                  'filters': [{\r\n                      \"field\":\"field_257\",\r\n                      \"operator\":\"is\",\r\n                  'value': currentServiceDate()\r\n                  }],\r\n                  'active_filter': true\r\n              }\r\n          ]\r\n      },{ //View All Workflows Page\r\n          'route_view_id' : 'view_4225', \r\n          'menus':[\r\n              {\r\n                  'link_n':'5', //Butlers not Clocked Out\r\n                  'filtered_view': 'view_4118',\r\n                  'filters': butlerNotClockedOut,\r\n                  'active_filter': true\r\n              },\r\n              {\r\n                  'link_n':'25', // TapCheck\r\n                  'filtered_view': 'view_4118',\r\n                  'filters': tapcheckA,\r\n                  'active_filter': true\r\n              },{\r\n                  'link_n':'24', // Still In Progress\r\n                  'filtered_view': 'view_4174',\r\n                  'filters': [{\r\n                      \"field\":\"field_46\",\r\n                      \"operator\":\"is\",\r\n                  'value': currentServiceDate()\r\n                  }]\r\n              }\r\n            //,{\r\n               //   'link_n':'5', // Compactor Logs\r\n               //    'filtered_view': 'view_4113', \r\n               //   'filters': [{\r\n               //       \"field\":\"field_257\",\r\n               //       \"operator\":\"is\",\r\n              //\t\t'value': currentServiceDate()\r\n               //   }],\r\n               //   'active_filter': true\r\n              //}\r\n              ,{\r\n                      'link_n':'26', //Today's Services\r\n                      'filtered_view': 'view_4732',\r\n                      'filters': todayFilter\r\n              },{\r\n                  'link_n':'18', //Review Service ID\r\n                   'filtered_view': 'view_3850',\r\n                  'filters': newReviewServiceIDFilter\r\n              },{\r\n                  'link_n':'32', //Review Service ID\r\n                   'filtered_view': 'view_3850',\r\n                  'filters': newReviewServiceIDFilter\r\n              }\r\n          ]\r\n      }\r\n]\r\nrouteFilterMenu.forEach((item) => {\r\n  $(document).on(\"knack-view-render.\" +item.route_view_id, function(event, view, data) {\r\n      item.menus.forEach((t) => {\r\n          function activeFilter(){\r\n              try {\r\n                  if(t.active_filter){ return '&active=true'; console.log('true') }else{ return '' }\r\n              }catch(err){\r\n                  //console.log(err)\r\n              }\r\n          }\r\n          $('.kn-link-'+t.link_n).attr('href', $('.kn-link-'+t.link_n).attr('href') + '?'+t.filtered_view+'_filters='+ encodeURIComponent(JSON.stringify(t.filters)) + activeFilter());\r\n      });\r\n  });\r\n});\r\n//view_4242 Community Units\r\n$(document).on(\"knack-view-render.view_4242\", function(event, view, data) {\r\nconsole.log(data, \"units\");\r\n//hide the RADAR Date if RADAR is No\r\n//Change Activate RADAR to Edit RADAR\r\n  $('.field_151').hide()\r\n  for (let i = 0; i < data.length; i++) {\r\n    if(data[i].field_149_raw){\r\n      $($('.field_151')[i]).show()\r\n      $($('.as-activate-radar')[i]).html('Edit RADAR')//as-accordion sv-emergency\r\n      $($($('.as-activate-radar')[0]).parents()[3]).addClass('as-red')\r\n    }else{\r\n    }\r\n  }\r\n  \r\n});\r\n\r\n//view_4245 Activate RADAR Form\r\n$(document).on(\"knack-view-render.view_4245\", function(event, view, data) {\r\n//console.log(data, \"units\");\r\n  //$('#view_4245 form input').val('')\r\n});\r\n\r\n//view_4243\r\n$(document).on(\"knack-view-render.view_4243\", function(event, view, data) {\r\nconsole.log(data, \"view_4243view_4243view_4243view_4243\");\r\n  var waitForView = setInterval(changeVal, 1000);\r\n  function changeVal() {\r\n    if($('#view_4245').length > 0){\r\n      if(!data.field_149_raw){ $('#view_4245 form input').val('') }\r\n      clearInterval(waitForView);\r\n    }\r\n  }\r\n});\r\n\r\n//Original CC\r\n$(document).on(\"knack-view-render.view_3374\", function() {\r\n  $($('#view_3374 .kn-details-group')[8]).addClass('cm-card')\r\n $($('#infraction_warning').parents()[5]).addClass('cm-card')\r\n //$($('#view_3374 .kn-details-group')[0]).addClass('test-card')\r\n //$($('#view_3374 img').parents()[4]).hide();\r\n $('#view_last_night_service_btn').css('margin-right', '10px');\r\n $($($('#view_3374 .sv-button-green')[1]).parents()[4]).hide()\r\n});\r\n\r\n//view_3407\r\n$(document).on(\"knack-view-render.view_3407\", function() {\r\n $($('#updates-from-tb-id').parents()[1]).addClass('cm-card')\r\n});\r\n\r\n$(document).on(\"knack-view-render.view_3376\", function(event, view, data) {\r\nfor (let i = 0; i < data.length; i++) {//Add tooltip\r\n  $($($('#view_3376 .field_60')[i]).children()[0]).addClass('cm-limit-text') //cm-tooltip\r\n  $($('#view_3376 .field_60')[i]).attr('data-toggle', 'tooltip').addClass('cm-tooltip').attr('data-placement', 'right').attr('title', `${data[i].field_60}`)\r\n  //$($('#view_3376 .field_60')[i]).attr('data-placement', 'right')\r\n  //$($('#view_3376 .field_60')[i]).attr('title', `${data[i].field_60}`)\r\n}\r\n});\r\n\r\n//view_3568\r\n$(document).on(\"knack-view-render.view_3568\", function(event, view, data) {\r\n$($('#view_3568 h2 i').parents()[1]).removeClass('level')\r\n});\r\n\r\n//view_4406 Quick Rating\r\n$(document).on(\"knack-view-render.view_4406\", function(event, view, data) {\r\n$('#view_4406').hide();\r\nconsole.log(data)\r\nif(data.field_1464_raw === \"Yes\"){\r\n  (data.field_1552).includes(\"down\") ? $($('#view_3568 input[type=radio]')[1]).click() : $($('#view_3568 input[type=radio]')[0]).click()\r\n  try{\r\n    // $('#field_1425').val(data.field_1425_raw[data.field_1425_raw.length - 1])\r\n      $('#field_1425').val(data.field_1425_raw[0])\r\n  }\r\n  catch(err){\r\n  }\r\n\r\n  // //For test only Josh\r\n  // $($('#survey_submit_comment').parents()[1]).addClass('hideMe');\r\n  // $('#view_3568 button').removeClass('hideMe')\r\n  // var userProfKeys = Knack.session.user.profile_keys;\r\n  // if(userProfKeys.includes('profile_34')){\r\n  //     if( (data.field_1552).includes(\"down\") ){\r\n  //         // $($('#survey_submit_comment').parents()[1]).addClass('hideMe');\r\n  //         $('#kn-input-field_1425').removeClass('hideMe')\r\n  //     }\r\n  // }\r\n  // //For test only Josh\r\n}\r\n});\r\n//$('#view_last_night_service_btn').append(`&nbsp;<i style=\"margin-top: 5px;\" class=\"fa fa-check-circle\"></i>`)\r\n\r\n$(document).on('knack-form-submit.view_3568', function(event, view, record) {\r\n  console.log(record)\r\n  if($('#view_last_night_service_btn').length > 0){\r\n    record.field_1495 == \"Thumbs Up\" ? $('#view_last_night_service_btn').addClass('rated-icon-green') : $('#view_last_night_service_btn').removeClass('rated-icon-green')\r\n  }\r\n  if($('#view_3374 .fa-check-circle').length === 0){\r\n     $('#view_last_night_service_btn').append(`&nbsp;&nbsp;&nbsp;<i style=\"margin-top: 5px;\" class=\"fa fa-check-circle\"></i>`)\r\n  }\r\n});\r\n\r\n//********************************Hide new service hazard Manage Logs and Infractions AS\r\n$(document).on(\"knack-view-render.view_3996\", function(event, view, data) {//View SERVICE ID - https://apps.sv.knack.com/trashdash#area-command-center/dashboards/pre-service-dashboard/service-id-review/service-id/61dd4b5f183c852ca37e1e51/\r\n// $($('#view_3996 .as-accordion')[4]).hide()\r\n});\r\n\r\n$(document).on(\"knack-view-render.view_3819\", function(event, view, data) {//Review SERVICE ID - https://apps.sv.knack.com/trashdash#area-command-center/dashboards/pre-service-dashboard/service-id-review/review-service-id/61ed1d269e23c12f8dfe902a/\r\n$($('#view_3819 .as-accordion')[3]).hide()\r\n});\r\n\r\n\r\n$(document).on(\"knack-view-render.view_4225\", function(event, view, data) {//View All Workflows Service Hazard \thttps://builder.sv.knack.com/apps/trashdash#pages/scene_1439/views/view_4225\r\n// $('#view_4225 .kn-link-21').hide() // Service Hazard NEW\r\n$('#view_4225 .kn-link-29').remove() // Support Ticket Service Hazard\r\n  $('#view_4225 .kn-link-25').remove()\r\n  $('#view_4225 .kn-link-3').remove()\r\n  $('#view_4225 .kn-link-4').remove()\r\n  \r\n  if(!isButler){\r\n      $('#view_4225 .kn-link-34').remove() //Switch to Butler View\r\n  }else{\r\n      // $('#view_4225 .kn-link-34').remove() //Switch to Butler View //Not yet live\r\n  }  \r\n});\r\n\r\n$(document).on(\"knack-view-render.view_4051\", function(event, view, data) {//view_4051 In Service https://apps.sv.knack.com/trashdash#area-command-center/dashboards/in-service-dashboard/\r\n$('#view_4051 .kn-link-11').remove();\r\n  console.log(view, 'view')\r\n});\r\n\r\nvar duplicateImageUploaderViews = ['view_4819', 'view_4493', 'view_5373']\r\nfor (let i = 0; i < duplicateImageUploaderViews.length; i++) {\r\n$(document).on('knack-view-render.'+duplicateImageUploaderViews[i], function(event, view, data) {\r\n  $('#view_4493 .kn-submit').addClass('hideMe');\r\n  $('#view_5373 .kn-submit').addClass('hideMe');\r\n  $('.field_1802').hide();\r\n  // console.log('view render for {view_4493}');\r\n  \r\n  //hide the duplicate image container\r\n      $('#kn-input-field_1916').addClass('hideMe'); //Audit Score\r\n      $('#kn-input-field_1900').addClass('hideMe');\r\n      // console.log('Hide the duplicate image container')\r\n      // function hideDuplicate(){\r\n      //     for (let i = 0; i < 10; i++) {\r\n      //         $($('.kn-input-image')[i]).find('.filepond--root').next().hide();\r\n      //     }\r\n      // }\r\n      // var runInterval = true;\r\n      // var imageUploadWatcher = setInterval(test, 100);\r\n      // function test(){\r\n      //     //$('#view_4493 button[type=\"submit\"]').hide();\r\n      //     if($('.filepond--root').length == 6){\r\n      //         hideDuplicate();\r\n      //         clearInterval(imageUploadWatcher);  \r\n      //     }\r\n      //     else{\r\n      //         console.log('interval running')\r\n      //         if(runInterval){\r\n      //             runInterval = false;\r\n      //             //console.log('testinggggg')\r\n      //             setTimeout(function () {\r\n      //             //console.log('clear interval')\r\n      //             clearInterval(imageUploadWatcher) \r\n      //             }, 5000);\r\n      //         }\r\n      //     }\r\n      // }\r\n  });\r\n}\r\n//NEW BUTLER AUDIT - NOT REFACTOR (view_4493 not sure if this view exist)\r\n//field_1802 view_4493 Perform Butler Audit Form\r\n// $(document).on(\"knack-view-render.view_4493\", function(event, view, data) {\r\n//   $('#view_4493 .kn-submit').addClass('hideMe');\r\n//   $('.field_1802').hide();\r\n//   console.log('view render for view_4493');\r\n\r\n//   //hide the duplicate image container\r\n//   \t$('#kn-input-field_1916').addClass('hideMe'); //Audit Score\r\n//   \t$('#kn-input-field_1900').addClass('hideMe');\r\n//     console.log('Hide the duplicate image container')\r\n//   \tfunction hideDuplicate(){\r\n//         for (let i = 0; i < 10; i++) {\r\n//             $($('.kn-input-image')[i]).find('.filepond--root').next().hide();\r\n//         }\r\n//     }\r\n//   \tvar runInterval = true;\r\n//   \tvar imageUploadWatcher = setInterval(test, 100);\r\n//   \tfunction test(){\r\n//       \t//$('#view_4493 button[type=\"submit\"]').hide();\r\n//     \tif($('.filepond--root').length == 20){\r\n//           \thideDuplicate();\r\n//         \tclearInterval(imageUploadWatcher);  \r\n//         }\r\n//         else{\r\n//           \tconsole.log('interval running')\r\n//           \tif(runInterval){\r\n//             \trunInterval = false;\r\n//               \t//console.log('testinggggg')\r\n//               \tsetTimeout(function () {\r\n//                   //console.log('clear interval')\r\n//                   clearInterval(imageUploadWatcher) \r\n//                 }, 5000);\r\n//             }\r\n//         }\r\n//     }\r\n// });\r\n//view_4497\r\n$(document).on(\"knack-view-render.view_4497\", function(event, view, data) {\r\n$('#view_4497').hide();\r\n});\r\n\r\nfunction computeButlerScore(){\r\n  var count = 0;\r\n  for (let i = 0; i < 10; i++) {\r\n    if($($('select')[i]).val() == 'Yes'){\r\n        count = count + 1;\r\n    }\r\n  }\r\n  count = count/10;\r\n  $('#field_1916').val(count).change();\r\n}\r\nfunction validateFields(){\r\n  var allField = $('#view_4493-field_1833').val() == '' || $('#field_1835').val() == '' ||\r\n      $('#view_4493-field_1836').val() == '' || $('#field_1838').val() == '' ||\r\n      $('#view_4493-field_1839').val() == '' || $('#field_1841').val() == '' ||\r\n      $('#view_4493-field_1842').val() == '' || $('#field_1844').val() == '' ||\r\n      $('#view_4493-field_1845').val() == '' || $('#field_1847').val() == '' ||\r\n      $('#view_4493-field_1848').val() == '' || $('#field_1850').val() == '' ||\r\n      $('#view_4493-field_1851').val() == '' || $('#field_1853').val() == '' ||\r\n      $('#view_4493-field_1854').val() == '' || $('#field_1856').val() == '' ||\r\n      $('#view_4493-field_1857').val() == '' || $('#field_1859').val() == '' ||\r\n      $('#view_4493-field_1860').val() == '' || $('#field_1862').val() == ''  \r\n  if(allField){\r\n  $('#view_4497').show();\r\n  $('html, body').animate({ scrollTop: $(\"#view_4497\").offset().top }, 1000);\r\n}else{\r\n    $('#view_4493-field_1900').prop(\"selectedIndex\", 1);\r\n    $('#view_4493 form').submit();\r\n  }\r\n}\r\n\r\n//view_4493 Save and Continue Later Btn Butler\r\n$(document).on(\"knack-view-render.view_4498\", function(event, view, data) {\r\n//   $('#kn-input-field_1916').addClass('hideMe');\r\nfunction computeButlerScore(){\r\n  var count = 0;\r\n  for (let i = 0; i < 10; i++) {\r\n    if($($('select')[i]).val() == 'Yes'){\r\n        count = count + 1;\r\n    }\r\n  }\r\n  count = count/10;\r\n  $('#field_1916').val(count).change();\r\n}\r\n\r\nfunction validateFields(){\r\n  var allField = $('#view_4493-field_1833').val() == '' || $('#field_1835').val() == '' ||\r\n      $('#view_4493-field_1836').val() == '' || $('#field_1838').val() == '' ||\r\n      $('#view_4493-field_1839').val() == '' || $('#field_1841').val() == '' ||\r\n      $('#view_4493-field_1842').val() == '' || $('#field_1844').val() == '' ||\r\n      $('#view_4493-field_1845').val() == '' || $('#field_1847').val() == '' ||\r\n      $('#view_4493-field_1848').val() == '' || $('#field_1850').val() == '' ||\r\n      $('#view_4493-field_1851').val() == '' || $('#field_1853').val() == '' ||\r\n      $('#view_4493-field_1854').val() == '' || $('#field_1856').val() == '' ||\r\n      $('#view_4493-field_1857').val() == '' || $('#field_1859').val() == '' ||\r\n      $('#view_4493-field_1860').val() == '' || $('#field_1862').val() == ''  \r\n  if(allField){\r\n  $('#view_4497').show();\r\n  $('html, body').animate({ scrollTop: $(\"#view_4497\").offset().top }, 1000);\r\n}else{\r\n    $('#view_4493-field_1900').prop(\"selectedIndex\", 1);\r\n    $('#view_4493 form').submit();\r\n  }\r\n}\r\n$('#kn-input-field_1900').addClass('hideMe');\r\n$('#as_continue_later_audit').on('click', function(){\r\n  computeButlerScore()\r\n  $('#view_4493-field_1900').prop(\"selectedIndex\", 2);\r\n  $('#view_4493 form').submit();\r\n});\r\n$('#as_continue_audit_next').on('click', function(){\r\n  computeButlerScore()\r\n  $('#view_4493-field_1900').prop(\"selectedIndex\", 1);\r\n  validateFields()\r\n  // $('#view_4493 form').submit();\r\n})\r\n});\r\n\r\n$(document).on('knack-form-submit.view_4492', function(event, view, record) {\r\n  console.log(record, \"New butler audit\") //Add Service ID to Site Audit\r\n  siteAuditNew(record)\r\n});\r\n\r\nfunction siteAuditNew(record){\r\n  let serviceIdFilter = {\r\n              'match': 'and',\r\n              'rules': [{\r\n                  'field': 'field_54', //status\r\n                  'operator': 'is',\r\n                  'value': record.field_193_raw[0].id\r\n               }, {\r\n                  'field': 'field_46', //Date of service\r\n                  'operator': 'is',\r\n                  'value': currentServiceDate()\r\n               }]\r\n  };\r\n  function getService(){\r\n    return $.ajax({\r\n      type: 'GET',\r\n      headers: asHeader,\r\n      url: 'https://api.sv.knack.com/v1/objects/object_9/records?filters='+ encodeURIComponent(JSON.stringify(serviceIdFilter)),\r\n      success: function(serviceData) {\r\n            console.log(serviceData, \"this is from the getServiceId return data\");\r\n            try{\r\n              updateAudit(serviceData.records[0].id)\r\n            }catch(err){\r\n              console.log('The Community does not have service today')\r\n            }\r\n            \r\n      }\r\n    });\r\n  }\r\n  function updateAudit(serviceID){\r\n    console.log(serviceID, \"serviceID\")\r\n      return $.ajax({\r\n      type: 'PUT',\r\n      headers: asHeader,\r\n      url: 'https://api.sv.knack.com/v1/objects/object_19/records/' + record.id,\r\n      data: {\r\n          field_1245: [serviceID]\r\n      }\r\n  \r\n    });\r\n  }\r\n  getService()\r\n}\r\n\r\n//view_4509 Save and Continue LAter Btn Community Audit\r\n$(document).on(\"knack-view-render.view_4509\", function(event, view, data) {\r\n// $('#as_continue_later_audit').on('click', function(){\r\n//   $('#view_4504-field_1884').prop(\"selectedIndex\", 1);\r\n//     $('#view_4504 form').submit();\r\n// });\r\n$('#as_continue_audit_next').on('click', function(){\r\n  // $('#view_4504-field_1884').prop(\"selectedIndex\", 0);\r\n    $('#view_4504 form').submit();\r\n})\r\n});\r\n\r\n$(document).on(\"knack-view-render.view_4504\", function(event, view, data) {\r\n$('#kn-input-field_1884').addClass('hideMe');\r\n$(\"#view_4504 form button[type='submit']\").addClass('hideMe')\r\n});\r\n\r\n//view_4752 Manage Audit - Post Service NEW SETUP\r\n$(document).on(\"knack-view-render.view_4752\", function(event, view, data) {\r\nconsole.log(data);\r\n$('#view_4179').remove();\r\n$('.field_1884').hide();\r\nfor (let i = 0; i < data.length; i++) {\r\n  \r\n  if(data[i].field_689 == 'Butler Audit'){\r\n    $($('.as-com')[i]).parents().eq(5).hide();\r\n  } \r\n  else{\r\n    $($('.field_192')[i]).hide() // hide the butler\r\n    $($('.field_409')[i]).hide() // hide the Audit Score\r\n    $($('.as-butler')[i]).parents().eq(5).hide(); // hide the Edit Butler\r\n  }\r\n}\r\n\r\n//console.log(data, \"view_4752\");\r\n$('.field_1721').hide(); $('.field_689').hide()\r\nfor (let i = 0; i < data.length; i++) {\r\n  $($('.as-audit-type')[i]).html(data[i].field_689);\r\n  if(data[i].field_688 == \"\"){\r\n    $($('.as-audit-status')[i]).addClass('statpending').html(\"In Progress\");\r\n  }else{\r\n    $($('.as-audit-status')[i]).addClass('statclosed').html(\"Completed\");\r\n  }\r\n}\r\n});\r\n// MANAGE MY AUDITS NEW SITE AUDIT MOBILE https://builder.sv.knack.com/apps/trashdash/pages/scene_1694/views/view_4860/list\r\nvar auditViews = ['view_4860', 'view_4627', 'view_4713', 'view_4853', 'view_4859']\r\nfor (let i = 0; i < auditViews.length; i++) {\r\n$(document).on(\"knack-view-render.\"+auditViews[i], function(event, view, data) {\r\n  // console.log(data);\r\n  for (let j = 0; j < data.length; j++) {\r\n    \r\n    if(data[j].field_689 == 'Butler Audit'){\r\n    //   $($('.as-com')[j]).parents().eq(5).hide();\r\n    } \r\n    else{\r\n      $($('#'+auditViews[i]+' .field_192')[j]).hide() // hide the butler\r\n      $($('#'+auditViews[i]+' .field_409')[j]).hide() // hide the Audit Score\r\n    }\r\n  }\r\n\r\n  //console.log(data, \"view_4860\");\r\n  $('.field_1721').hide(); \r\n//   $('.field_689').hide()\r\n  for (let j = 0; j < data.length; j++) {\r\n    $($('#'+auditViews[i]+' .as-audit-type')[j]).html(data[j].field_689);\r\n    if(data[j].field_688 == \"\"){\r\n      $($('#'+auditViews[i]+' .as-audit-status')[j]).addClass('statpending').html(\"In Progress\");\r\n        $($($('#'+auditViews[i]+' .sv-edit-audit')[j]).parents()[6]).hide()\r\n    }else{\r\n      $($('#'+auditViews[i]+' .as-audit-status')[j]).addClass('statclosed').html(\"Completed\");\r\n        $($($('#'+auditViews[i]+' .sv-continue-audit')[j]).parents()[6]).hide()\r\n    }\r\n  }\r\n});\r\n}\r\n\r\n\r\n//NEW BUTLER AUDIT\r\n//'scene_1697','scene_1704','scene_1705','scene_1712','scene_1714','scene_1715','scene_1719','scene_1737','scene_1738','scene_1739','scene_1740','scene_1741','scene_1742','scene_1698','scene_1694',\r\nvar geo_scenes = [ 'scene_1712', 'scene_1714', 'scene_1715', 'scene_1719', 'scene_1737', 'scene_1738', 'scene_1739', 'scene_1740', 'scene_877', 'scene_881', 'scene_882', 'scene_944', 'scene_945', 'scene_1628', 'scene_1632', 'scene_1662', 'scene_1663', 'scene_1664', 'scene_1666', 'scene_1665', 'scene_1667', 'scene_1668', 'scene_1897','scene_1897','scene_1900','scene_1903','scene_1905','scene_1899','scene_1902','scene_1901','scene_1922', 'scene_1924']\r\n//New Site Audit Setup Scene List - https://builder.sv.knack.com/apps/trashdash/pages/scene_1695\r\nvar siteAudit_scenesDesktop = ['scene_1695','scene_1694', 'scene_1936', 'scene_1408', 'scene_1410', 'scene_1960'] //'scene_1408', 'scene_1410', 'scene_1960' = SERVICE HAZARDS\r\ngeo_scenes = geo_scenes.concat(siteAudit_scenesDesktop)\r\n$(document).on('knack-scene-render.any', function(event, scene) {\r\n  if(geo_scenes.includes(scene.key)){\r\n      if($('#sv_geo_css').length === 0){\r\n          currentAppendedTheme = 'sv_geo_css'\r\n        $('head').append('<link rel=\"stylesheet\" type=\"text/css\" id=\"sv_geo_css\" class=\"lazyload\" href=\"https://strategic-visionz.github.io/knack-css/scss/Manage%20Geos%20Theme.1.0.0.min.css\">')\r\n      }\r\n  }else{\r\n      if($('#sv_geo_css').length > 0){\r\n          if(siteAuditShared.includes(scene.key)){}\r\n          else{ $('#sv_geo_css').remove(); }\r\n      }\r\n  }\r\n  if(siteAudit_scenesDesktop.includes(scene.key)){\r\n      currentAppendedTheme = 'as_command_center_theme';\r\n      if($('#as_command_center_theme').length === 0){\r\n          $('head').append('<link rel=\"stylesheet\" type=\"text/css\" id=\"as_command_center_theme\" class=\"lazyload\" href=\"https://strategic-visionz.github.io/knack-css/scss/Area%20Supervisor%20Theme.min.css\">')\r\n      }\r\n  }\r\n  // console.log(currentAppendedTheme)\r\n  checkCurrentTheme();\r\n  // addImagePreview();\r\n  \r\n});\r\n\r\nfunction checkCurrentTheme(){\r\n  if(currentAppendedTheme === 'sv_geo_css'){$('#as_command_center_theme').remove()} \r\n  else if (currentAppendedTheme == 'as_command_center_theme'){$('#sv_geo_css').remove()}\r\n  else {}\r\n}\r\n\r\n//TapCheck Review view_4653 - https://builder.sv.knack.com/apps/trashdash#pages/scene_1708/views/view_4653\r\n$(document).on(\"knack-view-render.view_4653\", function(event, view, data) {\r\nconsole.log(data, \"view_4653 data\");\r\n\r\nfor (let i = 0; i < data.length; i++) {\r\n  if(data[i].field_2212_raw){ $($('.field_112 h2')[i]).append(`<i style=\"position: absolute;right: 10%;color: red;\" class=\"fa fa-flag\"></i>`) }\r\n}\r\n});\r\n\r\nvar auditShared = ['view_4741', 'view_4740'];\r\n//Start Community Audit - In Progress\r\nauditShared.forEach(v_id => {\r\n$(document).on(\"knack-view-render.\"+v_id, function(event, view, data) {\r\n  var userProfKeys = Knack.session.user.profile_keys;\r\n  var isDev = userProfKeys.includes('profile_34')\r\n      for (let i = 0; i < data.length; i++) {\r\n        if(data[i].field_689 == 'Butler Audit'){\r\n            $($('.as-com')[i]).parents().eq(5).hide();\r\n        } \r\n        else{\r\n            $($('.field_192')[i]).hide() // hide the butler\r\n            $($('.field_409')[i]).hide() // hide the Audit Score\r\n            $($('.as-butler')[i]).parents().eq(5).hide(); // hide the Edit Butler\r\n        }\r\n        if(!isDev){\r\n          $($($('.update-audit-photo')[i]).parents()[6]).hide();\r\n        }\r\n      }\r\n  });\r\n})\r\n\r\n//view_4743 Delete Timeclock\r\n$(document).on(\"knack-view-render.view_4743\", function(event, view, data) {\r\nconsole.log(data)\r\n$('#sv_delete').on('click', function(){\r\n  $('.close-modal').click()\r\n $($('.kn-link-delete[href=#'+data.id+']')[0]).click()\r\n  window.alert = function(){};\r\n})\r\n$('#sv_cancel').on('click', function(){\r\n $('.close-modal').click()\r\n})\r\n});\r\n\r\n//\r\n$(document).on('knack-form-submit.view_4123', function(event, view, record) {\r\nconsole.log(record, \"New view_4123 \", currentServiceDate())\r\n// var todayService = new Date().toJSON().slice(0,10).split('-').reverse().join('/');\r\nvar filter = {\r\n  'match': 'and',\r\n  'rules': [\r\n    {\r\n      \"field\":\"field_54\",\r\n      \"operator\":\"is\",\r\n      'value': record.id\r\n    },\r\n    {\r\n      'field': 'field_46', //date\r\n      'operator': 'is',\r\n      'value': currentServiceDate()\r\n    }\r\n  ]\r\n}\r\nif(record.field_2274_raw){ getCommunityTodayService(filter, record) }\r\n})\r\n\r\n//view_4503 https://builder.sv.knack.com/apps/trashdash/pages/scene_1519/views/view_4503/form Community Audit\r\n$(document).on('knack-form-submit.view_4503', function(event, view, record) {\r\nconsole.log(record, \"New view_4503 \")\r\n  var filter = {\r\n  'match': 'and',\r\n  'rules': [\r\n    {\r\n      \"field\":\"field_54\",\r\n      \"operator\":\"is\",\r\n      'value': record.field_193_raw[0].id\r\n    },\r\n    {\r\n      'field': 'field_46', //date\r\n      'operator': 'is',\r\n      'value': currentServiceDate()\r\n    }\r\n  ]\r\n}\r\nKnack.showSpinner('Getting Service ID Details');\r\nreturn $.ajax({\r\n  type: 'GET',\r\n  headers: asHeader,\r\n  url: 'https://api.sv.knack.com/v1/objects/object_9/records?filters=' + encodeURIComponent(JSON.stringify(filter)),\r\n  success: function(data) {\r\n      console.log(filter, currentServiceDate())\r\n    console.log(data, \"this is from the getCommunityTodayService return data\");\r\n    assignServiceIDtoAudit(data, record)\r\n  }\r\n})\r\n})\r\n\r\nfunction assignServiceIDtoAudit(data, record){\r\n  if(data.records.length > 0){\r\n      Knack.showSpinner('Adding Service ID');\r\n      return $.ajax({\r\n          type: 'PUT',\r\n          headers: asHeader,\r\n          url: 'https://api.sv.knack.com/v1/objects/object_19/records/' + record.id,\r\n          data: {\r\n              field_1245: data.records[0].id\r\n          },\r\n          success: function(res) {\r\n              Knack.hideSpinner();\r\n              console.log(res)\r\n          }\r\n      });\r\n  }\r\n}\r\n\r\nfunction getCommunityTodayService(filterToday, record){\r\nKnack.showSpinner('Getting Service ID Details');\r\nreturn $.ajax({\r\n  type: 'GET',\r\n  headers: asHeader,\r\n  url: 'https://api.sv.knack.com/v1/objects/object_9/records?filters=' + encodeURIComponent(JSON.stringify(filterToday)),\r\n  success: function(data) {\r\n    console.log(data, \"this is from the getCommunityTodayService return data\");\r\n    assignButlersToTodayService(data, record)\r\n  }\r\n})\r\n}\r\n\r\nfunction assignButlersToTodayService(data, record){\r\nconsole.log(\"assignButlersToTodayService\", data, record)\r\nif(data.records[0].field_54_raw[0].id === record.id){\r\n  return $.ajax({\r\n    type: 'PUT',\r\n    headers: asHeader,\r\n    url: 'https://api.sv.knack.com/v1/objects/object_9/records/' + data.records[0].id,\r\n    data: {\r\n     field_55: record.field_41_raw\r\n    },\r\n    success: function() {\r\n      Knack.hideSpinner();\r\n    }\r\n  });\r\n}\r\n}\r\n\r\n//view_4754 Delete Timeclock\r\n$(document).on(\"knack-view-render.view_4754\", function(event, view, data) {\r\n//sv_prim_number - field_276_raw.formatted\r\n//sv_sec_number - field_277_raw.formatted\r\ntry{\r\n  var primN = `<span class=\"sv-as-number\"><a href=\"tel:`+data.field_276_raw.formatted+`\"><i class=\"fa fa-phone `+data.field_276_raw.formatted+`\"></i></a></span>\r\n  <span class=\"sv-as-message `+data.field_276_raw.formatted+`\"><a href=\"sms:`+data.field_276_raw.formatted+`\"><i class=\"fa fa-comment\"></i></a><span>`\r\n  $('#sv_prim_number').append(primN)\r\n  var secN = `<span class=\"sv-as-number\"><a href=\"tel:`+data.field_277_raw.formatted+`\"><i class=\"fa fa-phone `+data.field_277_raw.formatted+`\"></i></a></span>\r\n  <span class=\"sv-as-message `+data.field_277_raw.formatted+`\"><a href=\"sms:`+data.field_277_raw.formatted+`\"><i class=\"fa fa-comment\"></i></a><span>`\r\n  $('#sv_sec_number').append(secN)\r\n}catch(err){\r\n  console.log(err)\r\n}\r\n});\r\n\r\n// //view_3832 New Butler Add Territory to Butler\r\n// $(document).on(\"knack-view-render.view_3832\", function(event, view, data) {\r\n//   \t$($('#kn-input-field_525').parents()[1]).addClass('hideMe')\r\n//  \t$('#view_3832-field_525').val($($('#view_3832-field_525 option')[1]).val()).trigger(\"liszt:updated\");\r\n//   \t$('#view_3832-field_2075').val($($('#view_3832-field_2075 option')[1]).val()).trigger(\"liszt:updated\");\r\n// });\r\n\r\n//This changes the Text of the Community Name to \"Edit Community Assignment\"\r\n//view_4732 view_3837 - https://builder.sv.knack.com/apps/trashdash/pages/scene_1567/views/view_4732/list \r\nvar shared2 = [//Edit Community Assignment - https://builder.sv.knack.com/apps/trashdash/pages/scene_1442/views/view_3837/list \r\n    'view_4732', 'view_3837'\r\n]\r\nshared2.forEach((view_id, idx) => {\r\n$(document).on(\"knack-view-render.\"+view_id, function(event, view, data) {\r\nvar btnC = $('.updateComButlers');\r\nvar title = `Edit Community Assignment`; var icon = `<span class=\"icon is-left\"><i class=\"fa fa-edit\"></i></span>`\r\n  for (let i = 0; i < $('.updateComButlers').length; i++) {\r\n    $($($('.updateComButlers')[i]).parents()[2]).next().find('a').html(`${icon}  Edit Community Assignment`).css('text-decoration', 'none');\r\n    $($($('.updateComButlers')[i]).parents()[2]).next().addClass('kn-details-link')\r\n    \r\n  }\r\n});\r\n})\r\n\r\n\r\n\r\n//view_5296 View User Guide\r\n$(document).on(\"knack-view-render.view_5296\", function(event, view, data) {\r\nconsole.log(data, \"video user guide\")\r\n$('#kn-scene_1752 .view-group-3').hide()\r\n  // var videoGuides = [\r\n  //     {\r\n  //         'title': 'How to Login & Clock-In using the Area Mobile Command Center?',\r\n  //         'video': '<div style=\"position: relative; padding-bottom: 56.25%; height: 0;\"><iframe src=\"https://www.loom.com/embed/d87b2f3cc80d43169e5a07081d69e5e9\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\"></iframe></div>',\r\n  //         'description' : ''\r\n  //     },\r\n  //     {\r\n  //         'title': 'Dashboards & Workflows Overview',\r\n  //         'video': '<div style=\"position: relative; padding-bottom: 56.25%; height: 0;\"><iframe src=\"https://www.loom.com/embed/7dc5c060dc1046559f227ce93903efcb\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\"></iframe></div>',\r\n  //         'description' : ''\r\n  //     },\r\n  //     {\r\n  //         'title': 'How to Keep Track Of Late Services',\r\n  //         'video': '<div style=\"position: relative; padding-bottom: 56.25%; height: 0;\"><iframe src=\"https://www.loom.com/embed/45b08db477464ed29a89c0e0f8e5d84d\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\"></iframe></div>',\r\n  //         'description' : ''\r\n  //     },\r\n  //     {\r\n  //         'title': 'How To Set Up New Butlers Fast!',\r\n  //         'video': '<div style=\"position: relative; padding-bottom: 56.25%; height: 0;\"><iframe src=\"https://www.loom.com/embed/a61eb3d84da848648df0e143645c93df\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\"></iframe></div>',\r\n  //         'description' : ''\r\n  //     },\r\n  //     {\r\n  //         'title': 'How to Perform Service ID Reviews',\r\n  //         'video': '<div style=\"position: relative; padding-bottom: 56.25%; height: 0;\"><iframe src=\"https://www.loom.com/embed/f7249173409c485c95b148cf8ba2ebf1\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\"></iframe></div>',\r\n  //         'description' : ''\r\n  //     },\r\n  //     {\r\n  //         'title': 'How to View All Service IDs',\r\n  //         'video': '<div style=\"position: relative; padding-bottom: 56.25%; height: 0;\"><iframe src=\"https://www.loom.com/embed/eb68588a71e342cf9ec38be46f5a0b20\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\"></iframe></div>',\r\n  //         'description' : ''\r\n  //     },\r\n  //     {\r\n  //         'title': 'How To Manage Service Assignments',\r\n  //         'video': '<div style=\"position: relative; padding-bottom: 56.25%; height: 0;\"><iframe src=\"https://www.loom.com/embed/ccb941865c464bd881d244e11fad158f\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\"></iframe></div>',\r\n  //         'description' : ''\r\n  //     },\r\n  //     {\r\n  //         'title': 'How To Manage Support Tickets',\r\n  //         'video': '<div style=\"position: relative; padding-bottom: 56.25%; height: 0;\"><iframe src=\"https://www.loom.com/embed/96886f6126b54ac08c71b78d6eaf536a\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\"></iframe></div>',\r\n  //         'description' : ''\r\n  //     },\r\n  //     {\r\n  //         'title': 'How To Review New Butler Training',\r\n  //         'video': '<div style=\"position: relative; padding-bottom: 56.25%; height: 0;\"><iframe src=\"https://www.loom.com/embed/92ab800ebbc34a36a65350f38b7c5821\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\"></iframe></div>',\r\n  //         'description' : ''\r\n  //     },\r\n  //     {\r\n  //         'title': 'How To Quickly View Todays Services',\r\n  //         'video': '<div style=\"position: relative; padding-bottom: 56.25%; height: 0;\"><iframe src=\"https://www.loom.com/embed/c77086b80a9045c496bcc6590111cd5c\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\"></iframe></div>',\r\n  //         'description' : ''\r\n  //     },\r\n  //     //{\r\n  //        // 'title': 'How To Perform Site Audits Audit',\r\n  //        // 'video': '',\r\n  //        // 'description' : ''\r\n  //     //},\r\n  //     {\r\n  //         'title': 'How To View & Update Important Community Information',\r\n  //         'video': '<div style=\"position: relative; padding-bottom: 56.25%; height: 0;\"><iframe src=\"https://www.loom.com/embed/44d7d3b20994409bb7ef0b0f16d95f3f\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\"></iframe></div>',\r\n  //         'description' : ''\r\n  //     },\r\n  //     {\r\n  //         'title': 'How To Add Same Day Service For A Community',\r\n  //         'video': '<div style=\"position: relative; padding-bottom: 56.25%; height: 0;\"><iframe src=\"https://www.loom.com/embed/062a4064d5f3425ca44c80ed31792c8c\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\"></iframe></div>',\r\n  //         'description' : ''\r\n  //     },\r\n  //     {\r\n  //         'title': 'Quickly Verify Compactor Logs At The Start Of Service',\r\n  //         'video': '<div style=\"position: relative; padding-bottom: 56.25%; height: 0;\"><iframe src=\"https://www.loom.com/embed/bcec508a9ff3432baac210a3a8123980\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\"></iframe></div>',\r\n  //         'description' : ''\r\n  //     },\r\n  //     {\r\n  //         'title': 'How To Quickly Find, View, Edit, Add Infractions, Hazards, RADARs and Compactor Logs',\r\n  //         'video': '<div style=\"position: relative; padding-bottom: 56.25%; height: 0;\"><iframe src=\"https://www.loom.com/embed/d3f6ed9af6c146fb898e0ee68256ef3f\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\"></iframe></div>',\r\n  //         'description' : ''\r\n  //     },\r\n  //     {\r\n  //         'title': 'How To Manage Butler Timeclocks',\r\n  //         'video': '<div style=\"position: relative; padding-bottom: 56.25%; height: 0;\"><iframe src=\"https://www.loom.com/embed/8787345b5d8942949e3144a8ecc69c62\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\"></iframe></div>',\r\n  //         'description' : ''\r\n  //     },\r\n  //     {\r\n  //         'title': 'How To View A List Of All Butlers I Manage',\r\n  //         'video': '<div style=\"position: relative; padding-bottom: 56.25%; height: 0;\"><iframe src=\"https://www.loom.com/embed/dd9dc13ab6f64744895071037a58602f\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\"></iframe></div>',\r\n  //         'description' : ''\r\n  //     },\r\n  //     {\r\n  //         'title': 'How To View The Areas and Communities I Manage (My Profile Page)',\r\n  //         'video': '<div style=\"position: relative; padding-bottom: 56.25%; height: 0;\"><iframe src=\"https://www.loom.com/embed/79317c285ed641f7a818328d3a4bc618\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\"></iframe></div>',\r\n  //         'description' : ''\r\n  //     },\r\n  //     {\r\n  //         'title': 'How To Quickly See Which Services Are Still In Progress',\r\n  //         'video': '<div style=\"position: relative; padding-bottom: 56.25%; height: 0;\"><iframe src=\"https://www.loom.com/embed/bcb4626c97c540bcba7753e5d47ec870\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\"></iframe></div>',\r\n  //         'description' : ''\r\n  //     },\r\n  //     {\r\n  //         'title': 'How To Quickly See If Any Of My Butlers Are Still Clocked In',\r\n  //         'video': '<div style=\"position: relative; padding-bottom: 56.25%; height: 0;\"><iframe src=\"https://www.loom.com/embed/6cff0a908c014acba4ad2dd602f478ad\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\"></iframe></div>',\r\n  //         'description' : ''\r\n  //     },\r\n  //     {\r\n  //         'title': 'How To Manage My Tapcheck Flagging/Approvals',\r\n  //         'video': '<div style=\"position: relative; padding-bottom: 56.25%; height: 0;\"><iframe src=\"https://www.loom.com/embed/59a6407b816147848051c1cc9efbfb6d\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\"></iframe></div>',\r\n  //         'description' : ''\r\n  //     },\r\n  //     {\r\n  //         'title': 'Show Area Supervisor Clock Out and Time Clock History',\r\n  //         'video': '<div style=\"position: relative; padding-bottom: 56.25%; height: 0;\"><iframe src=\"https://www.loom.com/embed/45b53c7c63094b79a8896f4d44c4b93c\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\"></iframe></div>',\r\n  //         'description' : ''\r\n  //     }\r\n  // ]\r\n  var accordion = ``;\r\n  data.forEach((a, i) => {\r\n      accordion = accordion +`<button class=\"as-accordion\">${a.field_2345}</button>\r\n                                  <div class=\"as-panel\">\r\n                                      <p>${a.field_2348}</p>\r\n                                      <p>${a.field_2347}</p>\r\n                                  </div>`;\r\n  });\r\n  $('#view_4769').append(accordion);\r\n  responsiveAcc()\r\n});\r\n\r\n\r\n//view_4141 https://apps.sv.knack.com/trashdash#area-command-center/dashboards/view-all-workflow/my-butlers/\r\n$(document).on(\"knack-view-render.view_4141\", function(event, view, data) {\r\nconsole.log(data)\r\n//sv_prim_number - field_276_raw.formatted\r\n//sv_sec_number - field_277_raw.formatted\r\nfor (let i = 0; i < data.length; i++) {\r\n  try{\r\n    var noNum = ''; var noNum2 = '';\r\n    if(data[i].field_276 == ''){ noNum = 'no-number' }//\r\n    if(data[i].field_277 == ''){ noNum2 = 'no-number' }//\r\n    var primN = `<span class=\"sv-as-number\">\r\n                  <a class=\"${noNum}\" href=\"tel:${data[i].field_276_raw.formatted}\">\r\n                      <i class=\"fa fa-phone ${noNum}\"></i>\r\n                  </a>\r\n              </span>\r\n              <span class=\"sv-as-message\">\r\n                  <a class=\"${noNum}\" href=\"sms:${data[i].field_276_raw.full}\">\r\n                      <i class=\"fa fa-comment ${noNum}\"></i>\r\n                  </a>\r\n              </span>`\r\n    $($('.sv-prim')[i]).append(primN)\r\n  //   var secN = `<span class=\"sv-as-number\"><a class=\"${noNum2}\" href=\"tel:`+data[i].field_277_raw.formatted+`\"><i class=\"fa fa-phone ${noNum2}\"></i></a></span>\r\n  //   <span class=\"sv-as-message\"><a class=\"${noNum2} href=\"sms:`+data[i].field_277_raw.formatted+`\"><i class=\"fa fa-comment ${noNum2}\"></i></a><span>`\r\n  //   $($('.sv-sec')[i]).append(secN)\r\n  }catch(err){\r\n    console.log(err)\r\n  }\r\n}\r\n});\r\n\r\n//view_4141 https://apps.sv.knack.com/trashdash#area-command-center/dashboards/view-all-workflow/my-butlers/\r\n$(document).on(\"knack-view-render.view_4812\", function(event, view, data) {\r\nconsole.log(data)\r\n//sv_prim_number - field_276_raw.formatted\r\n//sv_sec_number - field_277_raw.formatted\r\nfor (let i = 0; i < data.length; i++) {\r\n  try{\r\n    var noNum = ''; var noNum2 = '';\r\n    if(data[i].field_276 == ''){ noNum = 'no-number' }//\r\n    if(data[i].field_277 == ''){ noNum2 = 'no-number' }//\r\n    var primN = `<span class=\"sv-as-number\"><a class=\"${noNum}\" href=\"tel:`+data[i].field_276_raw.formatted+`\"><i class=\"fa fa-phone ${noNum}\"></i></a></span>\r\n    <span class=\"sv-as-message\"><a class=\"${noNum}\" href=\"sms:`+data[i].field_276_raw.formatted+`\"><i class=\"fa fa-comment ${noNum}\"\"></i></a><span>`\r\n    $($('.sv-prim')[i]).append(primN)\r\n  }catch(err){\r\n    console.log(err)\r\n  }\r\n}\r\n});\r\n\r\n\r\n$(document).on(\"knack-view-render.view_4618\", function(event, view, data) {\r\n$('#as_continue_audit_next').html('Next > Add Photos')\r\n});\r\n\r\n//view_4819 Save and Continue Later Btn Butler - https://builder.sv.knack.com/apps/trashdash#pages/scene_1697\r\n$(document).on(\"knack-view-render.view_4820\", function(event, view, data) {\r\n  $('#view_5267').hide();\r\n  $('#view_4819 button[type=button]').addClass('hideMe')\r\n  $('#kn-input-field_1916').addClass('hideMe');\r\n  $('#kn-input-field_1900').addClass('hideMe');\r\n  $('#as_continue_later_audit').on('click', function(){\r\n      computeButlerScore()\r\n      $('#view_4819-field_1900').prop(\"selectedIndex\", 2);\r\n      $('#field_2917').prop(\"selectedIndex\", 1);\r\n      $('#view_4819 form').submit();\r\n      $('#view_4618 form').submit();\r\n      $('.close-modal').click();\r\n  });\r\n  $('#as_continue_audit_next').on('click', function(){\r\n      console.log(\"as_continue_audit_next\")\r\n      $('#field_2917').prop(\"selectedIndex\", 0);\r\n      computeButlerScore()\r\n      //   $('#view_4819 form').submit();\r\n      validateFields()\r\n      $('#view_4618 form').submit();\r\n  })\r\n\r\n  function validateFields(){\r\n  var allField = $('#view_4819-field_1833').val() == '' || $('#field_1835').val() == '' ||\r\n      $('#view_4819-field_1836').val() == '' || $('#field_1838').val() == '' ||\r\n      $('#view_4819-field_1839').val() == '' || $('#field_1841').val() == '' ||\r\n      $('#view_4819-field_1842').val() == '' || $('#field_1844').val() == '' ||\r\n      $('#view_4819-field_1845').val() == '' || $('#field_1847').val() == '' ||\r\n      $('#view_4819-field_1848').val() == '' || $('#field_1850').val() == '' ||\r\n      $('#view_4819-field_1851').val() == '' || $('#field_1853').val() == '' ||\r\n      $('#view_4819-field_1854').val() == '' || $('#field_1856').val() == '' ||\r\n      $('#view_4819-field_1857').val() == '' || $('#field_1859').val() == '' ||\r\n      $('#view_4819-field_1860').val() == '' || $('#field_1862').val() == ''  \r\n  if(allField){\r\n  $('#view_5267').show();\r\n  $('html, #kn-modal-bg-0').animate({ scrollTop: $(\"#view_5267\").offset().top }, 1000);\r\n}else{\r\n    $('#view_4819-field_1900').prop(\"selectedIndex\", 1);\r\n    $('#view_4819 form').submit();\r\n  }\r\n}\r\n});\r\n\r\n// view_5382\r\n$(document).on(\"knack-view-render.view_5382\", function(event, view, data) {\r\n$(\"#view_5382 .kn-submit\").addClass('hideMe')\r\n});\r\n// view_5380\r\n$(document).on(\"knack-view-render.view_5380\", function(event, view, data) {\r\n  $($(\"#view_5255\").parents()[1]).hide()\r\n});\r\n// //view_5373 Save and Continue Later Btn Butler - https://builder.sv.knack.com/apps/trashdash#pages/scene_1697\r\n// $(document).on(\"knack-view-render.view_5376\", function(event, view, data) {\r\n//     $('#view_5267').hide();\r\n//     $(\"#view_5382 .kn-submit\").addClass('hideMe')\r\n//     $('#view_5373 button[type=button]').addClass('hideMe')\r\n//     $('#kn-input-field_1916').addClass('hideMe');\r\n//     $('#kn-input-field_1900').addClass('hideMe');\r\n//     $('#as_continue_later_audit').on('click', function(){\r\n//         computeButlerScore()\r\n//         $('#view_5373-field_1900').prop(\"selectedIndex\", 2);\r\n//         $('#field_2917').prop(\"selectedIndex\", 1);\r\n//         $('#view_5373 form').submit();\r\n//         $('#view_4618 form').submit();\r\n//         $('.close-modal').click();\r\n//     });\r\n//     $('#as_continue_audit_next').on('click', function(){\r\n//         console.log(\"as_continue_audit_next\")\r\n//         $('#field_2917').prop(\"selectedIndex\", 0);\r\n//         computeButlerScore()\r\n//         //   $('#view_5373 form').submit();\r\n//         validateFields()\r\n//         $('#view_4618 form').submit();\r\n      \r\n//     })\r\n\r\n//     function validateFields(){\r\n//     var allField =  $('#view_5373-field_1836').val() == ''\r\n//   \tif(allField){\r\n// \t\t// $('#view_5267').show();\r\n//     $('.sv-field-validation').removeClass('hideMe')\r\n// \t\t$('html, #kn-modal-bg-0').animate({ scrollTop: $(\"#kn-input-field_1836\").offset().top }, 1000);\r\n// \t}else{\r\n//     \t$('#view_5373-field_1900').prop(\"selectedIndex\", 1);\r\n//     \t$('#view_5373 form').submit();\r\n//       $(\"#view_5382 form\").submit()\r\n//     }\r\n// }\r\n// });\r\n\r\n//view_5384\r\n$(document).on(\"knack-view-render.view_5384\", function(event, view, data) {\r\n  $(\"#view_5384 .kn-submit\").addClass('hideMe');\r\n});\r\n\r\n//view_5373 Save and Continue Later Btn Butler - https://builder.sv.knack.com/apps/trashdash#pages/scene_1697\r\n$(document).on(\"knack-view-render.view_5385\", function(event, view, data) {\r\nconsole.log('view_5385view_5385view_5385view_5385view_5385view_5385view_5385')\r\n  $('#as_continue_later_audit').on('click', function(){\r\n      $('#field_2917').prop(\"selectedIndex\", 1);\r\n      $('#view_5384 form').submit();\r\n  });\r\n  $('#as_continue_audit_next').on('click', function(){\r\n      console.log(\"as_continue_audit_next\")\r\n      validateFields()\r\n      \r\n  })\r\n\r\n  function validateFields(){\r\n    var allField =  $('#view_5384-field_389').val() == ''||\r\n      $('#view_5384-field_390').val() == '' ||\r\n      $('#view_5384-field_391').val() == '' ||\r\n      $('#view_5384-field_392').val() == '' ||\r\n      $('#view_5384-field_393').val() == '' ||\r\n      $('#view_5384-field_394').val() == '' ||\r\n      $('#view_5384-field_395').val() == '' ||\r\n      $('#view_5384-field_396').val() == '' ||\r\n      $('#view_5384-field_397').val() == '' ||\r\n      $('#view_5384-field_398').val() == ''\r\n    if(allField){\r\n      $('#view_4497').show();\r\n      $('.sv-field-validation').removeClass('hideMe')\r\n      $('html, #kn-modal-bg-0').animate({ scrollTop: $(\"#view_4497\").offset().top }, 1000);\r\n    }else{\r\n        $('#field_2917').prop(\"selectedIndex\", 0);\r\n        $(\"#view_5384 form\").submit()\r\n    }\r\n  }\r\n});\r\n\r\n//view_5382\r\n$(document).on(\"knack-view-render.view_5382\", function(event, view, data) {\r\n  $(\"#view_5382 .kn-submit\").addClass('hideMe');\r\n});\r\n\r\n//view_5373 Save and Continue Later Btn Butler - https://builder.sv.knack.com/apps/trashdash#pages/scene_1697 TTTTTTTTTTTTTTTTTTTTTTTTT\r\n$(document).on(\"knack-view-render.view_5376\", function(event, view, data) {\r\n  $('#as_continue_later_audit').on('click', function(){\r\n      $('#field_2917').prop(\"selectedIndex\", 1);\r\n      $('#view_5382 form').submit();\r\n  });\r\n  $('#as_continue_audit_next').on('click', function(){\r\n      console.log(\"as_continue_audit_next\")\r\n      $('#field_2917').prop(\"selectedIndex\", 0);\r\n      validateFields()\r\n      \r\n  })\r\n\r\n  function validateFields(){\r\n    var allField =  $('#view_5382-field_389').val() == ''||\r\n      $('#view_5382-field_390').val() == '' ||\r\n      $('#view_5382-field_391').val() == '' ||\r\n      $('#view_5382-field_392').val() == '' ||\r\n      $('#view_5382-field_393').val() == '' ||\r\n      $('#view_5382-field_394').val() == '' ||\r\n      $('#view_5382-field_395').val() == '' ||\r\n      $('#view_5382-field_396').val() == '' ||\r\n      $('#view_5382-field_397').val() == '' ||\r\n      $('#view_5382-field_398').val() == ''\r\n    if(allField){\r\n      // $('#view_5267').show();\r\n      $('.sv-field-validation').removeClass('hideMe')\r\n      $('html, #kn-modal-bg-0').animate({ scrollTop: $(\"#kn-input-field_390\").offset().top }, 1000);\r\n    }else{\r\n        $('#field_2917').prop(\"selectedIndex\", 0);\r\n        $(\"#view_5382 form\").submit()\r\n    }\r\n  }\r\n});\r\n\r\n//Audit's Ive Completed Mobile Version - https://builder.sv.knack.com/apps/trashdash/pages/scene_1694/views/view_4860/list\r\n$(document).on(\"knack-view-render.view_4860\", function(event, view, data) {\r\n  var userProfKeys = Knack.session.user.profile_keys;\r\n  var isDev = userProfKeys.includes('profile_34');\r\n  \r\n  for(let i = 0; i < data.length; i++){\r\n      if(data[i].field_689 != 'Butler Audit'){\r\n          $('#view_4860 .field_409').hide();\r\n          $('#view_4860 .field_192').hide();\r\n      }\r\n      if(!isDev){\r\n          $($($('.update-audit-photos')[i]).parents()[4]).hide();\r\n      }\r\n  }\r\n});\r\n\r\n//view_4907 - Community & Contract - Site Details https://apps.sv.knack.com/trashdash#area-command-center/dashboards/view-all-workflow/communities-contacts/view-community-details3\r\n$(document).on(\"knack-view-render.view_4907\", function(event, view, data) {\r\n var currentComId = $(location).attr(\"href\").replace(/\\/\\s*$/, \"\").split('/').pop();\r\n $('#view_4907-field_193').val(currentComId).trigger(\"liszt:updated\");\r\n $('#view_4907').hide();\r\n});\r\n\r\n$(document).on('knack-scene-render.scene_1530', function(event, scene) {\r\n  $('.kn-records-nav').append($('.kn-view .kn-notification').parents()[0])\r\n});\r\nvar tbUpdates;\r\n//Community Concierge https://builder.sv.knack.com/apps/trashdash/pages/scene_1255/views/view_4928/rich_text\r\n$(document).on('knack-view-render.view_4928', function(event, view, record) {\r\n  console.log('object_90');\r\n  var goToTest = window.location.href + 'tb-community-updates';\r\n  var tbBtn = `<a href=\"${goToTest}\">... Read More<a>`;\r\n  return $.ajax({\r\n      type: 'GET',\r\n      headers: asHeader,\r\n      url: 'https://api.sv.knack.com/v1/objects/object_90/records',\r\n      success: function(res) {\r\n        console.log('TB UPDATES API TEST', res)\r\n        tbUpdates = res.records[0].field_1685;\r\n          var updataText = tbUpdates;\r\n          var updateLength = 300;\r\n          var trimmedUpdate = updataText.substring(0, updateLength);\r\n         $('#view_4928').append(trimmedUpdate)\r\n         $('#view_4928').append(tbBtn);\r\n      }\r\n  });\r\n $('#view_4928').on('click', function(){\r\n      window.location.href = goToTest;\r\n  })\r\n});\r\n\r\n//view_4926\r\n$(document).on('knack-view-render.view_4926', function(event, view, record) {\r\n  console.log('tbUpdates');\r\n  $('#view_4926').append(`<span>${tbUpdates}<span>`)\r\n});\r\n\r\n//view_4929 - https://builder.sv.knack.com/apps/trashdash/pages/scene_1324/views/view_4929/form\r\n$(document).on('knack-view-render.view_4929', function(event, view, record) {\r\n  $('#view_4929').addClass('hideMe');\r\n  var currentCMRoles = Knack.session.user.profile_objects;\r\n  var currentCMId = currentCMRoles.find(x => x.object == \"object_5\").entry_id;\r\n  var takenBy = [currentCMId]\r\n  takenBy.push($('#view_4929-field_2379').val());\r\n  $('#view_4929-field_2379').val(takenBy).trigger(\"liszt:updated\");\r\n});\r\n//https://builder.sv.knack.com/apps/trashdash/pages/scene_1324/views/view_3520/form\r\n//Submit the update Community Form when Survey is submitted\r\n$(document).on('knack-form-submit.view_3520', function(event, view, record) {\r\n  $('p.sticky').hide();\r\n  $('#sv_survey_link').hide();\r\n  $('#view_4929 form').submit()\r\n});\r\n$(document).on('knack-form-submit.view_4930', function(event, view, record) {\r\n  $('p.sticky').hide();\r\n  $('#sv_survey_link').hide();\r\n  $('#view_4929 form').submit()\r\n});\r\n//view_4929\r\n$(document).on('knack-form-submit.view_4929', function(event, view, record) {\r\n $('.close-modal').click()\r\n});\r\n\r\n//view_4954 make the modal bigger\r\n$(document).on('knack-view-render.view_4954', function(event, view, record) {\r\n//    $('#kn-modal-bg-0 .kn-modal').css('width', '70%');\r\n $('#kn-modal-bg-0 .kn-modal').addClass('wide-modal');\r\n $($('#view_4954').parents()[0]).addClass('sv-modal-survey-first-column')\r\n$('#kn-modal-bg-0 .kn-container').removeClass('kn-container')\r\n$('#kn-scene_1324').css('max-width', '100% !important')\r\n$($($('.sv-modal-survey')[0]).parents()[1]).addClass('sv-custom-header');\r\n//   $('#sv_quarter_year').html('Q1 2022')\r\n});\r\n\r\n//view_4958 Survey Control Panel\r\n$(document).on('knack-view-render.view_4958', function(event, view, data){\r\n $('#view_4958').hide();\r\n});\r\n\r\n//view_4958 Survey Control Panel\r\n$(document).on('knack-view-render.view_3810', function(event, view, data){\r\n  if(!isButler){\r\n      $('#view_3810 .kn-link-3').hide()\r\n  }else{\r\n      // $('#view_3810 .kn-link-3').hide() //Not yet live\r\n  }  \r\n});\r\n//view_5303 Survey Control Panel\r\n$(document).on('knack-view-render.view_5303', function(event, view, data){\r\n  if(!isButler){\r\n      $('#view_5303 .kn-link-3').hide()\r\n  }else{\r\n      // $('#view_5303 .kn-link-3').hide() //Not yet live\r\n  }  \r\n});\r\n\r\n//scene_1792 Test Only\r\n$(document).on('knack-scene-render.scene_1792', function(event, view, data) {\r\n  var test = Knack.session.user.profile_objects;\r\n  var test2 = test.find(x => x.object == \"object_4\");\r\n  console.log(test2);\r\n\r\n});\r\n\r\n//view_4961 Verify Butler Timeclock https://builder.sv.knack.com/apps/trashdash/pages/scene_1799\r\n$(document).on('knack-view-render.view_4961', function(event, view, data){\r\n  console.log(data);\r\n  $('.level').hide();\r\n  $('.field_55').hide();\r\n  for (let i = 0; i < data.length; i++) {\r\n  //   var serviceFilter = [{\"field\":\"field_119\", \"operator\":\"is\", \"value\":data[i].id}]\r\n  //   var test = getButlerTimeclock(serviceFilter, i);\r\n      var assignedButlers = data[i].field_55_raw;\r\n      for (let j = 0; j < assignedButlers.length; j++) {\r\n          var butlerText = \r\n          `<div class=\"sv-butler-timeclock-verify hideMe\" butler-id=\"${assignedButlers[j].id}\">\r\n              <span class=\"sv-butler-name\">${assignedButlers[j].identifier}</span>\r\n              <span class=\"as-warning-butler sv-checked\"><i class=\"fa fa-check-circle\"></i></span>\r\n              <hr>\r\n              <div class=\"sv-timeclock-container\">\r\n                  <span class=\"sv-not-clocked-out\">Not Clocked In</span>\r\n              </div>\r\n          </div>`;\r\n          var notClockedInButler = \r\n          `<div class=\"sv-not-clocked-in-butler\" butler-id=\"${assignedButlers[j].id}\">\r\n              <span class=\"sv-butler-name\">${assignedButlers[j].identifier}</span>\r\n          </div>`\r\n          $($('.sv-butler-assigned')[i]).append(butlerText);\r\n          $($('.sv-butler-assigned-not-clocked-in')[i]).append(notClockedInButler);\r\n      }\r\n      $($('.sv-butler-assigned')[i]).attr('service-id', data[i].id)\r\n  }\r\n  getButlerTimeclock()\r\n      \r\n});\r\n\r\n\r\n// function getButlerTimeclock(serviceFilter, j) {\r\nfunction getButlerTimeclock() {\r\nreturn $.ajax({\r\n  type: 'GET',\r\n  headers: asHeader,\r\n  url: 'https://api.sv.knack.com/v1/pages/scene_1799/views/view_4962/records',\r\n  // url: 'https://api.sv.knack.com/v1/objects/object_18/records',\r\n  success: function(data) {\r\n        console.log(data, \"serviceFilter\")\r\n          var records = data.records;\r\n          for (let i = 0; i < records.length; i++) {\r\n              for (let j = 0; j < $('.sv-butler-assigned').length; j++) {\r\n                  if( $($('.sv-butler-assigned')[j]).attr('service-id') == records[i].field_119_raw[0].id ){\r\n                      //  $($('.sv-butler-assigned')[j]).append('This is the service id')\r\n                      var clockOutValue, clockOutPic;\r\n                      var notClockOut = false;\r\n                      // clockOutValue = (!records[i].field_114_raw.hours) ? return `Clock Out At ${records[i].field_114_raw.hours}:${records[i].field_114_raw.minutes}` : `Not Clocked Out`;\r\n                      if((!records[i].field_114_raw.hours)){\r\n                          clockOutValue = '<span class=\"sv-not-clocked-out\">Not Clocked Out</span>';\r\n                          clockOutPic = ``;\r\n                          notClockOut = true;\r\n                      }else{\r\n                          clockOutValue = `Clock Out At ${records[i].field_114_raw.hours}:${records[i].field_114_raw.minutes}`;\r\n                          clockOutPic = records[i].field_260_raw\r\n                      }\r\n                      var timeClockImage = `<div class=\"sv-timeclock-container\">\r\n                                  <div style=\"width: 50%;\">\r\n                                      <p> Clock In At ${records[i].field_113_raw.hours}:${records[i].field_113_raw.minutes} </p>\r\n                                      <a class=\"kn-img-gallery\" href=\"#\" style=\"display: inline-block\">\r\n                                          <div class=\"nailthumb-container\">\r\n                                              <img data-kn-img-gallery=`+records[i].field_609_raw+` src=`+records[i].field_609_raw+`;>\r\n                                          </div>\r\n                                      </a>    \r\n                                  </div>\r\n                                  <div style=\"width: 50%;\">\r\n                                      <p> ${clockOutValue} </p>\r\n                                      <a class=\"kn-img-gallery\" href=\"#\" style=\"display: inline-block\">\r\n                                          <div class=\"nailthumb-container\">\r\n                                              <img data-kn-img-gallery=${clockOutPic} src=${clockOutPic};>\r\n                                          </div>\r\n                                      </a>    \r\n                                  </div>\r\n                              </div>`;\r\n                          $($('.sv-butler-assigned')[j]).find(`[butler-id=${records[i].field_112_raw[0].id}]`).removeClass('hideMe')\r\n                          $($('.sv-butler-assigned')[j]).find(`[butler-id=${records[i].field_112_raw[0].id}]`).find(`[class='sv-timeclock-container']`).hide();\r\n                          $($('.sv-butler-assigned-not-clocked-in')[j]).find(`[butler-id=${records[i].field_112_raw[0].id}]`).hide();\r\n                          $($('.sv-butler-assigned')[j]).find(`[butler-id=${records[i].field_112_raw[0].id}]`).append(timeClockImage);\r\n                      // if(notClockOut){\r\n                      //     $($('.sv-butler-assigned')[j]).find(`[butler-id=${records[i].field_112_raw[0].id}]`).append(timeClockImage).find(`[class='as-warning-butler sv-checked']`).hide();\r\n                      // }else{\r\n                      //     $($('.sv-butler-assigned')[j]).find(`[butler-id=${records[i].field_112_raw[0].id}]`).append(timeClockImage).find(`[class='as-warning-butler sv-checked']`).show();\r\n                      // }\r\n                      \r\n                  }\r\n              }\r\n          }\r\n      }\r\n});\r\n}\r\n\r\n//view_4982\r\n$(document).on('knack-view-render.view_4982', function(event, view, data){\r\n  $('#view_4982 button').on('click', function(){\r\n      $('.close-modal').click()\r\n      $('#view_4985 form').submit()\r\n      $('#view_4987 form').submit()\r\n  })\r\n});\r\n\r\n//view_4985 Dismissed By Form\r\n$(document).on('knack-view-render.view_4985', function(event, view, data){\r\n  console.log('New PopUp')\r\n  $($('#view_4985').parents()[1]).addClass('hideMe')\r\n  var currentCMRoles = Knack.session.user.profile_objects;\r\n  var currentCMId = currentCMRoles.find(x => x.object == \"object_5\").entry_id;\r\n  var takenBy = [currentCMId]\r\n  if( $('#view_4985-field_2379').val() == null || !($('#view_4985-field_2379').val()).includes(currentCMId) ){\r\n      var messageLink = window.location.href+ '/community-details3/';\r\n      window.location.href = messageLink;\r\n      console.log('NOT INCLUDES')\r\n  }\r\n  takenBy.push($('#view_4985-field_2379').val());\r\n  $('#view_4985-field_2379').val(takenBy).trigger(\"liszt:updated\");\r\n});\r\n//view_4987\r\n// $(document).on('knack-view-render.view_4987', function(event, view, data){\r\n//     $($('#view_4987').parents()[1]).addClass('hideMe')\r\n//     if(data.field_2440 != \"Yes\"){ //DELETED FIELD\r\n//         var messageLink = window.location.href+ '/community-details3/';\r\n//         window.location.href = messageLink\r\n//     }\r\n// });\r\n\r\n// //view_3568\r\n$(document).on('knack-view-render.view_3568', function(event, view, data){\r\n    //     var userProfKeys = Knack.session.user.profile_keys;\r\n    //     if(userProfKeys.includes('profile_34')){\r\n    //         $('#view_3568 button').addClass('hideMe')\r\n    //         $($('#survey_submit_comment').parents()[1]).removeClass('hideMe');\r\n    //         $('#survey_submit_comment').hide();\r\n    //         $('#survey_submit').html('Submit');\r\n    \r\n    //         $('input[type=radio]').on('click', function(){\r\n    //             $('#view_3568 button').addClass('hideMe')\r\n    //             $($('#survey_submit_comment').parents()[1]).removeClass('hideMe');\r\n    //             if( $($('input[type=radio]')[1]).is(':checked') ){\r\n    //                 $('#survey_submit').html(`No, I'll submit it as is`)\r\n    //                     $('#survey_submit_comment').show();\r\n    //                     $('#kn-input-field_1425').addClass('hideMe');\r\n    //             }\r\n    //             else{\r\n    //                     $('#survey_submit_comment').hide();\r\n    //                     $('#kn-input-field_1425').hide()\r\n    //                     $('#survey_submit').html(`Submit`);\r\n                        \r\n    \r\n    //             }\r\n    //         });\r\n    \r\n    //         $('#survey_submit_comment').on('click', function(){\r\n    //             $('#kn-input-field_1425').removeClass('hideMe');\r\n    //             $($('#survey_submit_comment').parents()[1]).addClass('hideMe');\r\n    //             $('#view_3568 button').removeClass('hideMe')\r\n    //         })\r\n    \r\n    //         $('#survey_submit').on('click', function(){\r\n    //             $('#view_3568 form').submit()\r\n    //         })\r\n            \r\n    //     }\r\n    \r\n      // var userProfKeys = Knack.session.user.profile_keys;\r\n      // if(userProfKeys.includes('profile_34')){\r\n      // $('#')\r\n          $('#view_3568 button').addClass('hideMe')\r\n      // }\r\n});\r\n//Knack.showSpinner();\r\n//view_5023\r\n$(document).on('knack-view-render.view_5023', function(event, view, data){\r\n  $('#sv_rating_hidden').append(`<textarea class=\"kn-textarea hideMe\" id=\"field_1425_new\" name=\"field_1425\"></textarea>`)\r\n  $('#survey_submit_1').on('click', function(){\r\n      console.log('survey_submit_1')\r\n      $('#survey_submit_1').hide()\r\n      if( $($('input[type=radio]')[1]).is(':checked') && $('#field_1425').val() == ''){\r\n          $('#view_3568').addClass('hideMe');\r\n          $('#sv_rating_hidden').removeClass('hideMe')\r\n      }else{\r\n          $('#view_3568 form').submit();\r\n          // Knack.showSpinner();\r\n      }\r\n  });\r\n  $('#survey_submit').on('click', function(){\r\n      $('#view_3568 form').submit();\r\n  })\r\n\r\n  $('#survey_submit_comment').on('click', function(){\r\n      $('#sv_rating_hidden button').hide();\r\n      $('#field_1425_new').removeClass('hideMe')\r\n      $('#survey_submit_1').show(); \r\n      $('#survey_submit_1').addClass('quick-rating');\r\n      $($('.sv_text_center')[0]).html('We apologize and understand your frustration.')\r\n      $($('.sv_text_center')[1]).html('Please let us know what we could have done better.')\r\n    });\r\n    $('#field_1425_new').keyup(()=>{\r\n        $('#field_1425').val($('#field_1425_new').val())\r\n  })\r\n});\r\n\r\n\r\n//view_5035\r\n$(document).on('knack-view-render.view_5035', function(event, view, data){\r\n  if(showPopUpAs){\r\n      showPopUpAs = false;\r\n      $('#sv_show_popup').click();\r\n  }\r\n $($('#view_5035').parents()[0]).hide();\r\n});\r\n\r\n//view_5039\r\n$(document).on('knack-view-render.view_5039', function(event, view, data){\r\n $('#sv_show_popup').click();\r\n $($('#view_5039').parents()[0]).hide();\r\n});\r\n//$('#view_3812 .kn-link-5').hide()\r\n$(document).on('knack-view-render.view_3812', function(event, view, data){\r\n$('#view_3812 .kn-link-5').hide()\r\n});\r\n\r\n$(document).on('knack-form-submit.view_3568', function(event, view, record) {\r\n  if($('#view_3473').length > 0){\r\n      location.reload()\r\n  }\r\n});\r\n\r\n//                         //service hazard\r\n// const butler_service = ['scene_1761','scene_1411','scene_1904', 'scene_8','scene_7','scene_38','scene_274','scene_42','scene_50','scene_613','scene_427','scene_951','scene_43','scene_286','scene_51','scene_52','scene_950']\r\n// $(document).on('knack-scene-render.any', function(event, scene) {\r\n//   if(butler_service.includes(scene.key)){\r\n//     if($('#butler_service_ui').length === 0){\r\n//       $('head').append('<link rel=\"stylesheet\" type=\"text/css\" id=\"butler_service_ui\" class=\"lazyload\" href=\"https://strategic-visionz.github.io/knack-css/scss/Butler%20Service%20Process%20Theme1.0.0.min.css\">')\r\n//     }\r\n//   }\r\n//   else{\r\n//     if($('#butler_service_ui').length > 0 && scene.key != 'scene_1761'){\r\n//       $('#butler_service_ui').remove();\r\n//     }\r\n//   }\r\n// });\r\n\r\n//view_4760 Service ID List Accordion Test\r\n$(document).on('knack-view-render.view_4760', function(event, view, data){\r\n  $('#view_5056').html('');\r\n  var accordion = '';\r\n  data.forEach((a, i) => {\r\n        accordion = accordion +`<button class=\"as-accordion\"></button>\r\n                                    <div class=\"as-panel\">\r\n                                    </div>`;\r\n     \r\n  });\r\n  $('#view_5056').append(accordion);\r\n  responsiveAcc();\r\n  for (let j = 0; j <  data.length; j++) {\r\n      $($('#view_5056 .as-accordion')[j]).append($($('#'+data[j].id+' .column-1')[0]));\r\n      $($('#view_5056 .as-panel')[j]).append( $('#'+data[j].id) );\r\n  }\r\n\r\n});\r\n\r\n//POPUP Functionality\r\n//Description\r\n//view_5058\r\n$(document).on('knack-view-render.view_5101', function(event, view, data){\r\n  var currentUrl = window.location.href;\r\n  var currentCMRoles = Knack.session.user.profile_objects;\r\n  var currentCMId = currentCMRoles.find(x => x.object == \"object_5\").entry_id;\r\n  $('#sv_cm_popups').click(()=>{\r\n      window.location.href = currentUrl + 'cm-active-popups/' + currentCMId;\r\n  })\r\n\r\n  // return $.ajax({\r\n  //     type: 'GET',\r\n  //     headers: asHeader,\r\n  //     url: 'https://api.sv.knack.com/v1/pages/scene_1253/views/view_5080/records',\r\n  //     success: function(res) {\r\n  //         console.log(res, \"view_5101\");\r\n  //         // if(res.field_2488_raw.length > 0){\r\n  //         //     $('#sv_cm_popups').click();\r\n  //         // }\r\n  //     }\r\n  // });\r\n});\r\n\r\n// //view_5077\r\n// $(document).on('knack-view-render.view_5077', function(event, view, data){\r\n//     console.log(data);\r\n//     var currentCMRoles = Knack.session.user.profile_objects;\r\n//     var currentCMId = currentCMRoles.find(x => x.object == \"object_5\").entry_id;\r\n//     var upData = {\"field_2468\": 'TADASDS'}\r\n//     for (let i = 0; i < data.length; i++) {\r\n//         var allCM;\r\n//         if(data[i].field_2506_raw){\r\n//             allCM = data[i].field_2506_raw;\r\n//             for (let j = 0; j < allCM.length; j++) {\r\n//                 if(allCM[j].id == currentCMId){\r\n//                     $($('#view_5077 .kn-list-item-container')[i]).hide();\r\n//                 }\r\n//             }\r\n          \r\n          \r\n//         }\r\n//         var dismissedBy = data[i].field_2506_raw.map((b) => {return b.id})\r\n//             if(!dismissedBy.includes(currentCMId)){\r\n//                 dismissedBy.push(currentCMId)\r\n//             }\r\n//         console.log(i, dismissedBy, \"dismissedBy\")\r\n//         $($('.sv_add_cm_dismissed')[i]).on('click', function(){\r\n//                 KnackApi.UpdateObject('object_126', data[i].id, {\"field_2506\": dismissedBy}).then((results) => {\r\n              \r\n//                     // Knack.views.view_5077.model.fetch();\r\n//                 });\r\n\r\n//                     $($('#view_5077 .kn-list-item-container')[i]).hide();\r\n//         })\r\n//     }\r\n  \r\n// });\r\n\r\n//\r\nvar popUpOpen = false;\r\n//view_5102\r\n// $(document).on('knack-view-render.view_5102', function(event, view, data){\r\n//     console.log(data, 'views data')\r\n//     var inFieldSched = [];\r\n//     var currentCMRoles = Knack.session.user.profile_objects;\r\n//     var currentCMId = currentCMRoles.find(x => x.object == \"object_5\").entry_id;\r\n//     if(data.field_2489_raw){\r\n//        inFieldSched = data.field_2489_raw.map((b) => {return b.id})\r\n//     }\r\n//     var globalSched;\r\n//     return $.ajax({\r\n//         type: 'GET',\r\n//         headers: asHeader,\r\n//         url: 'https://api.sv.knack.com/v1/pages/scene_1253/views/view_5107/records',\r\n//         success: function(res) {\r\n//             console.log(res, 'view_5102 Global Popup Data');\r\n//             var records = res.records\r\n//             globalSched = records.map((b) => {return b.id});\r\n//             var newActiveSched = globalSched.concat(inFieldSched)\r\n//             newActiveSched = newActiveSched.filter((e, i, a) => a.indexOf(e) === i);\r\n//             var addToCMActiveField = globalSched.filter(n => !inFieldSched.includes(n))\r\n//             if(addToCMActiveField.length > 0){\r\n//                 updateCommunitysActiveField(data.id, newActiveSched, addToCMActiveField)\r\n//             }else{\r\n//                 KnackApi.GetObject('object_5', currentCMId).then((resu) => {\r\n//                     if(resu.field_2488 != '' && resu.field_2488_raw.length > 0){ console.log(res, \"resuresuresuresu\")\r\n//                        if( checkActivePopup(resu.field_2488_raw) ){\r\n//                            const myTimeout = setTimeout(()=>{$('#sv_cm_popups').click();}, 5000);\r\n//                            popUpOpen = true;\r\n//                        } \r\n//                     }\r\n//                 });\r\n//             }\r\n//         }\r\n//     });\r\n\r\n\r\n// });\r\n\r\n// function updateCommunitysActiveField(comID, newActiveSched, addToCMActiveField){\r\n//     KnackApi.UpdateObject('object_8', comID, {\"field_2489\": newActiveSched}).then((results) => {\r\n//         var comManagers = results.field_43_raw.map((b) => {return b.id});\r\n//         updateLoggedCMActivePopupField(addToCMActiveField, comManagers)\r\n//         console.log('updateCommunitysActiveField function', results)\r\n//     });\r\n// }\r\n\r\n// function updateLoggedCMActivePopupField(addToCMActiveField, comManagers){\r\n//     console.log(addToCMActiveField, comManagers, \"comManagers\")\r\n//     var newCMActiveSched;\r\n//     for (let i = 0; i < comManagers.length; i++) {\r\n//         KnackApi.GetObject('object_5', comManagers[i]).then((res) => {\r\n//             newCMActiveSched = addToCMActiveField.concat(res.field_2488_raw);\r\n//             KnackApi.UpdateObject('object_5', comManagers[i], {\"field_2488\": newCMActiveSched}).then((results) => {\r\n//                 console.log('updateLoggedCMActivePopupField All is well', results)\r\n//                 if(i == (comManagers.length - 1)  && !popUpOpen){\r\n//                     const myTimeout = setTimeout(()=>{$('#sv_cm_popups').click();}, 5000);\r\n//                     popUpOpen = true;\r\n//                 }\r\n//             });\r\n//         }); \r\n//     }\r\n \r\n// }\r\n\r\n$(document).on('knack-form-submit.view_5086', function(event, view, record) {\r\nif(record.field_2514 == 'Yes'){\r\n    window.location.href = window.location.href + 'add-new-popup-schedule?temp-id=' + record.id;\r\n    \r\n}\r\n});\r\n\r\n//view_5057\r\n$(document).on('knack-view-render.view_5057', function(event, view, data){\r\n  function getUrlParameter(name) {\r\n      name = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\r\n      var regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)');\r\n      var results = regex.exec(location.href);\r\n      return results === null ? '' : decodeURIComponent(results[1].replace(/\\+/g, '    '));\r\n  };\r\n  if(getUrlParameter('temp-id')){\r\n      const myInterval = setInterval(addTempIDtoField, 1000);\r\n      function addTempIDtoField() {\r\n          if($('#view_5057-field_2478').val() == ''){\r\n              $('#view_5057-field_2478').val(getUrlParameter('temp-id')).trigger(\"liszt:updated\");\r\n          }else{\r\n              clearInterval(myInterval);\r\n          }\r\n      }   \r\n  }\r\n});\r\n\r\n//view_5057\r\n$(document).on('knack-form-submit.view_5057', function(event, view, record) {\r\nif(record.field_2487 == 'Targeted'){\r\n    //Get the Communities - https://builder.sv.knack.com/apps/trashdash/schema/list/objects/object_126/fields/field_2482/settings/\r\n    //All CMs and Active Popup\r\n    //Update the Community Active Popups, add this Popup to to Active Popup\r\n    var newComActiveSched;\r\n    var newComActiveSchedCM;\r\n    var targetedSched = [record.id];\r\n    var comIds = record.field_2482_raw.map((b) => {return b.id})\r\n    console.log(comIds);\r\n    for (let j = 0; j < comIds.length; j++) {\r\n          Knack.showSpinner(`Updating Targeted Communities' ${comIds[j]} Active Popups`);\r\n          KnackApi.GetObject('object_8', comIds[j]).then((res) => {\r\n              var comManagers = res.field_43_raw.map((b) => {return b.id});\r\n              newComActiveSched = targetedSched.concat(res.field_2489_raw);\r\n              console.log('GetObject object_8 Community', comIds[j], res, comManagers, \"comManagers\")\r\n\r\n              //Update Community Active Popup , add this Popup to to Active Popup\r\n              KnackApi.UpdateObject('object_8', comIds[j], {\"field_2489\": newComActiveSched}).then((results) => {\r\n                  console.log(results, comIds[j])\r\n              });\r\n\r\n              //Update this Community's CMs - Add the Active Popup;\r\n              Knack.showSpinner(`Updating Targeted Communities' ${comIds[j]} Community Managers`);\r\n              for (let i = 0; i < comManagers.length; i++) {\r\n                  KnackApi.GetObject('object_5', comManagers[i]).then((resu) => {\r\n                      newComActiveSchedCM = targetedSched.concat(resu.field_2488_raw);\r\n                      console.log('GetObject object_5 CM', comManagers[i], resu)\r\n                      KnackApi.UpdateObject('object_5', comManagers[i], {\"field_2488\": newComActiveSchedCM}).then((result) => {\r\n                          console.log('Targeted Sched Table - Updat CM data - Active Popups', result, comManagers[i])\r\n                          Knack.hideSpinner();\r\n                      });\r\n                  });\r\n              }\r\n              \r\n      });\r\n      \r\n  }\r\n    \r\n}\r\n});\r\n\r\nfunction checkActivePopup(cmPop){//Chck the logged CM and the Current Community's active popup\r\n  var communityActivePopups = (Knack.views.view_5102.model.attributes.field_2489_raw).map((b) => {return b.id});\r\n  var commonPopup = [];\r\n  console.log('checkActivePopup')\r\n  for (let i = 0; i < cmPop.length; i++) {\r\n     if( communityActivePopups.includes(cmPop[i].id) ){ return true; break; }\r\n      // commonPopup.push(cmPop[i].id);\r\n  }\r\n}\r\n\r\n\r\n// //view_4070 View Bsed API test\r\n// $(document).on('knack-view-render.view_4070', function(event, view, data){\r\n//    KnackViewApi.GetObjects('scene_1789', 'view_4911', {}).then((res) => {\r\n//        console.log('view_4070 View Bsed API test', res)\r\n//     });\r\n// });\r\n\r\n\r\n//view_3238 Highligh Icon when clicked DEV\r\n$(document).on('knack-view-render.view_3238', function(event, view, data){\r\n  $('#view_3238 input[type=radio]').on('click', function(){\r\n      $($(this).parents()[1]).addClass('sv-icon-highlight')\r\n      $($($(this).parents()[1]).siblings()[0]).removeClass('sv-icon-highlight')\r\n  })\r\n});\r\n\r\n\r\n//view_3238 DEV\r\n$(document).on('knack-form-submit.view_3238', function(event, view, record) {\r\n  // console.log(record, \"popo\")\r\n  if( record.field_2793 != '' ){ // if Butler Timeclock Thumbs Up/Down is not blank, insert a record to the Butler Service Ratings\r\n      KnackViewApi.SaveObject('scene_1206', 'view_5177', { 'field_2796' : record.id }).then((res) => {\r\n      console.log('view_3238 View Bsed API test', res)\r\n      });\r\n  }\r\n});\r\n\r\n//view_5278 Community Flyer PDF Version 2022\r\n$(document).on('knack-view-render.view_5278', function(event, view, data){\r\nconsole.log(data)\r\nvar pdfView = `<div style=\"width:90%; margin: auto; margin-top: 20px\">\r\n<button class=\"delete close-modal\" id=\"sv_pdf_close\"><i class=\"fa fa-close\" style=\"font-size:24px\"></i></button>\r\n<iframe src=\"${data.field_2904_raw}\" width=\"100%\" height=\"600\" style=\"border:none;\"></iframe>\r\n</div>`\r\n$('#kn-modal-bg-0').append(pdfView)\r\n// $('.modal-card-body').hide()\r\n$('.kn-modal').hide()\r\n$('#sv_pdf_close').on('click', function(){\r\n  $('.close-modal').click();\r\n})\r\n\r\n});\r\n\r\n//view_5054 Highligh Icon when clicked \r\n$(document).on('knack-view-render.view_5054', function(event, view, data){\r\n  // var currentRoles = Knack.session.user.profile_objects;\r\n  // var rolesObject = currentRoles.map((b) => {return b.object})\r\n  // if( rolesObject.includes('object_34') ){\r\n  //     $(\"#kn-input-field_2793\").removeClass('hideMe'); //Thumbs Up/Down\r\n  //     $(\"#kn-input-field_2795\").removeClass('hideMe'); //Feedback\r\n  // }\r\n  $('#view_5054 input[type=radio]').on('click', function(){\r\n      $($(this).parents()[1]).addClass('sv-icon-highlight')\r\n      $($($(this).parents()[1]).siblings()[0]).removeClass('sv-icon-highlight')\r\n  })\r\n});\r\n\r\n\r\n//view_5054\r\n$(document).on('knack-form-submit.view_5054', function(event, view, record) {\r\n  // console.log(record, \"popo\")\r\n  // var currentRoles = Knack.session.user.profile_objects;\r\n  // var rolesObject = currentRoles.map((b) => {return b.object})\r\n  // if( rolesObject.includes('object_34') ){\r\n     if( record.field_2793 != '' ){ // if Butler Timeclock Thumbs Up/Down is not blank, insert a record to the Butler Service Ratings\r\n          KnackViewApi.SaveObject('scene_950', 'view_5183', { 'field_2796' : record.id }).then((res) => {\r\n          console.log('view_5054 View Bsed API test', res)\r\n          });\r\n      }\r\n  // }\r\n});\r\n\r\n\r\n\r\n// //view_3588\r\n// $(document).on('knack-view-render.view_3588', function(event, view, data){\r\n//     console.log('getDeviceData', getDeviceData())\r\n// });\r\n\r\n// $(document).on('knack-form-submit.view_5047', async function(event, view, record) {\r\n//   await $.ajax(\r\n//         {\r\n//         url:\"https://process.svweb.dev/webhook/11891acb-b4a4-4470-a6e2-7f8b49a2df7f\",\r\n//         type:'POST',\r\n//         data: {json: JSON.stringify(record)},\r\n//         dataType: 'json'\r\n      \r\n//         }\r\n//         )\r\n// });\r\n\r\n// $(document).on('knack-form-submit.view_5191', async function(event, view, record) {\r\n//   await $.ajax(\r\n//         {\r\n//         url:\"https://process.svweb.dev/webhook/11891acb-b4a4-4470-a6e2-7f8b49a2df7f\",\r\n//         type:'POST',\r\n//         data: {json: JSON.stringify(record)},\r\n//         dataType: 'json'\r\n      \r\n//         }\r\n//         )\r\n// });\r\n\r\n//view_5175 Add Identifier to Butler Service Ratings > Butler Timeclock Connection\r\n$(document).on('knack-view-render.view_5175', async function(event, view, data) {\r\n  console.log(data);\r\n  for (let i = 0; i < data.length; i++) {\r\n      if(data[i].field_2796 == \"\"){\r\n          // console.log(data[i].field_2796_raw[0].id)\r\n          setTimeout(correctIdentifier(i), (i*1000) + 1000);\r\n      }\r\n  }\r\n  function correctIdentifier(i){\r\n      var timeclockId = data[i].field_2796_raw[0].id\r\n      return $.ajax({\r\n          type: 'PUT',\r\n          headers: asHeader,\r\n          url: 'https://api.sv.knack.com/v1/pages/scene_1888/views/view_5176/records/'+data[i].id,\r\n          data: {\r\n              field_2796: [\"61eedf067fb8fb0775ed6bfe\"]\r\n          },\r\n          success: function(res) {\r\n              console.log(res, \"field_2796_raw\", timeclockId)\r\n              return $.ajax({\r\n                  type: 'PUT',\r\n                  headers: asHeader,\r\n                  url: 'https://api.sv.knack.com/v1/pages/scene_1888/views/view_5176/records/'+data[i].id,\r\n                  data: {\r\n                      field_2796: [timeclockId]\r\n                  },\r\n                  success: function(res) {\r\n                      console.log(res, \"field_2796_raw\", timeclockId)\r\n                  }\r\n              });\r\n          }\r\n      });\r\n  }\r\n  \r\n\r\n  //scene_1888\r\n  \r\n});\r\n\r\n//view_5176 Update Butler Service Rating to add the Identifier\r\n\r\n//view_3754\r\n$(document).on('knack-view-render.view_3754', function(event, view, data){\r\n  $('#kn-scene_1253').removeClass('group-layout-wrapper')\r\n});\r\n\r\n//view_3369 //My Communities\r\n$(document).on('knack-view-render.view_3369', function(event, view, data){\r\n  $($('.kn-info-bar')[0]).addClass('show-breadcrumbs')\r\n  $($('.show-breadcrumbs')[0]).removeClass('kn-info-bar');\r\n  var t = 1;\r\n  const myInterval = setInterval(myTimer, 1000);\r\n  function myTimer() {\r\n      if( $($('.show-breadcrumbs')[0]) ){\r\n        if(($($('.show-breadcrumbs')[0]).attr('style')).includes('none')){\r\n          $($('.show-breadcrumbs')[0]).removeClass('kn-info-bar');\r\n          $($('.show-breadcrumbs')[0]).css('display', 'block');\r\n        }else{\r\n            clearInterval(myInterval);\r\n        }\r\n      }\r\n      t = t+1;\r\n      if(t>10){ clearInterval(myInterval) }\r\n      // console.log(t,\"time\")\r\n  }\r\n\r\n});\r\n$(document).on('knack-view-render.view_5209', function(event, view, data){\r\n$('#view_5209').append(`<section id=\"sv_popup_prev\"></section>`)\r\n});\r\n$(document).on('knack-view-render.view_5293', function(event, view, data){\r\n$('#view_5293').append(`<section id=\"sv_popup_prev\"></section>`)\r\n});\r\n\r\n// view_5208 Butler Popup https://builder.sv.knack.com/apps/trashdash/pages/scene_1900/views/view_5208/form\r\n$(document).on('knack-view-render.view_5208', function(event, view, data){\r\n  $('#view_5208_field_2877_chzn li').on('click', function(){ \r\n      if($('#view_5208-field_2877').val() != ''){\r\n          console.log($('#view_5208-field_2877').val())\r\n          //scene_1902/views/view_5212\r\n          KnackViewApi.GetObject('scene_1902', 'view_5212', $('#view_5208-field_2877').val(), {}).then((res) => {\r\n              console.log('KnackViewApi Butler Popup', res)\r\n              $('#sv_popup_prev').html(res)\r\n              var newTemplate = `<div style=\"align-items: center;text-align: center;\">\r\n              <h2>${res.field_2648}</h2>\r\n              <p>${res.field_2879}</p>\r\n              <p>${res.field_2646}</p>\r\n              <hr>\r\n              </div>`\r\n              $('#sv_popup_prev').html(newTemplate)\r\n          });\r\n      }\r\n  })\r\n});\r\n\r\n// view_5214 Popup to CMs\r\n$(document).on('knack-view-render.view_5214', function(event, view, data){\r\n  console.log('Test')\r\n  $('#view_5214_field_2478_chzn li').on('click', function(){ \r\n      console.log('Clicked')\r\n      if($('#view_5214-field_2478').val() != ''){\r\n          console.log($('#view_5214-field_2478').val())\r\n          //scene_1902/views/view_5212\r\n          KnackViewApi.GetObject('scene_1902', 'view_5212', $('#view_5214-field_2478').val(), {}).then((res) => {\r\n              console.log('KnackViewApi Butler Popup', res)\r\n              $('#sv_popup_prev').html(res)\r\n              var newTemplate = `<div style=\"align-items: center;text-align: center;\">\r\n              <h2>${res.field_2648}</h2>\r\n              <p>${res.field_2879}</p>\r\n              <p>${res.field_2646}</p>\r\n              <hr>\r\n              </div>`\r\n              $('#sv_popup_prev').html(newTemplate)\r\n          });\r\n      }\r\n  })\r\n});\r\n\r\nvar allDismissedB;\r\nvar allLive = [];\r\n// view_5223\r\n$(document).on('knack-view-render.view_5223', async function(event, view, data){\r\n  $('#kn-scene_7 .view-group-4').addClass('hideMe')\r\n  var userProfKeys = Knack.session.user.profile_keys;\r\n  var isDev = userProfKeys.includes('profile_34');\r\n  // if(userProfKeys.includes('profile_34')){\r\n  //     allLive = Knack.views.view_5039.model.data.map((b) => {return b.id})\r\n  // }else{\r\n  //    allLive = Knack.views.view_5242.model.data.map((b) => {return b.id})\r\n  // }\r\n  var allLiveData = Knack.views.view_5039.model.data.map((b) => {return b.attributes})\r\n  await getLivePopUpsB();\r\n  await checkIfOpenPopup();\r\n  \r\n  function getLivePopUpsB(){\r\n    if(isDev){\r\n      allLive = Knack.views.view_5039.model.data.map((b) => {return b.id})\r\n    }else{\r\n      for (let i = 0; i < allLiveData.length; i++) {\r\n        if( !allLiveData[i].field_2881_raw ){ allLive.push( allLiveData[i].id ) }\r\n      }\r\n    }\r\n  }\r\n\r\n  function checkIfOpenPopup(){\r\n    $('#view_5223-field_2892').val() == null ? allDismissedB = [] : allDismissedB = $('#view_5223-field_2892').val()\r\n    console.log('allLive', allLive, 'allDismissedB', allDismissedB)\r\n  \r\n    for (let i = 0; i < allLive.length; i++) {\r\n      if( !allDismissedB.includes(allLive[i]) ){ \r\n        // addBootstrapCarousel()\r\n        $($('#view_5218 .kn-link')[0]).find('span').click();\r\n        console.log( allLive[i], \"not included\" )\r\n        break;\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nfunction addBootstrapCarousel(){\r\nconsole.log(\"addBootstrapCarousel\")\r\n// if( $('#sv_carousel_bs').length == 0 ){\r\n//       var sv_car = `<link class=\"lazyload\" id=\"#sv_carousel_bs\" rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css\" integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\" crossorigin=\"anonymous\">`;\r\n//       $('head').append(sv_car);\r\n//       $('body').append(`<script class=\"lazyload\" src=\"https://code.jquery.com/jquery-3.2.1.slim.min.js\" integrity=\"sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN\" crossorigin=\"anonymous\"></script>\r\n//   <script class=\"lazyload\" src=\"https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js\" integrity=\"sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q\" crossorigin=\"anonymous\"></script>\r\n//   <script class=\"lazyload\" src=\"https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js\" integrity=\"sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl\" crossorigin=\"anonymous\"></script>`)\r\n//       // $('body').append(`<script class=\"lazyload\" src=\"https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js\" integrity=\"sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q\" crossorigin=\"anonymous\"></script>`)\r\n//       // $('body').append(`<script class=\"lazyload\" src=\"https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js\" integrity=\"sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl\" crossorigin=\"anonymous\"></script>`)\r\n// }\r\n}\r\n\r\n//view_5219\r\n$(document).on('knack-view-render.view_5219', async function(event, view, data){\r\n// addBootstrapCarousel()\r\nif( $('.sv_carousel_bs').length == 0 ){\r\n  var sv_car = `<link class=\"sv_carousel_bs\" rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css\" integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\" crossorigin=\"anonymous\">`;\r\n  $('head').append(sv_car);\r\n  $('head').append(`<script class=\"lazyload\" src=\"https://code.jquery.com/jquery-3.2.1.min.js\" integrity=\"sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN\" crossorigin=\"anonymous\"></script>`)\r\n  $('head').append(`<script class=\"lazyload\" src=\"https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js\" integrity=\"sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q\" crossorigin=\"anonymous\"></script>`)\r\n  $('head').append(`<script class=\"lazyload\" src=\"https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js\" integrity=\"sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl\" crossorigin=\"anonymous\"></script>`)\r\n}\r\nredirectToButlerPageIfNotModal()\r\nconsole.log(data)\r\nvar userProfKeys = Knack.session.user.profile_keys;\r\nvar isDev = userProfKeys.includes('profile_34');\r\n$($('#view_5219').parents()[1]).hide()\r\n$('.field_2648').hide();\r\ntry{ \r\n  //  $('#sv_notice_title').html(data[0].field_2648)\r\n  $('#kn-scene_1904').removeClass('kn-scene').css('text-align', 'center')\r\n  $('#view_5219 img').css('width', '100%')\r\n  if( $('#view_5223').length > 0  ){//Check if the form exist\r\n     var allDismissed = [];\r\n     allDismissed.push(data[0].id)\r\n     $('#view_5223-field_2892').val(allDismissed).trigger(\"liszt:updated\").change();\r\n     $('#view_5219 button').on('click', function(){\r\n         $('.close-modal').click()\r\n         $('#view_5223 .kn-submit button').click();\r\n     })\r\n}}catch(err){console.log(err)}\r\nvar notDismissed = [];\r\nconsole.log(\"allDismissedB\", allDismissedB)\r\nfunction getNotDismissed(){\r\n    for (let i = 0; i < data.length; i++) {\r\n      if( !allDismissedB.includes( data[i].id ) ){\r\n        if( isDev ){ notDismissed.push(data[i]) }\r\n        else{\r\n          if( !data[i].field_2881_raw){\r\n            notDismissed.push(data[i])\r\n          }\r\n        }\r\n        console.log(\"notDismissed\", notDismissed)\r\n      }\r\n    }\r\n }\r\n function checkIfWillCreatePopUp(){\r\n   if(notDismissed.length == 0){\r\n     $('.close-modal').click()\r\n   }else{\r\n     createPopup(notDismissed, \"scene_1904\")\r\n   }\r\n }\r\n await getNotDismissed()\r\n await checkIfWillCreatePopUp()\r\n//  await createPopup(notDismissed, \"scene_1904\")\r\n $('.carousel-inner img').css('width', \"100%\")\r\n\r\n await addButtonFunction()\r\n});\r\n\r\nfunction updateButlerDismissedPopup(allDismissed){\r\n  var currentRoles = Knack.session.user.profile_objects;\r\n  var currentButlerId = currentRoles.find(x => x.object == \"object_4\").entry_id\r\n  return $.ajax({\r\n        type: 'PUT',\r\n        headers: asHeader,\r\n        url: 'https://api.sv.knack.com/v1/pages/scene_7/views/view_5223/records/'+currentButlerId,\r\n        data: {\r\n          field_2892: allDismissed\r\n        },\r\n        success: function(res) {\r\n            console.log(res, \"updateButlerDismissedPopup\", allDismissed)\r\n        }\r\n  });\r\n}\r\n\r\nfunction addButtonFunction(){\r\n$('.sv_dont_show').on('click', function(){\r\n    // var allDismissed = $('#view_5223-field_2892').val();\r\n    // allDismissed.push( $(this).attr('data-id') )\r\n    // $('#view_5223-field_2892').val(allDismissed)\r\n    // console.log( allDismissed, \"allDismissed\", \"data-id\", $(this).attr('data-id') )\r\n    allDismissedB.push( $(this).attr('data-id') )\r\n    $($(this).parents()[0]).remove()\r\n    $($('.carousel-item')[0]).addClass('active')\r\n    \r\n    updateButlerDismissedPopup(allDismissedB)\r\n    if( $('.carousel-item').length === 0 ){\r\n        $('.close-modal').click()\r\n    }\r\n\r\n    if( $('.carousel-item').length == 1 ){\r\n      $('#carousel_control').remove()\r\n    }\r\n})\r\n}\r\n\r\nfunction redirectToButlerPageIfNotModal(){\r\nif( $('.modal-card-head').length === 0 ){ \r\n   window.location.href = 'https://apps.sv.knack.com/trashdash#butler'\r\n   console.log('TEST')\r\n}\r\n}\r\n\r\n// view_68 Butler Today's Services\r\n$(document).on('knack-view-render.view_68', function(event, view, data){\r\nvar label = `<p><span class=\"kn-detail-label\">\r\n            <span style=\"font-weight: bold;\">Community Entry Gate Code</span>\r\n          </span></p>`\r\nfor (let i = 0; i < data.length; i++) {\r\n  $($('tbody .field_938')[i]).prepend(label)\r\n}\r\n\r\n$(\"#view_68 tr\").click(function() {\r\n    //var redirectTo = $(this).find(\"a\").attr(\"href\") + '?view_3397_filters=' + encodeURIComponent(JSON.stringify(filterPrev));\r\n    window.location = $(this).find(\"a\").attr(\"href\");\r\n    return false;\r\n});\r\n});\r\n\r\n\r\nvar popupOpenB = false;\r\n// Updated CM Popup\r\n$(document).on('knack-view-render.view_5224', function(event, view, data){\r\n  // console.log(data)\r\n  // var inFieldSched;\r\n  // $('#view_5224-field_2489').val() ? inFieldSched = $('#view_5224-field_2489').val() : inFieldSched = []\r\n  // return $.ajax({\r\n  //     type: 'GET',\r\n  //     headers: asHeader,\r\n  //     url: 'https://api.sv.knack.com/v1/pages/scene_1253/views/view_5107/records',\r\n  //     success: function(res) {\r\n  //         console.log(res, 'view_5224 Global Popup Data');\r\n  //         var records = res.records\r\n  //         globalSched = records.map((b) => {return b.id});\r\n  //         var newActiveSched = globalSched.concat(inFieldSched)\r\n  //         newActiveSched = newActiveSched.filter((e, i, a) => a.indexOf(e) === i);\r\n  //         var addToCMActiveField = globalSched.filter(n => !inFieldSched.includes(n))\r\n  //         console.log('addToCMActiveField',addToCMActiveField, \"newActiveSched\", newActiveSched)\r\n  //         $('#view_5224-field_2489').val(newActiveSched).trigger(\"liszt:updated\").change();\r\n  //         if(addToCMActiveField.length > 0 ){\r\n  //             addNewPopCMActivityLog(data.id, addToCMActiveField)\r\n  //         }else{openPopup()}\r\n  //     }\r\n  // });\r\n});\r\n\r\nfunction addNewPopCMActivityLog(comId, addToCMActiveField){\r\n  for (let i = 0; i < addToCMActiveField.length; i++) {\r\n      setTimeout(add(i), (i*500) + 1000);\r\n      if(i == addToCMActiveField.length-1 ){ updateCommunityActivePopup() }\r\n  }\r\n\r\n  function add(i){\r\n      return $.ajax({\r\n          type: 'POST',\r\n          headers: asHeader,\r\n          url: 'https://api.sv.knack.com/v1/pages/scene_1255/views/view_5226/records',\r\n          data: {\r\n              field_2893: comId,\r\n              field_2895: addToCMActiveField[i]\r\n          },\r\n          success: function(res) {\r\n              console.log('addNewPopCMActivityLog', res)\r\n          }\r\n\r\n      });\r\n  }\r\n}\r\n\r\nfunction updateCommunityActivePopup(){\r\n  $('#view_5224 .kn-submit button').click();\r\n}\r\n\r\n// function openPopup(){\r\n//     // if(!popupOpenB){\r\n//     //     //open\r\n//     //     var currentCMRoles = Knack.session.user.profile_objects;\r\n//     //     var currentCMId = currentCMRoles.find(x => x.object == \"object_5\").entry_id;\r\n//     //     var visibleToCMs = Knack.views.view_5840.model.data.models[0].attributes.field_2894_raw.map((b) => {return b.id})\r\n//     //     if( visibleToCMs.includes(currentCMId) ){\r\n//     //         $($('#view_5229 .kn-link')[0]).find('span').click()\r\n//     //     }\r\n//     // }\r\n// }\r\n\r\n\r\n// view_5840\r\n$(document).on('knack-view-render.view_5840', function(event, view, data){ //QUARTERLY SURVEY\r\n//FORCE OPEN POPUP\r\nconsole.log(\"QSUR\", data)\r\nif(data.length > 0){\r\n  const myInterval = setInterval(checkIfExist, 500);\r\n\r\n  function checkIfExist(){\r\n    if( $('#view_5229').length === 0 ){\r\n      console.log('waiting for view')\r\n    }else{\r\n        openPopup()\r\n        clearInterval(myInterval);\r\n        \r\n    }\r\n  }\r\n}\r\n//FORCE OPEN POPUP\r\nfor(var i = 0; i < data.length; i++){\r\n  if(data[i].field_2653_raw == true){\r\n    $('p.sticky').removeClass('hideMe');\r\n    $('#sv_survey_link').removeClass('hideMe');\r\n    // break;\r\n  }\r\n}\r\n});\r\n\r\n$(document).on('knack-view-render.view_3517', function(event, view, data){\r\n$('#click_survey_id').on('click', function() {\r\n      // $('#view_survey_id').click();\r\n      // $('p.sticky').hide();\r\n      location.href = location.href + `popup-cm-activity-logs-in-devs/${Knack.views.view_3374.record.id}/`\r\n  });\r\n});\r\n\r\n\r\n$(document).on('knack-view-render.view_5234', async function(event, view, data){\r\n// addBootstrapCarousel()\r\nif( $('#sv_carousel_bs').length == 0 ){\r\n  var sv_car = `<script class=\"lazyload\" src=\"https://code.jquery.com/jquery-3.2.1.slim.min.js\"></script><script class=\"lazyload\" src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js\"></script><script class=\"lazyload\" src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js\"></script>`;\r\n  $('body').append(sv_car);\r\n}\r\n});\r\n\r\n// view_5003\r\n// $(document).on('knack-form-submit.view_5003', function(event, view, record) {\r\n//   Knack.router.scene_view.renderViews()\r\n//   if( $('#sv_audit_completed_status').length == 0 ){\r\n//     $('#kn-scene_1661').prepend(`<div id=\"sv_audit_completed_status\" class=\"kn-view\">\r\n//     <div class=\"kn-notification is-confirmation\">\r\n//       <button class=\"delete\"></button>\r\n//       <p>Your audit is now completed. You can add more photo(s) or leave this page.\r\n//   </p>\r\n//     </div>\r\n//   </div>`)\r\n//   }\r\n// });\r\n\r\n// view_5230\r\nvar currentPopupLogId;\r\nvar currentVisTo;\r\n// $(document).on('knack-view-render.view_5230', function(event, view, data){\r\n//     // currentPopupLogId = data[0].id\r\n//     // console.log(data)\r\n//     // $('.field_2653').hide()\r\n//     // if(data[0].field_2653_raw == true){\r\n//     //     $('#view_5230').hide();\r\n//     //     createPopupContainer(data)\r\n//     // }else{\r\n//     //     $($('#view_5233').parents()[1]).remove();\r\n//     // }\r\n  \r\n//     // $('.field_2894').hide();\r\n//     // $('.field_2648').hide();\r\n//     // $('#sv_popup_title').html(data[0].field_2648)\r\n//     // // $('#kn-scene_1904').removeClass('kn-scene').css('text-align', 'center')\r\n//     // // $('#view_5219 img').css('width', '100%')\r\n//     // var currentCMRoles = Knack.session.user.profile_objects;\r\n//     // var currentCMId = currentCMRoles.find(x => x.object == \"object_5\").entry_id;\r\n//     // var visTo = data[0].field_2894_raw.map((b) => {return b.id});\r\n//     // currentVisTo = visTo;\r\n//     // $($('#view_5230 .dismissed-popup')[0]).on('click', function(){\r\n//     //     visTo = $.grep(visTo, function(value) {\r\n//     //         return value != currentCMId;\r\n//     //     });\r\n//       // return $.ajax({\r\n//       //     type: 'PUT',\r\n//       //     headers: asHeader,\r\n//       //     url: 'https://api.sv.knack.com/v1/pages/scene_1907/views/view_5232/records/'+data[0].id,\r\n//       //     data: {\r\n//       //         field_2894: visTo\r\n//       //     },\r\n//       //     success: function(res) {\r\n//       //         console.log('visTovisTovisTovisTovisTo', res)\r\n//       //         $('.close-modal').click();\r\n//       //     }\r\n\r\n//       // });\r\n//     // })\r\n// });\r\n\r\nfunction createPopupContainer(data){\r\n  // var htmlComponent;\r\n  // // $($('#view_5233').parents()[1]).show();\r\n  // for (let i = 0; i < data.length; i++) {\r\n  //     if(data[i].field_2653_raw){\r\n  //         htmlComponent = `\r\n  //         <div class=\"row\">\r\n  //             <div class=\"col\">\r\n  //             <p>${data[i].field_2879}<p>\r\n  //             <h2>${data[i][\"field_2896.field_2646\"]}</h2>\r\n  //             </div>\r\n  //             <div id=\"q_surveyForm\" class=\"col\"></div>\r\n  //         </div>\r\n  //     `}\r\n  // }\r\n  // $('#view_5234').append( htmlComponent )\r\n  // $('#q_surveyForm').append( $('#view_5233') )\r\n}\r\n\r\n// view_5233\r\n$(document).on('knack-form-submit.view_5233', function(event, view, record) {\r\n// $('.close-modal').click();\r\nswal({\r\n    title: `Thank you for your feedback!`,\r\n    icon: \"success\",\r\n    button: \"Close\"\r\n})\r\n$('#sv_dont_show_survey').click();\r\n$('p.sticky').addClass('hideMe');\r\n$('#sv_survey_link').addClass('hideMe');\r\n});\r\n\r\n$(document).on('knack-view-render.view_5817', function(event, view, data){\r\n if( $('#swal').length === 0 ){\r\n  $('head').append(`<script class=\"lazyload\" id=\"swal\" src=\"https://unpkg.com/sweetalert/dist/sweetalert.min.js\"></script>`);\r\n}\r\n});\r\n\r\n$(document).on('knack-form-submit.view_5817', function(event, view, record) {\r\n\r\nconsole.log(record, \"SWAL\")\r\nswal({\r\n    title: `Thank you for your feedback!`,\r\n    icon: \"success\",\r\n    button: \"Close\"\r\n})\r\n});\r\n\r\n//RICH TEXT NOT FORM\r\n// $(document).on('knack-form-submit.view_5234', function(event, view, record) {\r\n// var currentCMRoles = Knack.session.user.profile_objects;\r\n// var currentCMId = currentCMRoles.find(x => x.object == \"object_5\").entry_id;\r\n// var visTo = $.grep(currentVisTo, function(value) {\r\n//     return value != currentCMId;\r\n// });\r\n// return $.ajax({\r\n//     type: 'PUT',\r\n//     headers: asHeader,\r\n//     url: 'https://api.sv.knack.com/v1/pages/scene_1907/views/view_5232/records/'+currentPopupLogId,\r\n//     data: {\r\n//         field_2894: visTo\r\n//     },\r\n//     success: function(res) {\r\n//         console.log('visTovisTovisTovisTovisTo', res)\r\n//         $('.close-modal').click();\r\n//     }\r\n\r\n// });\r\n// });\r\n\r\n// NEW POPUP FOR COMMUNITY CONCIERGE\r\n  var comsActivePopups = [] //Popups that will be shown\r\n  var comsScheduledPopups = [] //Popups in the Community's Field\r\n  var globalActivePopups = []; //All Active Global Popup\r\n  var popupScheduleLogs = []; //This community's Popup Schedule Logs\r\n  var popupIsOpen = false;\r\n  var currentCommunityId = '';\r\n  function openPopup(){\r\n      // if( !popupIsOpen ){\r\n          // Open Popup Code\r\n          $($('#view_5229 .kn-link')[0]).find('span').click()\r\n          popupIsOpen = true;\r\n      // }\r\n  }\r\n\r\n  async function createPopup(data, scene_id){\r\n      await createCarouselContainer(scene_id)\r\n      await createACarouselSection(data)\r\n      $($('#survey_popup .col')[1]).append( $('#view_5233') )\r\n  }\r\n\r\n  // CARAOUSEL FUNCTION\r\n      function createCarouselContainer(scene_id){\r\n          var car = `<div id=\"sv_popup_carousel_container\" class=\"carousel slide\" data-ride=\"carousel\" data-interval=\"false\">\r\n          <div class=\"carousel-inner\">\r\n          </div>\r\n          </div>`;\r\n          $(`#kn-${scene_id}`).append(car);\r\n      }\r\n      function createACarouselSection(data){\r\n          for (let i = 0; i < data.length; i++) {\r\n              var url = '';\r\n              var isActive = '';\r\n              var carouselData = '';\r\n\r\n              !$('.carousel-item').hasClass('active') ? isActive = 'active' : isActive = ''\r\n              data[i].field_2879 ? url = data[i].field_2879_raw : url = ''\r\n\r\n              if(data[i].field_2653_raw === true){\r\n                  carouselData = `\r\n                  <div class=\"carousel-item ${isActive}\">\r\n                  <h2> ${data[i].field_2648_raw}</h2>\r\n                  <div class=\"row align-items-center\" id=\"survey_popup\">\r\n                  <div class=\"col\">\r\n                  <img src=${url}>\r\n                  <div class=\"pop-main-con\">${data[i].field_2646}</div>\r\n                  </div>\r\n                  <div class=\"col\"></div>\r\n                  </div>\r\n                  <button id=\"sv_dont_show_survey\" class=\"sv_dont_show kn-button is-primary hideMe\" data-id=${data[i].id} >Don't Show This Again</button>\r\n                  </div>`;\r\n\r\n                  $('#view_5233').show()\r\n              }else{\r\n                $('#view_5233').hide()\r\n                  carouselData =`\r\n                  <div class=\"carousel-item ${isActive}\">\r\n                  <h2>${data[i].field_2648_raw}</h2>\r\n                  <img src=${url}>\r\n                  <div class=\"pop-main-con\">${data[i].field_2646}</div>\r\n                  <button id=\"sv_dont_show_${i}\" class=\"sv_dont_show kn-button is-primary\" data-id=${data[i].id} >Don't Show This Again</button>\r\n                  </div>`;\r\n              }\r\n              $('#sv_popup_carousel_container .carousel-inner').append(carouselData);\r\n              \r\n              console.log(\"field_2646\",data[i].field_2646,isActive, url )\r\n          }\r\n          $($('#survey_popup .col')[1]).append( $('#view_5233') )\r\n          addPrevNextToCarousel(data.length)\r\n      }\r\n      function addPrevNextToCarousel(l){\r\n          var prevNext = '';\r\n          if( l > 1){\r\n              prevNext = ` <div id=\"carousel_control\"><a class=\"carousel-control-prev\" href=\"#sv_popup_carousel_container\" role=\"button\" data-slide=\"prev\">\r\n                              <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n                              <span class=\"sr-only\">Previous</span>\r\n                          </a>\r\n                          <a class=\"carousel-control-next\" href=\"#sv_popup_carousel_container\" role=\"button\" data-slide=\"next\">\r\n                              <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n                              <span class=\"sr-only\">Next</span>\r\n                          </a></div>`;\r\n              $('#sv_popup_carousel_container').append( prevNext )\r\n          }\r\n      }\r\n  // END\r\n\r\n  async function initializePopup(data){\r\n      console.log(\"initializePopup running\")\r\n      comsActivePopups = [];\r\n      comsScheduledPopups = []\r\n      globalActivePopups = [];\r\n      popupScheduleLogs = [];\r\n      // check if there's active Popup\r\n      await getGlobalActivePopup().then(\r\n      );\r\n      await getCommunitySchedPopupField(data);\r\n      await checkIfActiveNotInCom();\r\n      await getPopupScheduleLog()\r\n  \r\n      await console.log(\"comsActivePopups\", comsActivePopups)\r\n      await console.log(\"comsScheduledPopups\", comsScheduledPopups)\r\n      await console.log(\"globalActivePopups\", globalActivePopups)\r\n      await console.log(\"popupScheduleLogs\", popupScheduleLogs)\r\n      await console.log(\"popupIsOpen\", popupIsOpen)\r\n  }\r\n  function getGlobalActivePopup(){\r\n      return $.ajax({\r\n          type: 'GET',\r\n          headers: asHeader,\r\n          url: 'https://api.sv.knack.com/v1/pages/scene_1253/views/view_5107/records',\r\n          success: function(res) {\r\n              var records = res.records\r\n              globalActivePopups = records.map((b) => {return b.id});\r\n          }\r\n      });\r\n  }\r\n  function updateCommunitySchedPopupField(){ //Update Community Scheduled Popup Fields\r\n      console.log(\"updateCommunitySchedPopupField\")\r\n      return $.ajax({\r\n          type: 'PUT',\r\n          headers: asHeader,\r\n          url: 'https://api.sv.knack.com/v1/pages/scene_1255/views/view_5224/records/'+currentCommunityId,\r\n          data: {\r\n              field_2489: comsScheduledPopups\r\n          },\r\n          success: function(res) {\r\n              console.log(res, \"updateCommunitySchedPopupField\")\r\n          }\r\n      });\r\n  }\r\n\r\n  function combineOldAndNewScheds(){\r\n      var newActiveSched = globalActivePopups.concat(comsScheduledPopups)\r\n      newActiveSched = newActiveSched.filter((e, i, a) => a.indexOf(e) === i);\r\n  }\r\n\r\n  async function createPopupScheduleLog(id){\r\n      console.log(\"createPopupScheduleLog\", id)\r\n      return $.ajax({\r\n              type: 'POST',\r\n              headers: asHeader,\r\n              url: 'https://api.sv.knack.com/v1/pages/scene_1255/views/view_5226/records',\r\n              data: {\r\n                  field_2893: currentCommunityId,\r\n                  field_2895: id\r\n              },\r\n              success: function(res) {\r\n                  console.log(res, \"createPopupScheduleLog\")\r\n              }\r\n\r\n      });\r\n  }\r\n\r\n  function getCommunitySchedPopupField(data){\r\n      if(data.field_2489_raw){ comsScheduledPopups = data.field_2489_raw.map((b) => {return b.id}); }\r\n      // else{ comsScheduledPopups = [] }\r\n      \r\n  }\r\n\r\n  async function getPopupScheduleLog(){\r\n  await refreshData()\r\n  }\r\n\r\n  function updatePopupScheduleLog(){}\r\n\r\n  async function checkIfActiveNotInCom(){\r\n      var updateCom = false;\r\n      console.log(\"checkIfActiveNotInCom\")\r\n      if( globalActivePopups.length > 0 ){\r\n          function add(){\r\n              for (let i = 0; i < globalActivePopups.length; i++) {\r\n                  if( !comsScheduledPopups.includes(globalActivePopups[i]) ){\r\n                      updateCom = true;\r\n                      createPopupScheduleLog( globalActivePopups[i] )\r\n                      comsScheduledPopups.push( globalActivePopups[i] )\r\n                  }\r\n              }\r\n          }\r\n          await add()\r\n          if(updateCom){\r\n              await updateCommunitySchedPopupField()\r\n          }\r\n      }\r\n  }\r\n\r\n  // view_5102 Community Details including the Added Popups\r\n  $(document).on('knack-view-render.view_5102', function(event, view, data){\r\n      currentCommunityId = data.id\r\n      initializePopup(data)\r\n  });\r\n\r\n  // view_5230 CM Popup Log connected to the Logged in CM\r\n  $(document).on('knack-view-render.view_5230', async function(event, view, data){\r\n      console.log(data)\r\n      $($('#view_5230').parents()[1]).addClass('hideMe')\r\n      $('#view_5233').hide()\r\n      console.log(data,\"CM Popup Log connected to the Logged in CM\")\r\n      await createPopup(data, \"scene_1906\")\r\n      await addButtonFunctionCom()\r\n  });\r\n  // TO optimize\r\n  function addButtonFunctionCom(){\r\n    $('.sv_dont_show').on('click', function(){\r\n        var popLogId = $(this).attr('data-id')\r\n        var currentCMRoles = Knack.session.user.profile_objects;\r\n        var currentCMId = currentCMRoles.find(x => x.object == \"object_5\").entry_id;\r\n        var stillVisibleTo = (Knack.views.view_5230.model.data.models[0].attributes.field_2894_raw).map((b) => {return b.id})\r\n        var newVistibleTo = stillVisibleTo.filter(item => item !== currentCMId)\r\n        $($(this).parents()[0]).remove()\r\n        $($('.carousel-item')[0]).addClass('active')\r\n        \r\n        updatePopLogCM(popLogId, newVistibleTo)\r\n        if( $('.carousel-item').length === 0 ){\r\n            $('.close-modal').click()\r\n        }\r\n\r\n        if( $('.carousel-item').length == 1 ){\r\n          $('#carousel_control').remove()\r\n        }\r\n    });\r\n\r\n    $('#sv_dont_show_survey').on('click', function(){//Redundant\r\n        var popLogId = $(this).attr('data-id')\r\n        var currentCMRoles = Knack.session.user.profile_objects;\r\n        var currentCMId = currentCMRoles.find(x => x.object == \"object_5\").entry_id;\r\n        var stillVisibleTo = (Knack.views.view_5230.model.data.models[0].attributes.field_2894_raw).map((b) => {return b.id})\r\n        var newVistibleTo = stillVisibleTo.filter(item => item !== currentCMId)\r\n        $($(this).parents()[0]).remove()\r\n        $($('.carousel-item')[0]).addClass('active')\r\n        \r\n        updatePopLogCM(popLogId, newVistibleTo)\r\n        if( $('.carousel-item').length === 0 ){\r\n            $('.close-modal').click()\r\n        }\r\n\r\n        if( $('.carousel-item').length == 1 ){\r\n          $('#carousel_control').remove()\r\n        }\r\n    });\r\n  }\r\n\r\n  function updatePopLogCM(popLogId, newVistibleTo){\r\n    return $.ajax({\r\n      type: 'PUT',\r\n      headers: asHeader,\r\n      url: 'https://api.sv.knack.com/v1/objects/object_148/records/'+popLogId,\r\n      data: {\r\n          field_2894: newVistibleTo\r\n      },\r\n      success: function(data) {\r\n          console.log(data, \"this is from the updatePopLogCM return data\");\r\n          Knack.hideSpinner();\r\n          $('.close-modal').click();//added by Josh\r\n    }\r\n    });\r\n  }\r\n\r\n  async function refreshData(){\r\n      await Knack.views.view_5840.model.fetch()\r\n      await getData();\r\n      function getData(){\r\n          $(document).on('knack-view-render.view_5840', function(event, view, data){\r\n              popupScheduleLogs = data\r\n              // console.log(data)\r\n              if(data.length > 0){\r\n                  openPopup()\r\n              }\r\n          });\r\n      }\r\n      await console.log(popupScheduleLogs, \"popupScheduleLogs refreshData\")\r\n  }\r\n\r\n// END NEW POPUP FOR COMMUNITY CONCIERGE\r\n\r\n//GLITCH CODES //\r\n\r\n\r\n$(document).on('knack-view-render.view_5281', function(event, view, data) {\r\n $('#send_winner_sms').click(function(){\r\n     alert('its working!');\r\n });\r\n\r\n});\r\n\r\n\r\nvar removeImageOverlayArray = [\r\n{\r\n  view_id: \"view_3370\", //My Communities\r\n  fields: [\r\n    {\r\n      field_id: \"field_296\",\r\n    },\r\n  ],\r\n},\r\n{\r\n  view_id: \"view_3374\", //Dashboard > Community Details\r\n  fields: [\r\n    {\r\n      field_id: \"field_296\",\r\n    },\r\n  ],\r\n},\r\n{\r\n  view_id: \"view_3376\", //Dashboard >Infractions\r\n  fields: [\r\n    {\r\n      field_id: \"field_614\",\r\n    },\r\n    {\r\n      field_id: \"field_615\",\r\n    },\r\n  ],\r\n},\r\n{\r\n  view_id: \"view_3557\", //Infractions\r\n  fields: [\r\n    {\r\n      field_id: \"field_614\",\r\n    },\r\n    {\r\n      field_id: \"field_615\",\r\n    },\r\n  ],\r\n},\r\n{\r\n  view_id: \"view_3677\", //Infractions Details\r\n  type: \"details_2\",\r\n  fields: [\r\n    {\r\n      field_id: \"field_614\",\r\n    },\r\n    {\r\n      field_id: \"field_615\",\r\n    },\r\n  ],\r\n},\r\n\r\n{\r\n  view_id: \"view_3456\", //Dashboard - Infractions Details\r\n  fields: [\r\n    {\r\n      field_id: \"field_614\",\r\n    },\r\n    {\r\n      field_id: \"field_615\",\r\n    },\r\n  ],\r\n},\r\n\r\n{\r\n  view_id: \"view_3588\", //RADAR Logs\r\n  fields: [\r\n    {\r\n      field_id: \"field_604\",\r\n    },\r\n    {\r\n      field_id: \"field_605\",\r\n    },\r\n  ],\r\n},\r\n{\r\n  view_id: \"view_3484\", //RADAR Logs Details\r\n  fields: [\r\n    {\r\n      field_id: \"field_604\",\r\n    },\r\n    {\r\n      field_id: \"field_605\",\r\n    },\r\n  ],\r\n},\r\n\r\n{\r\n  view_id: \"view_3497\", //Dashboard -> RADAR Logs Details\r\n  fields: [\r\n    {\r\n      field_id: \"field_604\",\r\n    },\r\n    {\r\n      field_id: \"field_605\",\r\n    },\r\n  ],\r\n},\r\n\r\n{\r\n  view_id: \"view_3412\", //RADAR Logs\r\n  type: \"details_1\",\r\n  fields: [\r\n    {\r\n      field_id: \"field_296\",\r\n    }\r\n  ],\r\n},\r\n\r\n {\r\n  view_id: \"view_3620\", //Service Hazzard details\r\n  type: \"details_1\",\r\n  fields: [\r\n    {\r\n      field_id: \"field_620\",\r\n    }\r\n  ],\r\n},\r\n\r\n{\r\n  view_id: \"view_3525\", //Support Ticket Details\r\n  type: \"details_1\",\r\n  fields: [\r\n    {\r\n      field_id: \"field_620\",\r\n    }\r\n  ],\r\n},\r\n\r\n{\r\n  view_id: \"view_3570\", //Compactor Before Resident Access\r\n  // type: \"details_group\",\r\n  fields: [\r\n    {\r\n      field_id: \"field_607\",\r\n    },\r\n  ],\r\n},\r\n\r\n{\r\n  view_id: \"view_3571\", //Compactor Before Maintenance Access\r\n  fields: [\r\n    {\r\n      field_id: \"field_607\",\r\n    },\r\n  ],\r\n},\r\n\r\n{\r\n  view_id: \"view_3572\", // Compactor After Resident Access\r\n  fields: [\r\n    {\r\n      field_id: \"field_607\",\r\n    },\r\n  ],\r\n},\r\n\r\n{\r\n  view_id: \"view_3573\", //Compactor After Maintenance Access\r\n  fields: [\r\n    {\r\n      field_id: \"field_607\",\r\n    },\r\n  ],\r\n},\r\n{\r\n  view_id: \"view_3442\", //Infractions Details Email\r\n  type: \"details_2\",\r\n  fields: [\r\n    {\r\n      field_id: \"field_614\",\r\n    },\r\n    {\r\n      field_id: \"field_615\",\r\n    },\r\n  ],\r\n},\r\n{\r\n  view_id: \"view_3569\", //Infractions Details Email\r\n  type: \"details_2\",\r\n  isForm: true,\r\n  fields: [\r\n    {\r\n      field_id: \"field_614\",\r\n    },\r\n    {\r\n      field_id: \"field_615\",\r\n    },\r\n  ],\r\n},\r\n{\r\n  view_id: \"view_5614\", //Infractions CM New\r\n  type: \"multi\",\r\n  fields: [\r\n    {\r\n      field_id: \"field_2237\",\r\n    },\r\n  ],\r\n},\r\n{\r\n  view_id: \"view_5448\", //Service Hazard\r\n  type: \"multi\",\r\n  fields: [\r\n    {\r\n      field_id: \"field_2237\",\r\n    },\r\n  ],\r\n},\r\n{\r\n  view_id: \"view_5499\", //Service Hazard\r\n  type: \"multi\",\r\n  fields: [\r\n    {\r\n      field_id: \"field_2237\",\r\n    },\r\n  ],\r\n},\r\n{\r\n  view_id: \"view_5504\", //Service Hazard\r\n  type: \"multi\",\r\n  fields: [\r\n    {\r\n      field_id: \"field_2237\",\r\n    },\r\n  ],\r\n},\r\n{\r\n  view_id: \"view_4260\", //Service Hazard\r\n  type: \"multi\",\r\n  fields: [\r\n    {\r\n      field_id: \"field_2237\",\r\n    },\r\n  ],\r\n},\r\n{\r\n  view_id: \"view_5503\", //Service Hazard\r\n},\r\n];\r\n\r\n\r\nremoveImageOverlayArray.forEach((item, index) => {\r\n$(document).on(`knack-view-render.${item.view_id}`,function (event, view, data) {\r\n  removeOverlayV2()\r\n});\r\n});\r\n\r\n\r\n// removeImageOverlayArray.forEach((item, index) => {\r\n//   if (item.type){\r\n//     if (item.type == \"details_1\"){\r\n//       rmvO_details(item);\r\n//     }else if (item.type ==\"details_2\"){\r\n//       rmvO_details(item);\r\n//     }else if (item.type ==\"multi\"){\r\n//       rmvO_details(item);\r\n//     }\r\n  \r\n//   }else{\r\n//      rmvO_list(item);\r\n//   }\r\n\r\n// });\r\n\r\n// function rmvO_list(item){\r\n//   $(document).on(`knack-view-render.${item.view_id}`,function (event, view, data) {\r\n//       var imageUrl = \"\";\r\n//       var start_url = \"\";\r\n//       var end_url = \"\";\r\n//       var new_url = \"\";\r\n//       var orig_image;\r\n\r\n    \r\n//       for (var i = 0; i < data.length; i++) {\r\n//         item.fields.forEach((item1, index1) => {\r\n        \r\n//           orig_image = data[i][item1.field_id];\r\n//           imageUrl = $(orig_image).attr(\"src\");\r\n        \r\n        \r\n//           if (imageUrl == undefined) return; \r\n//           start_url = imageUrl.split(\"upload\");\r\n\r\n\r\n//             //Check if image url has overlay\r\n//             if (imageUrl.includes(\"bo_5px_solid_black\")) {\r\n            \r\n//               //remove overlay params in url\r\n//               if (imageUrl.includes(\"fl_keep_iptc/v\")) {\r\n//                 end_url = start_url[1].split(\"fl_keep_iptc/v\");\r\n\r\n//               } else {\r\n//                 end_url = start_url[1].split(\"bo_5px_solid_black/v\");\r\n//               }\r\n\r\n//               new_url = start_url[0] + \"upload/fl_keep_iptc/v\" + end_url[1];\r\n//               //end remove\r\n            \r\n//             } else {\r\n//               new_url = imageUrl;\r\n//             }\r\n\r\n//           //change image url with no overlay\r\n//           if (item.view_id == \"view_3370\"){\r\n          \r\n//             $( \"#\" + data[i].id + ' img' ).attr(\"src\", new_url);\r\n          \r\n//   //           }else if (item.view_id == \"view_3376\"){\r\n            \r\n//   //             $( \"#\" + data[i].id + ' img' ).attr(\"src\", new_url);\r\n\r\n//   //             $( \"#\" + data[i].id + ' img' ).attr(\"data-kn-img-gallery\", new_url);\r\n          \r\n//           }else{\r\n           \r\n//             $( \"#\" + data[i].id + ' [class*=' + item1.field_id + '] img' ).attr(\"src\", new_url);\r\n\r\n//             $( \"#\" + data[i].id + ' [class*=' + item1.field_id + '] img' ).attr(\"data-kn-img-gallery\", new_url);\r\n\r\n          \r\n//           }\r\n          \r\n//         });\r\n//       }\r\n//     }\r\n               \r\n//   );\r\n// }\r\n\r\nfunction rmvO_details(item){\r\n$(document).on(`knack-view-render.${item.view_id}`,function (event, view, data) {\r\n     var imageUrl = \"\";\r\n  var start_url = \"\";\r\n  var end_url = \"\";\r\n  var new_url = \"\";\r\n  var orig_image;\r\n  \r\n  if(item.isForm){\r\n      console.log(\"isForm\", data)\r\n  }\r\n\r\n  item.fields.forEach((item1, index1) => {\r\n        \r\n\r\n    orig_image = data[item1.field_id];\r\n    imageUrl = $(orig_image).attr(\"src\");\r\n    console.log(\"data\" , data)\r\n    console.log(\"orig_image\" , orig_image)\r\n\r\n    if (imageUrl == undefined) return; \r\n    start_url = imageUrl.split(\"upload\");\r\n\r\n\r\n      //Check if image url has overlay\r\n      if (imageUrl.includes(\"bo_5px_solid_black\")) {\r\n\r\n        //remove overlay params in url\r\n        if (imageUrl.includes(\"fl_keep_iptc/v\")) {\r\n          end_url = start_url[1].split(\"fl_keep_iptc/v\");\r\n\r\n        } else {\r\n          end_url = start_url[1].split(\"bo_5px_solid_black/v\");\r\n        }\r\n\r\n        new_url = start_url[0] + \"upload/fl_keep_iptc/v\" + end_url[1];\r\n        //end remove\r\n\r\n      } else {\r\n        new_url = imageUrl;\r\n      }\r\n\r\n    //change image url with no overlay\r\n\r\n      $( \"#\" + item.view_id + ' div[class*=' + item1.field_id + '] img' ).attr(\"src\", new_url);\r\n\r\n    \r\n\r\n\r\n\r\n  });\r\n});\r\n}\r\n\r\nfunction rmv_multi(item){\r\n$(document).on(`knack-view-render.${item.view_id}`,function (event, view, data) {\r\n     var imageUrl = \"\";\r\n  var start_url = \"\";\r\n  var end_url = \"\";\r\n  var new_url = \"\";\r\n  var orig_image;\r\n  \r\n  if(item.isForm){\r\n      console.log(\"isForm\", data)\r\n  }\r\n\r\n  console.log(\"data length\", data[item.field_id].length)\r\n  data[item].fields.forEach((item1, index1) => {\r\n        \r\n    console.log('item1', item1);\r\n    orig_image = data[item1.field_id];\r\n    imageUrl = $(orig_image).attr(\"src\");\r\n    console.log(\"data\" , data)\r\n    console.log(\"orig_image\" , orig_image)\r\n\r\n    if (imageUrl == undefined) return; \r\n    start_url = imageUrl.split(\"upload\");\r\n\r\n\r\n      //Check if image url has overlay\r\n      if (imageUrl.includes(\"bo_5px_solid_black\")) {\r\n\r\n        //remove overlay params in url\r\n        if (imageUrl.includes(\"fl_keep_iptc/v\")) {\r\n          end_url = start_url[1].split(\"fl_keep_iptc/v\");\r\n\r\n        } else {\r\n          end_url = start_url[1].split(\"bo_5px_solid_black/v\");\r\n        }\r\n\r\n        new_url = start_url[0] + \"upload/fl_keep_iptc/v\" + end_url[1];\r\n        //end remove\r\n\r\n      } else {\r\n        new_url = imageUrl;\r\n      }\r\n\r\n    //change image url with no overlay\r\n\r\n      $( \"#\" + item.view_id + ' div[class*=' + item1.field_id + '] img' ).attr(\"src\", new_url);\r\n\r\n    \r\n\r\n\r\n\r\n  });\r\n\r\n\r\n    addImagePreview();\r\n});\r\n}\r\n\r\nfunction rmvO_details_group(item){\r\n$(document).on(`knack-view-render.${item.view_id}`,function (event, view, data) {\r\n    var imageUrl = \"\";\r\n    var start_url = \"\";\r\n    var end_url = \"\";\r\n    var new_url = \"\";\r\n    var orig_image;\r\n\r\n\r\n    for (var i = 0; i < data.length; i++) {\r\n      item.fields.forEach((item1, index1) => {\r\n        \r\n        orig_image = data[i][item1.field_id];\r\n        imageUrl = $(orig_image).attr(\"src\");\r\n        \r\n        \r\n        if (imageUrl == undefined) return; \r\n        start_url = imageUrl.split(\"upload\");\r\n\r\n\r\n          //Check if image url has overlay\r\n          if (imageUrl.includes(\"bo_5px_solid_black\")) {\r\n            \r\n            //remove overlay params in url\r\n            if (imageUrl.includes(\"fl_keep_iptc/v\")) {\r\n              end_url = start_url[1].split(\"fl_keep_iptc/v\");\r\n\r\n            } else {\r\n              end_url = start_url[1].split(\"bo_5px_solid_black/v\");\r\n            }\r\n\r\n            new_url = start_url[0] + \"upload/fl_keep_iptc/v\" + end_url[1];\r\n            //end remove\r\n            \r\n          } else {\r\n            new_url = imageUrl;\r\n          }\r\n\r\n        //change image url with no overlay\r\n        if (item.view_id == \"view_3370\"){\r\n          \r\n          $( \"#\" + data[i].id + ' img' ).attr(\"src\", new_url);\r\n          \r\n        }else if (item.view_id == \"view_3376\"){\r\n          \r\n          $( \"#\" + data[i].id + ' img' ).attr(\"src\", new_url);\r\n\r\n          $( \"#\" + data[i].id + ' img' ).attr(\"data-kn-img-gallery\", new_url);\r\n          \r\n        }else{\r\n           \r\n          $( \"#\" + data[i].id + ' [data-field-key=\"' + item1.field_id + '\"] img' ).attr(\"src\", new_url);\r\n\r\n          $( \"#\" + data[i].id + ' [data-field-key=\"' + item1.field_id + '\"] img' ).attr(\"data-kn-img-gallery\", new_url);\r\n        \r\n        }\r\n          \r\n      });\r\n    }\r\n  }\r\n               \r\n);\r\n}\r\n\r\n// TESTING THE SQL FILTER ISSUE\r\n\r\n$(document).on('knack-form-submit.view_5292', function(event, view, record) {\r\nconsole.log(record, \"SQL TESTING\")\r\n// var filter = {\"match\":\"and\",\"rules\":[{\"field\":\"field_54\",\"operator\":\"is\",\"value\":[record.field_193_raw[0].id]},{\"field\":\"field_46\",\"operator\":\"is\",\"value\":{\"all_day\":false,\"date\":\"08/23/2022\"}}]}\r\nvar filter = {\r\n  'match': 'and',\r\n  'rules': [\r\n    {\r\n      \"field\":\"field_54\",\r\n      \"operator\":\"is\",\r\n      'value': [record.field_193_raw[0].id]\r\n    },\r\n    {\r\n      'field': 'field_46', //date\r\n      'operator': 'is',\r\n      \"value\":{\r\n        \"all_day\":false,\r\n        \"date\":\"08/23/2022\"\r\n      }\r\n    }\r\n  ]\r\n}\r\nKnack.showSpinner('Getting Service ID Details');\r\nreturn $.ajax({\r\n  type: 'GET',\r\n  headers: asHeader,\r\n  // url: 'https://api.sv.knack.com/v1/objects/object_9/records?filters=' + filter,\r\n  url: 'https://api.sv.knack.com/v1/objects/object_9/records?filters=' + encodeURIComponent(JSON.stringify(filter)),\r\n  success: function(data) {\r\n    console.log(filter, currentServiceDate(), data, \"form-submit.view_5292\")\r\n    console.log(data, \"this is from the getCommunityTodayService return data\");\r\n    // assignServiceIDtoAudit(data, record)\r\n  }\r\n})\r\n})\r\n\r\n// END TESTING THE SQL FILTER ISSUE\r\n\r\n//Deactivate Butler - Remove Connection\r\n$(document).on('knack-form-submit.view_5316',async function(event, view, record) {\r\nconsole.log(record, \"Deactivate Butler - Remove Connection\");\r\nvar b_id = record.id;\r\nvar servicesData = Knack.views.view_5434.model.data.models.map((b) => {return b.attributes});\r\nvar c_data = Knack.views.view_5433.model.data.models.map((b) => {return b.attributes});\r\nawait getAllComAssignments(b_id, c_data)\r\nawait removeFromServiceToday(b_id, servicesData);\r\nawait closeOrRedirect(record.field_16, servicesData, c_data)\r\n})\r\n\r\nfunction closeOrRedirect(name, services, coms){\r\nif( $('.kn-modal').length == 0){\r\n  history.back()\r\n}else{\r\n  $('.close-modal').click();\r\n  Knack.views.view_5312.model.fetch();\r\n}\r\nvar unassignedToCom = '';\r\nfor(var i = 0; i < coms.length; i++){\r\n  unassignedToCom = unassignedToCom + coms[i].field_37 + '<br>'\r\n}\r\nvar unassignedToSer = '';\r\nfor(var i = 0; i < services.length; i++){\r\n  unassignedToSer = unassignedToSer + services[i].field_1939 + '<br>'\r\n}\r\n\r\nvar secondLine = `${name} is unassigned to the following records:`  \r\n\r\nvar unassignedToCom = `<div class=\"col\"><h5>Communities</h5><div>${unassignedToCom}</div></div>`;\r\nvar unassignedToSer = `<div class=\"col\"><h5>Service IDs</h5><div>${unassignedToSer}</div></div>`;\r\nvar newT = `<div class=\"row\">${unassignedToCom} ${unassignedToSer}</div>`\r\n// swal(\"Completed!\", `You have successfully deactivated ${name}`, \"success\");\r\n// swal({\r\n//   title: `DEACTIVATED!`,\r\n//   html: true,\r\n//   content: `${secondLine} ${newT}`,\r\n// });\r\n\r\nvar textT = document.createElement(\"div\");\r\n    textT.innerHTML = newT;\r\n\r\n    swal({\r\n      title: `You have successfully deactivated ${name}`,\r\n      text: secondLine,\r\n      content: textT,\r\n      icon: \"success\",\r\n      button: \"Close\"\r\n    })\r\n}\r\n\r\nfunction updateComAssignedButlers(b_id, c_data){\r\nconsole.log(c_data)\r\nvar comCurrentButlers = c_data.map((b) => {return b.field_41_raw});\r\nfor(var i = 0; i < c_data.length; i++){\r\n  var c_ids = c_data.map((b) => {return b.id})\r\n  var comCurrentButlersIds = (comCurrentButlers[i]).map((b) => {return b.id})\r\n  var updatedButlers = comCurrentButlersIds.filter(item => item !== b_id)\r\n  console.log(c_ids, comCurrentButlersIds)\r\n  updateComAPI(c_data[i].id, updatedButlers);\r\n}\r\n}\r\n\r\nfunction updateServAssignedButlers(b_id, servicesData){\r\nconsole.log(servicesData)\r\nvar servCurrentButlers = servicesData.map((b) => {return b.field_55_raw});\r\nfor(var i = 0; i < servicesData.length; i++){\r\n  var c_ids = servicesData.map((b) => {return b.id})\r\n  var servCurrentButlersIds = (servCurrentButlers[i]).map((b) => {return b.id})\r\n  var updatedButlers = servCurrentButlersIds.filter(item => item !== b_id)\r\n  updateServAPI(servicesData[i].id, updatedButlers);\r\n}\r\n}\r\n\r\nfunction updateServAPI(servId, updatedButlers){\r\nconsole.log(\"servId\", servId, \"updatedButlers\", updatedButlers)\r\nreturn $.ajax({\r\n    type: 'PUT',\r\n    headers: asHeader,\r\n    url: 'https://api.sv.knack.com/v1/objects/object_9/records/'+servId,\r\n    data: {\r\n        field_55: updatedButlers\r\n    },\r\n    success: function(data) {\r\n        console.log(data, \"updateServAPI Successfull\");\r\n    }\r\n  });\r\n}\r\n\r\nfunction updateComAPI(comId, updatedButlers){\r\nconsole.log(\"comId\", comId, \"updatedButlers\", updatedButlers)\r\nKnack.showSpinner()\r\nreturn $.ajax({\r\n    type: 'PUT',\r\n    headers: asHeader,\r\n    url: 'https://api.sv.knack.com/v1/objects/object_8/records/'+comId,\r\n    data: {\r\n        field_41: updatedButlers\r\n    },\r\n    success: function(data) {\r\n        console.log(data, \"updateComAPI Successfull\");\r\n        Knack.hideSpinner();\r\n    }\r\n  });\r\n// return $.ajax({\r\n//         type: 'PUT',\r\n//         headers: asHeader,\r\n//         url: 'https://api.sv.knack.com/v1/pages/scene_1949/views/view_5421/records/'+comId,\r\n//         data: {\r\n//             field_41: updatedButlers\r\n//         },\r\n//         success: function(data) {\r\n//           console.log(data, \"updateComAPI Successfull\");\r\n//           Knack.hideSpinner();\r\n//         }\r\n// });\r\n}\r\n\r\n\r\nfunction removeFromServiceToday(b_id, servicesData){\r\nupdateServAssignedButlers(b_id, servicesData); \r\n}\r\n\r\nfunction getAllComAssignments(b_id, c_data){\r\nupdateComAssignedButlers(b_id, c_data);\r\n}\r\n\r\nvar inProgressAudit = [\r\n'view_5406',\r\n`view_5268`,\r\n`view_5274`];\r\nvar noAudit30_Days = ['view_4837',\r\n'view_4839',\r\n'view_4838',\r\n'view_4858',\r\n'view_4717',\r\n'view_4851',\r\n'view_4850',\r\n'view_4852'];\r\nvar allAudits = ['view_4617',\r\n'view_4656',\r\n'view_4854',\r\n'view_4857',\r\n'view_4627',\r\n'view_4713',\r\n'view_4853',\r\n'view_4859'];\r\nvar completedAudits = [\r\n'view_4708',\r\n'view_4860',\r\n];\r\n\r\n$(document).on('knack-scene-render.scene_1694', function(event, scene) {\r\n  if( screen.width > 700){\r\n      $('.kn-list.kn-view').remove();\r\n      $('.view-group.view-group-9').remove();\r\n  }else{\r\n      $('.kn-table.kn-view').remove();\r\n      $('.view-group.view-group-2').remove();\r\n      $('.view-group.view-group-3').remove();\r\n      $('.view-group.view-group-6').remove();\r\n  }\r\n  setTimeout(responsiveAcc, 2000)\r\n\r\n  // $('#view_5350')\r\n  // console.log('TESTEST')\r\n  var userProfKeys = Knack.session.user.profile_keys;\r\n// if(userProfKeys.includes('profile_34')){\r\n  if( $('#inProgressAudit').length === 0 ){\r\n      $('#view_5350').append(`<div id=\"inProgressAudit\"></div>`);\r\n      $('#view_5350').append(`<div id=\"noAudit30_Days\"></div>`)\r\n      $('#view_5350').append(`<div id=\"allAudits\"></div>`)\r\n      $('#view_5350').append(`<div id=\"completedAudits\"></div>`)\r\n\r\n      for(let i = 0; i < inProgressAudit.length; i++){\r\n        $('#inProgressAudit').append( $('#'+inProgressAudit[i]) )\r\n      }\r\n      for(let i = 0; i < noAudit30_Days.length; i++){\r\n        $('#noAudit30_Days').append( $('#'+noAudit30_Days[i]) )\r\n      }\r\n      for(let i = 0; i < allAudits.length; i++){\r\n        $('#allAudits').append( $('#'+allAudits[i]) )\r\n      }\r\n      for(let i = 0; i < completedAudits.length; i++){\r\n        $('#completedAudits').append( $('#'+completedAudits[i]) )\r\n      }\r\n  }\r\n  \r\n});\r\n\r\n$(document).on('knack-view-render.view_5316', function(event, view, data){\r\n// var $('.view-header') = $('.view-header');\r\n$('#view_5316 [type=\"submit\"]').prop('disabled', true);\r\nvar ck = `<input type=\"checkbox\" id=\"ischecked\" class=\"checkTest\" name=\"checkT\">\r\n<label for=\"checkT\"> By continuing, I have reviewed the above data and I'm ready to deactivate the Butler's user access effective immediately. </label><br>`;\r\n$('#view_5316 form').prepend(ck);\r\n\r\n$('#ischecked').click(function() {\r\n      if(this.checked) {\r\n        $('#view_5316 [type=\"submit\"]').prop('disabled', false);\r\n      }else{\r\n        $('#view_5316 [type=\"submit\"]').prop('disabled', true);\r\n      }\r\n             \r\n});\r\n});\r\n\r\n// view_4705\r\n$(document).on('knack-view-render.view_4705', function(event, view, data){\r\n$($('#view_4705').parents()[1]).addClass('sticky');\r\nvar nav = `<div id=\"audit_nav\" class=\"align-self-end\">\r\n<button class=\"audit-nav kn-button\" data-id=\"inProgressAudit\">In Progress</button>\r\n<button class=\"audit-nav kn-button\" data-id=\"noAudit30_Days\">No Audit Last 30 Days</button>\r\n<button class=\"audit-nav kn-button\" data-id=\"allAudits\">All Audits</button>\r\n<button class=\"audit-nav kn-button\" data-id=\"completedAudits\">My Audits</button>\r\n</div>`;\r\n\r\nif( $('#audit_nav').length === 0 ){$($('#view_4705').parents()[1]).append(nav);}\r\n\r\n$('.audit-nav').on('click', function(){\r\n  var viewId = $(this).attr('data-id')\r\n  $('html,body').animate({\r\n        scrollTop: $(\"#\"+viewId).offset().top - 170 },\r\n    'slow');\r\n})\r\n\r\n// var userProfKeys = Knack.session.user.profile_keys;\r\n// if(userProfKeys.includes('profile_34')){\r\n//     $($('#view_4705').parents()[1]).addClass('sticky');\r\n//     var nav = `<div id=\"audit_nav\" class=\"align-self-end\">\r\n//     <button class=\"audit-nav kn-button\" data-id=\"inProgressAudit\">In Progress</button>\r\n//     <button class=\"audit-nav kn-button\" data-id=\"noAudit30_Days\">No Audit Last 30 Days</button>\r\n//     <button class=\"audit-nav kn-button\" data-id=\"allAudits\">All Audits</button>\r\n//     <button class=\"audit-nav kn-button\" data-id=\"completedAudits\">My Audits</button>\r\n//   </div>`;\r\n\r\n//   if( $('#audit_nav').length === 0 ){$($('#view_4705').parents()[1]).append(nav);}\r\n\r\n//   $('.audit-nav').on('click', function(){\r\n//     var viewId = $(this).attr('data-id')\r\n//     $('html,body').animate({\r\n//           scrollTop: $(\"#\"+viewId).offset().top - 170 },\r\n//       'slow');\r\n//   })\r\n// }\r\n});\r\n\r\n// view_5371\r\n$(document).on('knack-view-render.view_5371', function(event, view, data){\r\nif(data.length > 1){\r\n$($('.kn-list-item-container')[0]).append(`<button class=\"audit-show audit-show btn btn-outline-success btn-block\" style=\"font-size: .8em;\"><i class=\"fa fa-eye\"></i> VIEW MORE</button>`)\r\n$('#view_5371').append(`<button class=\"audit-hide btn btn-outline-success btn-block\" style=\"font-size: .8em;\"><i class=\"fa fa-eye\"></i> SHOW LESS</button>`)\r\n$(\".audit-show\").hide();\r\n$(\".audit-hide\").click(function(){\r\n  // $('.kn-list-content').hide(\"slow\");\r\n  // $('.kn-records-nav').hide(\"slow\");\r\n  $('.kn-list-item-container:not(:first)').hide('slow')\r\n  $(\".audit-show\").show(\"fast\");\r\n  $(\".audit-hide\").hide(\"fast\");\r\n});\r\n\r\n$(\".audit-show\").click(function(){\r\n  // $('.kn-list-content').show(\"slow\");\r\n  // $('.kn-records-nav').show(\"slow\");\r\n  $('.kn-list-item-container:not(:first)').show('slow')\r\n  $(\".audit-show\").hide(\"fast\");\r\n  $(\".audit-hide\").show(\"fast\");\r\n});\r\n}else{\r\n  $('.audit-show').hide();\r\n  $('.audit-hide').hide();\r\n}\r\n});\r\n\r\n// view_5358\r\n$(document).on('knack-view-render.view_5358', function(event, view, data){\r\nif(data.length > 1){\r\n// $('#view_5377').show(\"slow\");\r\n$($('.kn-list-item-container')[0]).append(`<button class=\"audit-show audit-show btn btn-outline-success btn-block\" style=\"font-size: .8em;\"><i class=\"fa fa-eye\"></i> VIEW MORE</button>`)\r\n$('#view_5358').append(`<button class=\"audit-hide btn btn-outline-success btn-block\" style=\"font-size: .8em;\"><i class=\"fa fa-eye\"></i> SHOW LESS</button>`)\r\n$(\".audit-show\").hide();\r\n$(\".audit-hide\").click(function(){\r\n  // $('.kn-list-content').hide(\"slow\");\r\n  // $('.kn-records-nav').hide(\"slow\");\r\n  $('.kn-list-item-container:not(:first)').hide('slow')\r\n  $(\".audit-show\").show(\"fast\");\r\n  $(\".audit-hide\").hide(\"fast\");\r\n});\r\n\r\n$(\".audit-show\").click(function(){\r\n  // $('.kn-list-content').show(\"slow\");\r\n  // $('.kn-records-nav').show(\"slow\");\r\n  $('.kn-list-item-container:not(:first)').show('slow')\r\n  $(\".audit-show\").hide(\"fast\");\r\n  $(\".audit-hide\").show(\"fast\");\r\n});\r\n}else{\r\n  $('.audit-show').hide();\r\n  $('.audit-hide').hide();\r\n  // $('#view_5377').hide();\r\n}\r\n});\r\n\r\n//view_5388\r\n$(document).on('knack-view-render.view_5388', function(event, view, data){\r\ntry{\r\n  var currentButler = Knack.views.view_4861.model.attributes.field_192_raw[0].id;\r\n  console.log(data, currentButler)\r\n  for(var i = 0; i < data.length; i++){\r\n    if(data[i].field_112_raw[0].id != currentButler) {\r\n      $($('#view_5388 .kn-list-item-container')[i]).hide()\r\n    }\r\n  }\r\n}catch(err){\r\n  console.log(err)\r\n}\r\n});\r\n\r\n//view_5403\r\n$(document).on('knack-view-render.view_5403', function(event, view, data){\r\ntry{\r\n  var currentButler = Knack.views.view_5366.model.attributes.field_192_raw[0].id;\r\n  console.log(data, currentButler)\r\n  for(var i = 0; i < data.length; i++){\r\n    if(data[i].field_112_raw[0].id != currentButler) {\r\n      $($('#view_5403 .kn-list-item-container')[i]).hide()\r\n    }\r\n  }\r\n}catch(er){ console.log(er) }\r\n});\r\n\r\n//view_5402\r\n$(document).on('knack-view-render.view_5402', function(event, view, data){\r\ntry{\r\n  var currentButler = Knack.views.view_5355.model.attributes.field_192_raw[0].id;\r\n  console.log(data, currentButler)\r\n  for(var i = 0; i < data.length; i++){\r\n    if(data[i].field_112_raw[0].id != currentButler) {\r\n      $($('#view_5402 .kn-list-item-container')[i]).hide()\r\n    }\r\n  }\r\n}\r\ncatch(err){\r\n  console.log(err)\r\n}\r\n});\r\n\r\n//view_5346\r\n$(document).on('knack-view-render.view_5346', function(event, view, data){\r\nif( $('#swal').length === 0 ){\r\n  $('head').append(`<script class=\"lazyload\" id=\"swal\" src=\"https://unpkg.com/sweetalert/dist/sweetalert.min.js\"></script>`);\r\n}\r\n});\r\n\r\n//view_5233 CC > Notice \r\n$(document).on('knack-view-render.view_5233', function(event, view, data){\r\nif( $('#swal').length === 0 ){\r\n  $('head').append(`<script class=\"lazyload\" id=\"swal\" src=\"https://unpkg.com/sweetalert/dist/sweetalert.min.js\"></script>`);\r\n}\r\n});\r\n\r\n//view_5427\r\n$(document).on('knack-view-render.view_5427', function(event, view, data){\r\nconsole.log(data)\r\nvar notice = `<div class=\"click-here main alert alert-primary alert-dismissible fade show\" role=\"alert\" style=\"width:100%\"><span class=\"announcement-title alert-link\"><strong>${data[0].field_2990_raw}</strong></span> <span class=\"click-here\"><a href=\"#apps-announcements/view-announcement/${data[0].id}\">Click here to learn more</a></span>\r\n<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n  <span aria-hidden=\"true\">&times;</span>\r\n</button>\r\n</div>`;\r\n$('#kn-scene_1952').prepend(notice);\r\n$('.click-here').hide();\r\nsetTimeout(showMessage, 2000)\r\n\r\n\r\nfunction showMessage(){\r\n  $($('.click-here')[0]).show('fast');\r\n  $($('.click-here')[1]).show(2000);\r\n}\r\n\r\n$('.close').on('click', function(){\r\n  $('.alert').hide('fast')\r\n})\r\n});\r\n\r\n//view_5431\r\n$(document).on('knack-view-render.view_5431', function(event, view, data){\r\nconsole.log(data)\r\nvar notice = `<div>${data.field_2990_raw}</div>`;\r\n$('#announcement_id').html(notice)\r\n});\r\n\r\n//view_5438 Service Hazard New Address CM\r\n$(document).on('knack-view-render.view_5438', function(event, view, data){\r\n$('#view_5438').hide();\r\nlet script = document.createElement('script');\r\nscript.src = 'https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js';\r\nscript.class = 'lazyload';\r\ndocument.documentElement.firstChild.appendChild(script);\r\nif( $('#desoSlide').length === 0 ){\r\n    // $('head').append(`<script class=\"lazyload\" src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/1.8.3/jquery.min.js\"></script>`);\r\n    // $('head').append( `<link rel=\"stylesheet\" type=\"text/css\" class=\"lazyload\" href=\"https://cdnjs.cloudflare.com/ajax/libs/fotorama/4.6.4/fotorama.css\">`)\r\n    // $('head').append(`<script class=\"lazyload\" id=\"desoSlide\" src=\"https://cdnjs.cloudflare.com/ajax/libs/fotorama/4.6.4/fotorama.js\"></script>`);\r\n    // $('head').append(`<link rel=\"stylesheet\" type=\"text/css\" class=\"lazyload\" href=\"http://flexslider.woothemes.com/css/flexslider.css\">`)\r\n\r\n    $('head').append(`<script id=\"desoSlide\" src=\"https://cdnjs.cloudflare.com/ajax/libs/fotorama/4.6.4/fotorama.min.js\" integrity=\"sha512-cWEytOR8S4v/Sd3G5P1Yb7NbYgF1YAUzlg1/XpDuouZVo3FEiMXbeWh4zewcYu/sXYQR5PgYLRbhf18X/0vpRg==\" crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\"></script>\r\n      <link  href=\"https://cdnjs.cloudflare.com/ajax/libs/fotorama/4.6.4/fotorama.css\" rel=\"stylesheet\">`);\r\n\r\n}\r\n\r\n$('#view_4260').prepend(`<div class=\"fotorama\"\r\n   data-nav=\"thumbs\" id=\"service_hazard_fotorama\">\r\n</div>`)\r\nfor(var i = 0; i < data.length; i++){\r\n  $('#service_hazard_fotorama').append(`\r\n  <a href=\"${i+1}.jpg\"><img src=\"${transformImage(data[i].field_3023_raw)}\"></a>`)\r\n}\r\n\r\n});\r\n\r\n//view_5508 Service Hazard New Address CM\r\n$(document).on('knack-view-render.view_5508', function(event, view, data){\r\n$('#view_5508').hide();\r\nlet script = document.createElement('script');\r\nscript.src = 'https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js';\r\nscript.class = 'lazyload';\r\ndocument.documentElement.firstChild.appendChild(script);\r\nif( $('#desoSlide').length === 0 ){\r\n    // $('head').append(`<script class=\"lazyload\" src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/1.8.3/jquery.min.js\"></script>`);\r\n    // $('head').append( `<link rel=\"stylesheet\" type=\"text/css\" class=\"lazyload\" href=\"https://cdnjs.cloudflare.com/ajax/libs/fotorama/4.6.4/fotorama.css\">`)\r\n    // $('head').append(`<script class=\"lazyload\" id=\"desoSlide\" src=\"https://cdnjs.cloudflare.com/ajax/libs/fotorama/4.6.4/fotorama.js\"></script>`);\r\n    // $('head').append(`<link rel=\"stylesheet\" type=\"text/css\" class=\"lazyload\" href=\"http://flexslider.woothemes.com/css/flexslider.css\">`)\r\n\r\n    $('head').append(`<script id=\"desoSlide\" src=\"https://cdnjs.cloudflare.com/ajax/libs/fotorama/4.6.4/fotorama.min.js\" integrity=\"sha512-cWEytOR8S4v/Sd3G5P1Yb7NbYgF1YAUzlg1/XpDuouZVo3FEiMXbeWh4zewcYu/sXYQR5PgYLRbhf18X/0vpRg==\" crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\"></script>\r\n      <link  href=\"https://cdnjs.cloudflare.com/ajax/libs/fotorama/4.6.4/fotorama.css\" rel=\"stylesheet\">`);\r\n}\r\n\r\n$('#view_3718').prepend(`<div class=\"fotorama hideMe\"\r\n   data-nav=\"thumbs\" id=\"infraction_fotorama\">\r\n</div>`)\r\nfor(var i = 0; i < data.length; i++){\r\n  $('#infraction_fotorama').append(`\r\n  <a href=\"${i+1}.jpg\"><img src=\"${data[i].field_2237_raw}\"></a>`)\r\n}\r\n$('#infraction_fotorama').removeClass('hideMe')\r\n});\r\n\r\n//view_4089 Butler Report service hazard \r\n$(document).on('knack-view-render.view_4089', function(event, view, data){\r\n$(\"#view_4089-field_1500\").prop(\"selectedIndex\", 1).trigger(\"liszt:updated\").change();\r\n});\r\n\r\n//view_3780 Butler Service Hazard Details\r\n// $(document).on('knack-view-render.view_3780', function(event, view, data){\r\n//    $('#view_5439').hide();\r\n//   $('.edit-hazard-form').on('click', function(){\r\n//       $('#view_5439').show('fast');\r\n//       $('#view_3780').hide('fast');\r\n//       $('.edit-hazard-form').hide();\r\n//       $('html, body').animate({\r\n//         scrollTop: $(\"#view_3780\").offset().top\r\n//     }, 500);\r\n//   })\r\n// });\r\n\r\n// //view_5453 Butler Service Hazard Details\r\n// $(document).on('knack-view-render.view_5454', function(event, view, data){\r\n//    $('#view_5454').hide();\r\n//   $('.edit-hazard-form').on('click', function(){\r\n//       $('#view_5454').show('fast');\r\n//       $('#view_5452').hide('fast');\r\n//       $('.edit-hazard-form').hide();\r\n//       $('html, body').animate({\r\n//         scrollTop: $(\"#view_5453\").offset().top\r\n//     }, 500);\r\n//   })\r\n// });\r\n\r\n//view_3388\r\n$(document).on('knack-view-render.view_3388', function(event, view, data){\r\n $('#view_3615 .view-header').prepend( $('#view_3539') );\r\n\r\n});\r\n\r\n//view_5439\r\n$(document).on('knack-form-submit.view_5439', function(event, view, record) {\r\n$('#view_5439').hide();\r\n$('.edit-hazard-form').show();\r\n});\r\n\r\n//view_4081\r\n$(document).on('knack-view-render.view_4081', function(event, view, data){\r\n// //  console.log(data);\r\n// let script = document.createElement('script');\r\n// script.src = 'https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js';\r\n// script.class = 'lazyload';\r\n// document.documentElement.firstChild.append(script);\r\n// if( $('#desoSlide').length === 0 ){\r\n//     // $('head').append(`<script class=\"lazyload\" src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\"></script>`);\r\n//     // $('head').append( `<link rel=\"stylesheet\" type=\"text/css\" class=\"lazyload\" href=\"https://cdnjs.cloudflare.com/ajax/libs/fotorama/4.6.4/fotorama.css\">`)\r\n//     // $('head').append(`<script class=\"lazyload\" id=\"desoSlide\" src=\"https://cdnjs.cloudflare.com/ajax/libs/fotorama/4.6.4/fotorama.js\"></script>`);\r\n//     // $('head').append(`<link rel=\"stylesheet\" type=\"text/css\" class=\"lazyload\" href=\"http://flexslider.woothemes.com/css/flexslider.css\">`)\r\n\r\n//     $('head').append(`<script src=\"https://cdnjs.cloudflare.com/ajax/libs/fotorama/4.6.4/fotorama.min.js\" integrity=\"sha512-cWEytOR8S4v/Sd3G5P1Yb7NbYgF1YAUzlg1/XpDuouZVo3FEiMXbeWh4zewcYu/sXYQR5PgYLRbhf18X/0vpRg==\" crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\"></script>\r\n//       <link  href=\"https://cdnjs.cloudflare.com/ajax/libs/fotorama/4.6.4/fotorama.css\" rel=\"stylesheet\">`);\r\n\r\n// }\r\n// // $('.field_2237_thumb_36').hide()\r\n// function createContainer(){\r\n//   for(var i = 0; i < data.length; i++){\r\n//    $($('.sv-fotorama-main')[i]).append(`<div class=\"fotorama\"\r\n//       data-nav=\"thumbs\" id=\"fotorama_${i}\">\r\n//   </div>`);\r\n//   console.log('creating createContainer for '+i)\r\n// }\r\n// }\r\n// function createImageContainer(){\r\n//   for(var i = 0; i < data.length; i++){\r\n//     var sectionPhotos = data[i][\"field_2244.field_2237_raw\"];\r\n//     for(var k = 0; k < sectionPhotos.length; k++){\r\n//       $(`#fotorama_${i}`).append(`<a href=\"${k+1}.jpg\"><img src=\"${sectionPhotos[k]}\"></a>`);\r\n//       // console.log(`<a href=\"${k+1}.jpg\"><img src=\"${sectionPhotos[k]}\"></a>`)\r\n//       console.log('creating createImageContainer for '+k)\r\n//     }\r\n//   }\r\n// }\r\n// createContainer();\r\n// setTimeout(createImageContainer, 1000)\r\n// await createContainer();\r\n// await createImageContainer();\r\n\r\n});\r\n\r\nfunction transformImage(dataImage){\r\nvar imageUrl = \"\";\r\nvar start_url = \"\";\r\nvar end_url = \"\";\r\nvar new_url = \"\";\r\nvar orig_image;\r\n   \r\nimageUrl = dataImage;\r\nif (imageUrl == undefined) return; \r\nstart_url = imageUrl.split(\"upload\");\r\nif (imageUrl.includes(\"bo_5px_solid_black\")) {\r\n          \r\n      //remove overlay params in url\r\n      if (imageUrl.includes(\"fl_keep_iptc/v\")) {\r\n        end_url = start_url[1].split(\"fl_keep_iptc/v\");\r\n    \r\n      } else {\r\n        end_url = start_url[1].split(\"bo_5px_solid_black/v\");\r\n      }\r\n    \r\n      new_url = start_url[0] + \"upload/fl_keep_iptc/v\" + end_url[1];\r\n      //end remove\r\n      \r\n} else {\r\n  new_url = imageUrl;\r\n}\r\nreturn new_url;\r\n}\r\n\r\nfunction combineImagesAndDeletedField(img, del){\r\nvar image = img;\r\nvar isDeleted = del;\r\nvar imageArray = image.split(\", \").map(function(img) {\r\n  var id = img.match(/id=\"(.*?)\"/)[1];\r\n  var src = img.match(/src=\"(.*?)\"/)[1];\r\n  return { id: id, src: src };\r\n});\r\nvar isDeletedArray = isDeleted.split(\", \").map(function(del) {\r\n  var id = del.match(/id=\"(.*?)\"/)[1];\r\n  var deleted = del.match(/>(.*?)</)[1];\r\n  return { id: id, deleted: deleted };\r\n});\r\n\r\nvar result = imageArray.map(function(img) {\r\n  var deleted = isDeletedArray.find(function(del) {\r\n    return del.id === img.id;\r\n  }).deleted;\r\n  return { id: img.id, src: img.src, deleted: deleted };\r\n});\r\n\r\nreturn result;\r\n}\r\n\r\n\r\n//view_5448 Community Manager Dashboard Service Hazard New\r\n$(document).on('knack-view-render.view_5448', function(event, view, data){\r\nconsole.log(data, \"Service Hazards view_5448\")\r\n$('.field_2237').hide();\r\n$('.field_3023').hide();\r\n\r\nfunction createImageContainer(){\r\n  for(var i = 0; i < data.length; i++){\r\n    $($($('.uploadHazardBtn')[i]).parents()[4]).hide();\r\n    // \r\n    console.log('datadatadatadatalength ', i)\r\n    $($('.service-hazard-image-cont')[i]).append(`<div class=\"row\"\r\n    data-nav=\"thumbs\" id=\"fotoramaDash_${i}\">\r\n    </div>`);\r\n      //\r\n    var notDeleted =  data[i][\"field_3023_raw\"].length - data[i].field_2248_raw.length;\r\n    // var sectionPhotos = data[i][\"field_3023_raw\"];\r\n    var sectionPhotos = data[i].field_3023;\r\n    var combinedArray = combineImagesAndDeletedField(data[i][\"field_2244.field_3023\"],data[i][\"field_2244.field_2248\"])\r\n    console.log(combinedArray, \"stasasteststest\")\r\n    sectionPhotos = sectionPhotos.split(\", \");\r\n    console.log('sectionPhotos', sectionPhotos)\r\n    $($('.service-hazard-image-cont-number')[i]).html( `${notDeleted} Photo(s)` )\r\n    // $($('.service-hazard-image-cont')[i]).prepend(`<div class=\"col-12\"><img src=\"${transformImage(sectionPhotos[0])}\" height=\"100px\"></div>`)\r\n    var isFirstNo = true;\r\n    for (let t = 0; t < combinedArray.length; t++) {\r\n      if( combinedArray[t].deleted === \"No\" ){\r\n        if(isFirstNo){\r\n          $($('.service-hazard-image-cont')[i]).prepend(`<div class=\"col-12\"><img src=\"${transformImage(combinedArray[t].src)}\" height=\"100px\"></div>`)\r\n          isFirstNo = false;\r\n        }else{\r\n          if(0 < t < 4){\r\n            $(`#fotoramaDash_${i}`).append(`<div class=\"col-4\"><img src=\"${transformImage(combinedArray[t].src)}\" height=\"30px\"></div>`);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    //\r\n  }\r\n}\r\n// createContainer();\r\ncreateImageContainer();\r\n$($('#view_5448 .kn-special-title')[0]).on('click', function(){\r\n      $($('.uploadHazardBtn')[0]).click()\r\n})\r\n$($('#view_5448 .kn-special-title')[1]).on('click', function(){\r\n      $($('.uploadHazardBtn')[1]).click()\r\n})\r\n});\r\n\r\n//view_5467 Community Manager Dashboard Infraction New\r\n$(document).on('knack-view-render.view_5467', function(event, view, data){\r\nconsole.log(data, \"INFRACTIONSSSSSSSSSSSSSSSSSSSSSS\")\r\n$('.field_2237').hide();\r\n$('.field_614').hide();\r\n$('.field_615').hide();\r\n$('.field_3023').hide();\r\n\r\nfunction createContainer(){\r\n  for(var i = 0; i < data.length; i++){\r\n   $($('.infraction-image-cont')[i]).append(`<div class=\"fotorama row\"\r\n      data-nav=\"thumbs\" id=\"fotoramaDashInfra_${i}\">\r\n      </div>`);\r\n      console.log('creating createContainer for '+i)\r\n  }\r\n}\r\nfunction createImageContainer(){\r\n  for(var i = 0; i < data.length; i++){\r\n    $($($('.uploadInfractionBtn')[i]).parents()[4]).hide();\r\n    // \r\n    $($('.infraction-image-cont')[i]).append(`<div class=\"row\"\r\n    data-nav=\"thumbs\" id=\"fotoramaDashInfra_${i}\">\r\n    </div>`);\r\n      // \r\n    // var sectionPhotos = data[i][\"field_3023_raw\"];\r\n    var sectionPhotos = 0;\r\n    if(data[i].field_3054 === 'Yes'){\r\n        sectionPhotos = data[i][\"field_3023_raw\"]\r\n        $($('.infraction-image-cont-number')[i]).html( `${sectionPhotos.length} Photo(s)` )\r\n        $($('.infraction-image-cont')[i]).prepend(`<div class=\"col-12\"><img src=\"${transformImage(sectionPhotos[0])}\" height=\"100px\"></div>`)\r\n\r\n        for(var k = 1; k < 4; k++){\r\n          if(sectionPhotos[k]){\r\n            $(`#fotoramaDashInfra_${i}`).append(`<div class=\"col-4\"><img src=\"${transformImage(sectionPhotos[k])}\" height=\"30px\"></div>`);\r\n          }\r\n          // console.log(`<a href=\"${k+1}.jpg\"><img src=\"${sectionPhotos[k]}\"></a>`)\r\n          console.log('creating createImageContainer for '+k)\r\n        }\r\n    }\r\n    else{\r\n      // $($('.infraction-image-cont-number')[i]).html( `${sectionPhotos.length} Photo(s)` )\r\n      if( data[i].field_614 != '' ){ sectionPhotos = sectionPhotos + 1 }\r\n      if( data[i].field_615 != '' ){ sectionPhotos = sectionPhotos + 1 }\r\n      $($('.infraction-image-cont-number')[i]).html( `${sectionPhotos} Photo(s)` )\r\n      // $($('.infraction-image-cont')[i]).prepend(`<div class=\"col-12\"><img src=\"${transformImage(sectionPhotos[0])}\" height=\"100px\"></div>`)\r\n      $($('.infraction-image-cont')[i]).prepend(`<div class=\"col-12\"><img src=\"${transformImage(data[i].field_614_raw)}\" height=\"100px\"></div>`)\r\n\r\n      // for(var k = 1; k < 4; k++){\r\n      //   if(sectionPhotos[k]){\r\n      //     $(`#fotoramaDashInfra_${i}`).append(`<div class=\"col-4\"><img src=\"${transformImage(sectionPhotos[k])}\" height=\"30px\"></div>`);\r\n      $(`#fotoramaDashInfra_${i}`).append(`<div class=\"col-4\"><img src=\"${transformImage(data[i].field_614_raw)}\" height=\"30px\"></div>`);\r\n      //   }\r\n      //   // console.log(`<a href=\"${k+1}.jpg\"><img src=\"${sectionPhotos[k]}\"></a>`)\r\n      //   console.log('creating createImageContainer for '+k)\r\n      // }\r\n    }\r\n  }\r\n}\r\n// createContainer();\r\ncreateImageContainer();\r\n// setTimeout(createImageContainer, 500)\r\n\r\nfunction addImagePreview2(){\r\n  for (let i = 0; i < $('img').length; i++) {//This will makes the Multiple Image Upload Images Preview Full size image\r\n    if($($('img')[i]).attr('data-kn-img-gallery') === undefined){\r\n      $($('img')[i]).attr('data-kn-img-gallery', $($('img')[i]).attr('src'))\r\n      $($('img')[i]).wrap('<a class=\"kn-img-gallery\" href=\"#\"></a>');\r\n    }\r\n  }\r\n}\r\n\r\n$($('#view_5467 .kn-special-title')[0]).on('click', function(){\r\n      $($('.uploadInfractionBtn')[0]).click()\r\n})\r\n$($('#view_5467 .kn-special-title')[1]).on('click', function(){\r\n      $($('.uploadInfractionBtn')[1]).click()\r\n})\r\n\r\n// setTimeout(addImagePreview2, 500)\r\n\r\n});\r\n\r\n//view_5614 Community Manager Dashboard Infraction New\r\n$(document).on('knack-view-render.view_5614', function(event, view, data){\r\n$('.field_2237').hide();\r\n$('.field_614').hide();\r\n$('.field_615').hide();\r\n\r\nfunction createContainer(){\r\n  for(var i = 0; i < data.length; i++){\r\n   $($('.infraction-image-cont')[i]).append(`<div class=\"fotorama row\"\r\n      data-nav=\"thumbs\" id=\"fotoramaDashInfra_${i}\">\r\n      </div>`);\r\n      console.log('creating createContainer for '+i)\r\n  }\r\n}\r\nfunction createImageContainer(){\r\n  for(var i = 0; i < data.length; i++){\r\n    $($($('.uploadInfractionBtn')[i]).parents()[4]).hide();\r\n    // \r\n    $($('.infraction-image-cont')[i]).append(`<div class=\"row\"\r\n    data-nav=\"thumbs\" id=\"fotoramaDashInfra_${i}\">\r\n    </div>`);\r\n      // \r\n    var sectionPhotos = data[i][\"field_2237_raw\"];\r\n    $($('.infraction-image-cont-number')[i]).html( `${sectionPhotos.length} Photo(s)` )\r\n    $($('.infraction-image-cont')[i]).prepend(`<div class=\"col-12\"><img src=\"${transformImage(sectionPhotos[0])}\" height=\"100px\"></div>`)\r\n\r\n    for(var k = 1; k < 4; k++){\r\n      if(sectionPhotos[k]){\r\n        $(`#fotoramaDashInfra_${i}`).append(`<div class=\"col-4\"><img src=\"${transformImage(sectionPhotos[k])}\" height=\"30px\"></div>`);\r\n      }\r\n      // console.log(`<a href=\"${k+1}.jpg\"><img src=\"${sectionPhotos[k]}\"></a>`)\r\n      console.log('creating createImageContainer for '+k)\r\n    }\r\n  }\r\n}\r\n// createContainer();\r\ncreateImageContainer();\r\n// setTimeout(createImageContainer, 500)\r\n\r\n$($('#view_5614 .kn-special-title')[0]).on('click', function(){\r\n      $($('.uploadInfractionBtn')[0]).click()\r\n})\r\n$($('#view_5614 .kn-special-title')[1]).on('click', function(){\r\n      $($('.uploadInfractionBtn')[1]).click()\r\n})\r\n\r\n});\r\n\r\n//view_5499\r\n\r\n$(document).on('knack-view-render.view_5499', function(event, view, data){\r\naddImagePreview();\r\n});\r\n\r\n$(document).on('knack-view-render.view_5552', function(event, view, data){\r\naddImagePreview();\r\n});\r\n\r\n$(document).on('knack-view-render.view_5619', function(event, view, data){\r\naddImagePreview();\r\n});\r\n\r\n//view_5504\r\n$(document).on('knack-view-render.view_5504', function(event, view, data){\r\naddImagePreview();\r\n});\r\n//view_5503\r\n$(document).on('knack-view-render.view_5503', function(event, view, data){\r\naddImagePreview();\r\n});\r\n//view_5436\r\n$(document).on('knack-view-render.view_5436', function(event, view, data){\r\naddImagePreview();\r\n});\r\n\r\n//view_5499\r\n$(document).on('knack-view-render.view_5499', function(event, view, data){\r\naddImagePreview();\r\n});\r\n//view_5659\r\n$(document).on('knack-view-render.view_5659', function(event, view, data){\r\naddImagePreview();\r\n});\r\n\r\nvar doneUploadBtnArray = ['view_5506', 'view_5507', 'view_5512', 'view_5551']; //I'M DONE UPLOADING PHOTOS\r\n\r\ndoneUploadBtnArray.forEach((view_id, idx) => {\r\n  $(document).on(`knack-view-render.${view_id}`, function(event, view, data) {\r\n    $(`#${view_id}`).css('text-align', 'center')\r\n    $(`#${view_id}`).css('cursor', 'pointer')\r\n       $(`#${view_id}`).on('click', function(){\r\n          if( $('.delete.close-modal').length > 0 ){\r\n              $('.delete.close-modal').click();\r\n          }else{\r\n              window.history.back();\r\n          }\r\n      })\r\n  });\r\n});\r\n\r\n//REMOVE OVERLAY V2\r\nfunction removeOverlayV2(){\r\n$(\"img\").each(function() {\r\nvar imageUrl = \"\";\r\nvar start_url = \"\";\r\nvar end_url = \"\";\r\nvar new_url = \"\";\r\nvar orig_image;\r\n   \r\nimageUrl = $(this).attr('src');\r\nif (imageUrl == undefined) return; \r\nstart_url = imageUrl.split(\"upload\");\r\n    if (imageUrl.includes(\"bo_5px_solid_black\")) {\r\n              \r\n          //remove overlay params in url\r\n          if (imageUrl.includes(\"fl_keep_iptc/v\")) {\r\n            end_url = start_url[1].split(\"fl_keep_iptc/v\");\r\n        \r\n          } else {\r\n            end_url = start_url[1].split(\"bo_5px_solid_black/v\");\r\n          }\r\n        \r\n          new_url = start_url[0] + \"upload/fl_keep_iptc/v\" + end_url[1];\r\n          //end remove\r\n          \r\n    } else {\r\n      new_url = imageUrl;\r\n    }\r\n\r\n    $(this).attr(\"src\", new_url);\r\n    $(this).attr(\"data-kn-img-gallery\", new_url);\r\n}); \r\n}\r\n//END REMOVE OVERLAY V2\r\n\r\n//home_slug\r\n$(document).on('knack-scene-render.any', function(event, scene) {\r\nif( Knack.home_slug == \"community-concierge\" ){\r\n  removeOverlayV2()\r\n  // addImagePreview();\r\n}\r\n\r\nif( Knack.home_slug == 'butler' ){\r\n  if($('#butler_service_ui').length === 0){\r\n    $('head').append('<link rel=\"stylesheet\" type=\"text/css\" id=\"butler_service_ui\" class=\"lazyload\" href=\"https://strategic-visionz.github.io/knack-css/scss/Butler%20Service%20Process%20Theme1.0.0.min.css\">')\r\n  }\r\n}else{\r\n  if($('#butler_service_ui').length > 0){\r\n    $('#butler_service_ui').remove();\r\n  }\r\n}\r\n// if( Knack.home_slug != 'service-activity-logs'){\r\n  if( $('#kn-scene_2013').length === 0 && $('#kn-scene_2042').length === 0){\r\n    if($('#service-activity-logs').length > 0){\r\n      $('#service-activity-logs').remove();\r\n    }\r\n    if( Knack.home_slug != \"area-command-center\" ){\r\n      // $('#sv-top-back').remove();\r\n    }\r\n  }\r\n\r\n  if( $('#kn-scene_2013').length === 1 || $('#kn-scene_2042').length === 1){\r\n    if( Knack.home_slug == \"area-command-center\" ){\r\n      // $('#sv-top-back').remove();\r\n      if( Knack.navList){\r\n        var customMenu = `<ul id=\"custom_menu_id\" style=\"list-style-type:none;\">${Knack.navList}</ul>`;\r\n        if($('#custom_menu_id').length === 0){ $('#kn-mobile-menu').append(customMenu); }\r\n      }\r\n      addSvTopBack();\r\n    }\r\n    $('#as_command_center_theme').remove()\r\n  }\r\n\r\nvar userProfKeys = Knack.session.user.profile_keys;\r\nvar isDev = userProfKeys.includes('profile_34')\r\n\r\nif( Knack.home_slug == \"area-command-center\"){\r\n  if( $('#custom_menu_id').length === 0 ){\r\n    addCustomMenuSv();\r\n  }\r\n  if ($('#as_command_center_theme').length == 0) {\r\n      // if(isDev){\r\n        // $('#kn-app-mobile-container').addClass('fx-top-bar-josh')\r\n        // $('.kn-scenes.kn-section').addClass('scene-fx-josh')\r\n      // }\r\n      if( $('#kn-scene_2042').length === 0 && $('#kn-scene_2013').length === 0){\r\n        $('head').append('<link rel=\"stylesheet\" type=\"text/css\" id=\"as_command_center_theme\" class=\"lazyload\" href=\"https://strategic-visionz.github.io/knack-css/scss/Area%20Supervisor%20Theme.min.css\">')\r\n      }else{\r\n        // $('#kn-app-mobile-container').removeClass('fx-top-bar-josh')\r\n        // $('.kn-scenes.kn-section').removeClass('scene-fx-josh')\r\n      }\r\n  }\r\n}\r\n\r\nif( $('#view_5808').length === 0 ){ $('#view_5851').remove();}\r\nif( $('#view_5730').length === 0 ){ $('#view_5964').remove();}\r\n\r\n// }\r\n\r\n// if( Knack.home_slug == 'service-activity-logs' ){\r\n//   if($('#service-activity-logs').length === 0){\r\n//     $('head').append('<link rel=\"stylesheet\" type=\"text/css\" id=\"service-activity-logs\" class=\"lazyload\" href=\"https://strategic-visionz.github.io/knack-css/scss/ServiceIDActivityLog_UI.min.css\">')\r\n//   }\r\n// }\r\n\r\n//Add QuickQueue\r\nif( Knack.user.id === '611d18ecfbee5b07a16a5bd5' ){\r\n  // $('#knack-logo').append(`<a class=\"\" href=\"${window.location.href}services-quickqueue/${Knack.hash_id||'')}>Service QuickQueue</a>`)\r\n  $('#knack-logo').append(`<a id=\"test1\" class=\"\" href=\"${window.location.href}services-quickqueue/${Knack.hash_id||''}\">Service QuickQueue</a>`)\r\n}\r\n//End\r\n})\r\n\r\n//scene_1364\r\n$(document).on(\"knack-scene-render.scene_1364\", function(event, scene) {\r\n//  function waitTilLoaded(){\r\n//     $('#field_3018').val('').change();\r\n//   var emailImage = '';\r\n//     $(\"#view_4260 img\").each(function() {\r\n//       var imgUrl = $(this).attr('src')\r\n//       if( imgUrl ){\r\n//         emailImage = emailImage + `<img src=\"${ imgUrl }\" width=\"300px\">`;\r\n//       }\r\n//     });\r\n//     // $('#field_3018').val(emailImage).change();\r\n//     $('#field_3018').val( Knack.views.view_3640.model.attributes.field_3018 ).change();\r\n//     console.log( Knack.views.view_3640.model.attributes.field_3018, \"$('#kn-input-field_3018').val('')\" )\r\n// //  }\r\n// //  setTimeout(waitTilLoaded, 1000)\r\n\r\n// $(\"img\").each(function() {\r\n//   var imageUrl = \"\";\r\n//   var start_url = \"\";\r\n//   var end_url = \"\";\r\n//   var new_url = \"\";\r\n//   var orig_image;\r\n   \r\n//   imageUrl = $(this).attr('src');\r\n//   if (imageUrl == undefined) return; \r\n//   start_url = imageUrl.split(\"upload\");\r\n//       if (imageUrl.includes(\"bo_5px_solid_black\")) {\r\n              \r\n//             //remove overlay params in url\r\n//             if (imageUrl.includes(\"fl_keep_iptc/v\")) {\r\n//               end_url = start_url[1].split(\"fl_keep_iptc/v\");\r\n        \r\n//             } else {\r\n//               end_url = start_url[1].split(\"bo_5px_solid_black/v\");\r\n//             }\r\n        \r\n//             new_url = start_url[0] + \"upload/fl_keep_iptc/v\" + end_url[1];\r\n//             //end remove\r\n          \r\n//       } else {\r\n//         new_url = imageUrl;\r\n//       }\r\n\r\n//       $(this).attr(\"src\", new_url);\r\n//       $(this).attr(\"data-kn-img-gallery\", new_url);\r\n//   });\r\n// console.log( Knack.views.view_5438.model.data.models.map((b) => {return b.attributes.field_2237_raw}) )\r\n});\r\n\r\n$(document).on('knack-view-render.view_3640', function(event, view, data){\r\nconsole.log('view_3640view_3640view_3640')\r\n$('#view_3640 button').prop('disabled', true);\r\n const myInterval = setInterval(checkIfExist, 500);\r\n\r\n  function checkIfExist(){\r\n    if( $('#view_5438').length === 0 ){\r\n      console.log('waiting for view')\r\n    }else{\r\n        $('#view_3640 button').prop('disabled', false);\r\n        addImageToField()\r\n        clearInterval(myInterval);\r\n        \r\n    }\r\n  }\r\n\r\n  function addImageToField(){\r\n    var imageUrl = Knack.views.view_5438.model.data.models.map((b) => {return b})\r\n    imageUrl = imageUrl.map((b) => {return b.attributes.field_2237_raw})\r\n    removeOverlay3(imageUrl)\r\n  }\r\n\r\n  function removeOverlay3(imageData){\r\n    var emailImage = '';\r\n    for(var i = 0; i < imageData.length; i++){\r\n      var imageUrl = \"\";\r\n      var start_url = \"\";\r\n      var end_url = \"\";\r\n      var new_url = \"\";\r\n      var orig_image;\r\n        \r\n      imageUrl = imageData[i];\r\n      if (imageUrl == undefined) return; \r\n      start_url = imageUrl.split(\"upload\");\r\n      if (imageUrl.includes(\"bo_5px_solid_black\")) {\r\n                \r\n            //remove overlay params in url\r\n            if (imageUrl.includes(\"fl_keep_iptc/v\")) {\r\n              end_url = start_url[1].split(\"fl_keep_iptc/v\");\r\n          \r\n            } else {\r\n              end_url = start_url[1].split(\"bo_5px_solid_black/v\");\r\n            }\r\n          \r\n            new_url = start_url[0] + \"upload/fl_keep_iptc/v\" + end_url[1];\r\n            //end remove\r\n            \r\n      } else {\r\n        new_url = imageUrl;\r\n      }\r\n      emailImage = emailImage + `<img src=\"${ new_url }\" width=\"300px\">`;\r\n      console.log(emailImage)\r\n    }\r\n    $('#field_3018').val(emailImage).change();\r\n  }\r\n\r\n});\r\n\r\n// view_3640\r\n$(document).on('knack-form-submit.view_3640', function(event, view, record) {\r\n$('.close-modal').click();\r\nif( Knack.views.view_5448 ) { Knack.views.view_5448.model.fetch(); }\r\nif( Knack.views.view_3638 ) { Knack.views.view_3638.model.fetch(); }\r\n});\r\n\r\n//view_5653\r\n$(document).on('knack-view-render.view_5653', function(event, view, data) {\r\nconsole.log(data, \"view-render\")\r\n$('#view_5653 .field_2241').hide()\r\n$('#view_5653 .field_2963').hide()\r\n$('#view_5653 .field_2242').hide()\r\n$('#view_5653 .field_2244').hide()\r\n$('#view_5653 .field_2250').hide()\r\n$('#view_5653 .field_2251').hide()\r\n$('#view_5653 .field_2252').hide()\r\n\r\nfor(var i = 0; i < $('#view_5653 tbody tr').length; i++){\r\n  var txt = $($('#view_5653 tbody tr .field_2240 .col-9')[i]).html();\r\n  var link = $($('#view_5653 tbody tr')[i]).find(\"a:not('.kn-img-gallery')\").attr(\"href\")\r\n  // console.log($($('#view_5653 tr')[i + 1]).find(\"a\").attr(\"href\"), \"\")\r\n  $($('#view_5653 tbody tr .field_2240 .col-9')[i]).html(`<a href=${link}>Edit ${txt}</a>`);\r\n}\r\n\r\n// $('#view_5653 .field_2240 .col-9').on('click', function(){\r\n//   console.log( $(this).parents() )\r\n//   console.log( $($(this).parents()[1]).find(\"a\").attr(\"href\") )\r\n// })\r\n});\r\n\r\n//view_5539\r\n$(document).on('knack-view-render.view_5539', function(event, view, data){\r\n$('#triggerServiceHazardUpdateForm').on('click', function(){\r\n  triggerUpdateServiceHazardForm('637602b2fe07c60774708e10', `<img src=\"https://res.cloudinary.com/strategicvisionz/image/upload/v1668690427/2022%20Image%20Uploader%20-%20Trash%20Dash%20Parent%20Directory/Service%20Hazards/11%20-%2017/20220322_125537%20copy_1668690425960.jpg\" /><br />`)\r\n})\r\n\r\nfunction triggerUpdateServiceHazardForm(hazard_id, imgTagWithOverlays) {\r\n  return $.ajax({\r\n    type: 'PUT',\r\n    headers: asHeader,\r\n    url: 'https://api.sv.knack.com/v1/pages/scene_1974/views/view_5525/records/'+hazard_id,\r\n    data: {\r\n      field_3018: imgTagWithOverlays\r\n    },\r\n    success: function() {\r\n      console.log( 'triggerUpdateServiceHazardForm success' )\r\n    }\r\n  });\r\n}\r\n});\r\n\r\n//https://builder.sv.knack.com/apps/trashdash/pages/scene_2013/views/view_5699\r\n$(document).on('knack-view-render.view_5699', function(event, view, data) {\r\n// console.log(data, \"view_5699view_5699view_5699\")\r\n$('.field_1296').hide() //Infractions\r\n$('.field_313').hide() //Support Ticket\r\n$('.field_1497').hide() //Service Hazards\r\n$('.field_1297').hide() //Compactor Log\r\n$('.field_799').hide() //RADAR Log\r\n$('.field_810').hide() //Timeclock\r\n$('.flex-buttons').html();\r\nfor(var i = 0; i < data.length; i++){\r\n  // var buttons = `<button class=\"\">VIEW/EDIT</button>`\r\n  var hrefLink = ``;\r\n  //$($('.field_1297')[0]).find(\"a:not('.kn-img-gallery')\").attr(\"href\")\r\n  if(data[i].field_2240 == \"Butler Timeclock\"){\r\n    hrefLink = $($('.field_810')[i]).find(\"a:not('.kn-img-gallery')\").attr(\"href\");\r\n    // buttons = `<div><a class=\"\" href=${$($('.field_810')[i]).find(\"a:not('.kn-img-gallery')\").attr(\"href\")}>VIEW/EDIT</a><a class=\"\">FLAG</a></div>`\r\n  }\r\n  else if(data[i].field_2240 == \"Compactor Log\"){\r\n    hrefLink = $($('.field_1297')[i]).find(\"a:not('.kn-img-gallery')\").attr(\"href\");\r\n  }\r\n  else if(data[i].field_2240 == \"Resident Infraction\"){\r\n    hrefLink = $($('.field_1296')[i]).find(\"a:not('.kn-img-gallery')\").attr(\"href\");\r\n  }\r\n  else if(data[i].field_2240 == \"Service Hazard\"){\r\n    hrefLink = $($('.field_1497')[i]).find(\"a:not('.kn-img-gallery')\").attr(\"href\");\r\n  }\r\n  else{\r\n\r\n  }\r\n  $($('.flex-buttons')[i]).html(`<a class=\"\" href=${hrefLink}>VIEW/EDIT</a>`);\r\n}\r\n});\r\n\r\n//view_5725 Service ID > FLEXADD https://builder.sv.knack.com/apps/trashdash/pages/scene_2013/views/view_5725/table\r\n$(document).on('knack-view-render.view_5725', function(event, view, data) {\r\nconsole.log(data, \"view-render\")\r\n$('#view_5725 .field_2241').hide()\r\n$('#view_5725 .field_2963').hide()\r\n$('#view_5725 .field_2242').hide()\r\n$('#view_5725 .field_2244').hide()\r\n$('#view_5725 .field_2250').hide()\r\n$('#view_5725 .field_2251').hide()\r\n$('#view_5725 .field_2252').hide()\r\n$('#view_5725 .field_146').hide()\r\n$('#view_5725 .field_1501').hide()\r\n$('#view_5725 .field_155').hide()\r\n\r\n// $($($('#view_5725 th')[12])[0]).hide() //Delete Column\r\n\r\nfor(var i = 0; i < data.length; i++){\r\n  var recordType = data[i].field_2240;\r\n  var unitData = '';\r\n  switch (recordType) {\r\n    case \"Service Hazard\":\r\n      unitData = data[i].field_1501\r\n      break;\r\n    case \"RADAR Log\":\r\n      unitData = data[i].field_155\r\n      break;\r\n    case \"Resident Infraction\":\r\n      unitData = data[i].field_146\r\n      break;\r\n  }\r\n  $($('#view_5725 tbody tr .field_2240 .col-2')[i]).html(unitData);\r\n  // $($($('#view_5725 .col-12')[i]).parents()[0]).hide()\r\n  var txt = $($('#view_5725 tbody tr .field_2240 .col-12')[i]).html();\r\n  var link = $($('#view_5725 tbody tr')[i]).find(\"a:not('.kn-img-gallery')\").attr(\"href\")\r\n  // console.log($($('#view_5725 tr')[i + 1]).find(\"a\").attr(\"href\"), \"\")\r\n  // $($('#view_5725 tbody tr .field_2240 .col-11')[i]).html(`<a href=${link}><i class='fa fa-pencil'></i></a><button><i class='fa fa-trash flex-delete'></i></button>`);\r\n  $($('#view_5725 tbody tr .field_2238 .col-12')[i]).html(`<a href=${link}><i class='fa fa-pencil'></i></a>`);\r\n}\r\n\r\n $('#view_5725 .flex-delete').on('click', function(){\r\n   $($(this).parents()[3]).find(\".kn-link-delete\").click()\r\n    // console.log( $($(this).parents()[3]).find(\".kn-link-delete\").click() )\r\n  })\r\n\r\n  //nav var hidden\r\n  $('#view_5725 .view-header').hide();\r\n  $('#view_5725 .js-filter-menu').hide();\r\n});\r\n\r\n//view_5723\r\n$(document).on('knack-view-render.view_5723', function(event, view, data) {\r\n// console.log(data, \"dataaaaaaaaaaaaa\")\r\n// $('#flex-sched-at').html(`<div>Service Scheduled At</div>`)\r\n$('.field_170').hide()\r\n$($('.field_46 .kn-detail-body span span')[0]).append(` at ${data.field_170}` )\r\n$('#view_5723 .field_95').hide()\r\n$('#flex_service_id').html(`${data.field_95}`);\r\n// flex-time-container\r\n// $($('#view_5723 .flex-time-container')[0]).append( `<div class=\"col\"></div><div class=\"col\"></div>` )\r\n$($('#view_5723 .flex-time-container')[0]).append( $('.kn-detail.field_122'));\r\n$($('#view_5723 .flex-time-container')[0]).append( $('.kn-detail.field_123'));\r\n});\r\n\r\n//view_5809\r\n$(document).on('knack-view-render.view_5809', function(event, view, data) {\r\n$('.field_170').hide()\r\n$($('.field_46 .kn-detail-body span span')[0]).append(` at ${data.field_170}` )\r\n$('#view_5809 .field_95').hide()\r\n$('#flex_service_id').html(`${data.field_95}`);\r\n$($('#view_5809 .flex-time-container')[0]).append( $('.kn-detail.field_122'));\r\n$($('#view_5809 .flex-time-container')[0]).append( $('.kn-detail.field_123'));\r\n});\r\n\r\n//view_5726\r\n$(document).on('knack-view-render.view_5726', function(event, view, data) {\r\n$('.field_1025').hide()\r\nvar isReviewed = data.field_1019_raw;\r\n$($('#view_5726 .kn-details-link')[1]).hide()\r\n$('#view_5726 .field_121').hide()\r\nconsole.log(data, \"review data\")\r\n  var text = $($('.field_1020')[0]).text();\r\n  text = text.substr(0,100) + '...';\r\n\r\n\r\nif( isReviewed ){\r\n  var reviewClass = '';\r\n  if(data.field_1025 == 'Pass'){\r\n    reviewClass = 'pass-service';\r\n  }else{\r\n    reviewClass = 'fail-service';\r\n  }\r\n  $($('#view_5726 .field_1019')[0]).html(`<div><span class=${reviewClass}>${data.field_1025}</span></div>`);\r\n\r\n    $($('#view_5726 .kn-details-link a')[0]).html(`<i class=\"fa fa-edit\"></i>Edit Service ID Review`).addClass('editable-review');\r\n\r\n}else{\r\n  $('.field_3077').hide();\r\n  $('.field_1814').hide();\r\n  $($('#view_5726 .field_1019')[0]).html(`<div><span class=\"not-reviewed\">Not Reviewed Yet</span></div>`);\r\n  // field_1020\r\n  $($('.field_1020 span')[0]).html('No Review has been made yet.');\r\n\r\n  if( data.field_121 == \"Complete\" ){\r\n    $($('#view_5726 .kn-details-link a')[0]).addClass(\"completed-service-noreview\");\r\n  }\r\n}\r\n\r\nif( data.field_121 != \"Complete\" ){\r\n  $($('#view_5726 .kn-details-link a')[0]).addClass(\"disable-click\");\r\n}else{\r\n\r\n}\r\n});\r\n//view_5810\r\n$(document).on('knack-view-render.view_5810', function(event, view, data) {\r\n$('.field_1025').hide()\r\nvar isReviewed = data.field_1019_raw;\r\n$($('#view_5810 .kn-details-link')[1]).hide()\r\n$('#view_5810 .field_121').hide()\r\nconsole.log(data, \"review data\")\r\n  var text = $($('.field_1020')[0]).text();\r\n  text = text.substr(0,100) + '...';\r\n\r\n\r\nif( isReviewed ){\r\n  var reviewClass = '';\r\n  if(data.field_1025 == 'Pass'){\r\n    reviewClass = 'pass-service';\r\n  }else{\r\n    reviewClass = 'fail-service';\r\n  }\r\n  $($('#view_5810 .field_1019')[0]).html(`<div><span class=${reviewClass}>${data.field_1025}</span></div>`);\r\n\r\n    $($('#view_5810 .kn-details-link a')[0]).html(`<i class=\"fa fa-edit\"></i>Edit Service ID Review`).addClass('editable-review');\r\n\r\n}else{\r\n  $('.field_3077').hide();\r\n  $('.field_1814').hide();\r\n  $($('#view_5810 .field_1019')[0]).html(`<div><span class=\"not-reviewed\">Not Reviewed Yet</span></div>`);\r\n  // field_1020\r\n  $($('.field_1020 span')[0]).html('No Review has been made yet.');\r\n\r\n  if( data.field_121 == \"Complete\" ){\r\n    $($('#view_5810 .kn-details-link a')[0]).addClass(\"completed-service-noreview\");\r\n  }\r\n}\r\n\r\nif( data.field_121 != \"Complete\" ){\r\n  $($('#view_5810 .kn-details-link a')[0]).addClass(\"disable-click\");\r\n}else{\r\n\r\n}\r\n\r\nvar originalDiv = $(\"#view_5810\");\r\n\r\n// Use the clone() method to create a copy of the div\r\nvar cloneDiv = originalDiv.clone();\r\n\r\n// Append the clone to the body of the page\r\n$($(\".view-group.view-group-2 .view-column-group-2\")[0]).append(cloneDiv);\r\n});\r\n\r\n$(document).on('knack-view-render.view_5808', function(event, view, data) {\r\n// getFlexServices();\r\n// $('#sv-top-back').css('margin-left','45px')\r\n// $('#sv-top-back').css('margin-top','-25px')\r\nif( screen.width > 650){\r\n  //  KNACK_API_BASE_URL\r\n  // window.location.href = Knack.url_base+'#'+Knack.hash_parts[0]+'/service-id--flexadd-details2/'+Knack.hash_id;\r\n  var newUrl = Knack.url_base+'#';\r\n    for (let i = 0; i < Knack.hash_parts.length; i++) {\r\n        if(Knack.hash_parts[i] === \"service-id--flexadd-details-mobile2\"){\r\n          //service-id--flexadd-details-mobile2 service-id--flexadd-details2\r\n            newUrl = newUrl + 'service-id--flexadd-details2/'\r\n        }else{\r\n            newUrl = newUrl + Knack.hash_parts[i] + '/'\r\n        }\r\n    }\r\n    window.location.href = newUrl+'?'+Knack.query_string;\r\n}\r\nif($('#service-activity-logs').length === 0){\r\n    $('head').append('<link rel=\"stylesheet\" type=\"text/css\" id=\"service-activity-logs\" class=\"lazyload\" href=\"https://strategic-visionz.github.io/knack-css/scss/ServiceIDActivityLog_UI.min.css\">')\r\n    // $('#kn-app-mobile-container').addClass('fx-top-bar-josh')\r\n    // $('.kn-scenes.kn-section').addClass('scene-fx-josh')\r\n  //  if( Knack.user.id === \"611d18ecfbee5b07a16a5bd5\") {\r\n      // $('#kn-app-header').addClass('fx-top-bar-josh-service-log')\r\n      // $('.kn-scenes.kn-section').addClass('scene-fx-josh-service-log')\r\n      \r\n  //  }\r\n}\r\n});\r\n\r\n// function addSvTopBack(){\r\n//   if ($('.kn-back-link').length == 1) {\r\n//       let goBackTop = $('.kn-back-link').clone().attr(\"id\", \"sv-top-back\").appendTo(\"#knack-dist_1\");\r\n//       let origLink = $($('.kn-back-link a')[0]).attr('href');\r\n\r\n//       var timeout = setTimeout(function() {\r\n//           let orig = $($('.kn-back-link a')[0]).attr('href');\r\n//           $(\"#sv-top-back a\").attr(\"href\", origLink).addClass(\"sv-top-back\");\r\n//           clearTimeout(timeout);\r\n//       }, 1000);\r\n//   }else {\r\n//     let origLink = $($('.kn-back-link a')[0]).attr('href');\r\n//     let origText = $($('.kn-back-link a')[0])[0].innerHTML;\r\n//     //console.log(origText, \"origTEXT\")\r\n\r\n//     // var timeout = setTimeout(function() {\r\n//     //     let orig = $($('.kn-back-link a')[0]).attr('href');\r\n//     //     $(\"#sv-top-back a\").attr(\"href\", origLink).addClass(\"sv-top-back\");\r\n//     //     $(\"#sv-top-back a\").html(origText)\r\n//     //     clearTimeout(timeout);\r\n//     // }, 1000);\r\n\r\n//     var waitForBackLink = setInterval(backLink, 100);\r\n//     function backLink(){\r\n//       if( $($('.kn-back-link a')[0]).length == 0 ){\r\n//         console.log('Waiting for back link')\r\n//       }else{\r\n//           let orig = $($('.kn-back-link a')[0]).attr('href');\r\n//           $(\"#sv-top-back a\").attr(\"href\", origLink).addClass(\"sv-top-back\");\r\n//           $(\"#sv-top-back a\").html(origText)\r\n//           clearInterval(waitForBackLink);\r\n//       }\r\n//     }\r\n//   }\r\n// }\r\n\r\nfunction addSvTopBack(){\r\n// if( $('#sv-top-back').length === 0 ){ $('.kn-back-link').clone().attr(\"id\", \"sv-top-back\").appendTo(\"#knack-dist_1\"); }\r\n// var waitForBackLink = setInterval(backLink, 200);\r\n// function backLink(){\r\n//   if( $($('.kn-back-link a')[0]).length == 0 ){\r\n//     console.log('Waiting for back link')\r\n//   }else{\r\n//       let origLink = $($('.kn-back-link a')[0]).attr('href');\r\n//       let origText = $($('.kn-back-link a')[0])[0].innerHTML\r\n//       $(\"#sv-top-back a\").attr(\"href\", origLink).addClass(\"sv-top-back\");\r\n//       $(\"#sv-top-back a\").html(origText)\r\n//       clearInterval(waitForBackLink);\r\n//   }\r\n// }\r\nvar backLinkExist = setInterval(checkBackLink, 1000);\r\nfunction checkBackLink(){\r\n    if($('.kn-back-link').html() === undefined){ }\r\n    else{\r\n        function addBackLink(){\r\n            var origText = $($('.kn-back-link a')[0])[0].innerHTML\r\n            var origLink = $($('.kn-back-link a')[0]).attr('href');\r\n            if( Knack.query_string ){\r\n              origLink = origLink+'?'+Knack.query_string;\r\n            }\r\n            var backLink = `<a style=\"margin-left: 10px\" class=\"sv-top-back-link hideMe\" id=\"sv-top-back\" href=`+origLink+`><span>${origText}<span></a>`;\r\n            $('#kn-app-header').append(backLink);\r\n            $('#sv-top-back').show();\r\n        }\r\n        if($('#sv-top-back').length == 1){ $('#sv-top-back').remove(); addBackLink() }\r\n        else{ addBackLink(); }\r\n        clearInterval(backLinkExist);\r\n    }\r\n    var userProfKeys = Knack.session.user.profile_keys;\r\n    var isDev = userProfKeys.includes('profile_34')\r\n    if(isDev){\r\n      $('#sv-top-back').addClass('back-button-new-style-flex')\r\n      $('#sv-top-back').removeClass('hideMe')\r\n    }else{\r\n      $('#sv-top-back').removeClass('hideMe')\r\n    }\r\n}\r\n}\r\n\r\n$(document).on(`knack-scene-render.scene_2042`, function(event, view, data) {\r\naddSvTopBack()\r\n});\r\n\r\nvar flexMenu = [\r\n{\r\n  scene_id: 'scene_2013',\r\n  menu_id: 'view_5741',\r\n  all_id: 'view_5725',\r\n  timeclock_id: 'view_5736',\r\n  compactor_id: 'view_5737',\r\n  radar_id: 'view_5738',\r\n  inf_id: 'view_5739',\r\n  haz_id: 'view_5740',\r\n  notUpdated_id: 'view_5870',\r\n}\r\n]\r\n\r\nflexMenu.forEach((el, index, array) => {\r\n$(document).on(`knack-scene-render.${el.scene_id}`, function(event, view, data) {\r\n  if($('#service-activity-logs').length === 0){\r\n    $('head').append('<link rel=\"stylesheet\" type=\"text/css\" id=\"service-activity-logs\" class=\"lazyload\" href=\"https://strategic-visionz.github.io/knack-css/scss/ServiceIDActivityLog_UI.min.css\">')\r\n  }\r\n  addSvTopBack()\r\n  $(`#${el.menu_id} a`).removeAttr('href');\r\n\r\n  // ${el.all_id} All Activity\r\n  // ${el.timeclock_id} TimeClocks\r\n  // ${el.compactor_id} Compactors\r\n  // ${el.radar_id} RADAR Logs\r\n  // ${el.inf_id} Infractions\r\n  // ${el.haz_id} Hazards\r\n  function initFlex(){\r\n    $(`#${el.all_id}`).show()\r\n    $(`#${el.timeclock_id}`).hide()\r\n    $(`#${el.compactor_id}`).hide()\r\n    $(`#${el.radar_id}`).hide()\r\n    $(`#${el.inf_id}`).hide()\r\n    $(`#${el.haz_id}`).hide()\r\n    $(`#${el.notUpdated_id}`).hide()\r\n  }\r\n\r\n  function showAllActivity(){\r\n    $(`#${el.all_id}`).show()\r\n    $(`#${el.timeclock_id}`).hide()\r\n    $(`#${el.compactor_id}`).hide()\r\n    $(`#${el.radar_id}`).hide()\r\n    $(`#${el.inf_id}`).hide()\r\n    $(`#${el.haz_id}`).hide()\r\n    $(`#${el.notUpdated_id}`).hide()\r\n  }\r\n\r\n  function showTimeClocks(){\r\n    $(`#${el.all_id}`).hide()\r\n    $(`#${el.timeclock_id}`).show()\r\n    $(`#${el.compactor_id}`).hide()\r\n    $(`#${el.radar_id}`).hide()\r\n    $(`#${el.inf_id}`).hide()\r\n    $(`#${el.haz_id}`).hide()\r\n    $(`#${el.notUpdated_id}`).hide()\r\n  }\r\n\r\n  function showCompactors(){\r\n    $(`#${el.all_id}`).hide()\r\n    $(`#${el.timeclock_id}`).hide()\r\n    $(`#${el.compactor_id}`).show()\r\n    $(`#${el.radar_id}`).hide()\r\n    $(`#${el.inf_id}`).hide()\r\n    $(`#${el.haz_id}`).hide()\r\n    $(`#${el.notUpdated_id}`).hide()\r\n  }\r\n\r\n  function showRadar(){\r\n    $(`#${el.all_id}`).hide()\r\n    $(`#${el.timeclock_id}`).hide()\r\n    $(`#${el.compactor_id}`).hide()\r\n    $(`#${el.radar_id}`).show()\r\n    $(`#${el.notUpdated_id}`).hide()\r\n    $(`#${el.inf_id}`).hide()\r\n    $(`#${el.haz_id}`).hide()\r\n  }\r\n\r\n  function showNotUpdated(){\r\n    $(`#${el.all_id}`).hide()\r\n    $(`#${el.timeclock_id}`).hide()\r\n    $(`#${el.compactor_id}`).hide()\r\n    $(`#${el.radar_id}`).hide()\r\n    $(`#${el.inf_id}`).hide()\r\n    $(`#${el.haz_id}`).hide()\r\n    $(`#${el.notUpdated_id}`).show()\r\n  }\r\n\r\n  function showInfractions(){\r\n    $(`#${el.all_id}`).hide()\r\n    $(`#${el.timeclock_id}`).hide()\r\n    $(`#${el.compactor_id}`).hide()\r\n    $(`#${el.radar_id}`).hide()\r\n    $(`#${el.inf_id}`).show()\r\n    $(`#${el.haz_id}`).hide()\r\n    $(`#${el.notUpdated_id}`).hide()\r\n  }\r\n\r\n  function showHazards(){\r\n    $(`#${el.all_id}`).hide()\r\n    $(`#${el.timeclock_id}`).hide()\r\n    $(`#${el.compactor_id}`).hide()\r\n    $(`#${el.radar_id}`).hide()\r\n    $(`#${el.inf_id}`).hide()\r\n    $(`#${el.haz_id}`).show()\r\n    $(`#${el.notUpdated_id}`).hide()\r\n  }\r\n\r\n  var userProfKeys = Knack.session.user.profile_keys;\r\n  var isDev = userProfKeys.includes('profile_34')\r\n\r\n  initFlex()\r\n  $(`#${el.menu_id} .kn-link-5`).hide();\r\n  if(isDev){\r\n    if( Knack.views.view_5870.model.data.length > 0 ){ $(`#${el.menu_id} .kn-link-5`).show(); }\r\n  }\r\n  $(`#${el.menu_id} .kn-link-5`).css({'color':'red'});\r\n  $(`#${el.menu_id} .kn-link-1`).addClass('flex-active').siblings().removeClass('flex-active');\r\n  //kn-link-1\r\n  $(`#${el.menu_id} .kn-link-1`).on('click', function(){\r\n    showAllActivity()\r\n    $(`#${el.menu_id} .kn-link-1`).addClass('flex-active').siblings().removeClass('flex-active');\r\n  });\r\n  $(`#${el.menu_id} .kn-link-2`).on('click', function(){\r\n    showTimeClocks()\r\n    $(`#${el.menu_id} .kn-link-2`).addClass('flex-active').siblings().removeClass('flex-active');\r\n  })\r\n  $(`#${el.menu_id} .kn-link-3`).on('click', function(){\r\n    showCompactors()\r\n    $(`#${el.menu_id} .kn-link-3`).addClass('flex-active').siblings().removeClass('flex-active');\r\n  })\r\n  $(`#${el.menu_id} .kn-link-4`).on('click', function(){\r\n    showRadar()\r\n    $(`#${el.menu_id} .kn-link-4`).addClass('flex-active').siblings().removeClass('flex-active');\r\n  })\r\n  $(`#${el.menu_id} .kn-link-5`).on('click', function(){\r\n    showNotUpdated()\r\n    $(`#${el.menu_id} .kn-link-5`).addClass('flex-active').siblings().removeClass('flex-active');\r\n  })\r\n  $(`#${el.menu_id} .kn-link-6`).on('click', function(){\r\n    showInfractions()\r\n    $(`#${el.menu_id} .kn-link-6`).addClass('flex-active').siblings().removeClass('flex-active');\r\n  })\r\n  $(`#${el.menu_id} .kn-link-7`).on('click', function(){\r\n    showHazards()\r\n    $(`#${el.menu_id} .kn-link-7`).addClass('flex-active').siblings().removeClass('flex-active');\r\n  })\r\n});\r\n});\r\n\r\n\r\n//flexTables\r\nvar flexTables = [\r\n{\r\n  view_id: 'view_5739',\r\n  edit_col: 'col-8',\r\n  group_name: 'Resident Infraction ID - '\r\n},\r\n//view_5737\r\n{\r\n  view_id: 'view_5737',\r\n  edit_col: 'col-6',\r\n  group_name: 'Compactor Log ID - '\r\n},\r\n{\r\n  view_id: 'view_5736',\r\n  edit_col: 'col-11',\r\n  group_name: 'Butler Timeclock ID - '\r\n},\r\n//view_5740\r\n{\r\n  view_id: 'view_5740',\r\n  edit_col: 'col-10',\r\n  group_name: 'Service Hazard ID - '\r\n},\r\n{\r\n  view_id: 'view_5738',\r\n  edit_col: 'col-8',\r\n  group_name: 'RADAR Log ID - '\r\n},\r\n]\r\n\r\n// for(var k = 0; k < flexTables.length; k++){\r\n//   var table_view = flexTables[k]\r\n//   console.log(k,\"kkk\", flexTables[k])\r\n//   $(document).on(`knack-view-render.${flexTables[k].view_id}`, function(event, view, data) {\r\n//     console.log(flexTables[k].view_id, \"view_5739view_5739view_5739\")\r\n//     for(var i = 0; i < $(`#${flexTables[k].view_id} tbody tr`).length; i++){\r\n//       var link = $($(`#${flexTables[k].view_id} tbody tr .${flexTables[k].edit_col}`)[i]).find(\"a\").attr(\"href\")\r\n//       // console.log($($('#view_5725 tr')[i + 1]).find(\"a\").attr(\"href\"), \"\")\r\n//       $($(`#${flexTables[k].view_id} tbody tr .${flexTables[k].edit_col}`)[i]).html(`<a href=${link}><i class='fa fa-pencil flex-table-edit'></i></a>`);\r\n//     }\r\n//   });\r\n// }\r\n\r\nflexTables.forEach((element, index, array) => {\r\n$(document).on(`knack-view-render.${element.view_id}`, function(event, view, data) {\r\n  console.log(element.view_id, \"view_5739view_5739view_5739\")\r\n  $(`#${element.view_id} tr.kn-table-group td`).prepend(`${element.group_name}`)\r\n  for(var i = 0; i < $(`#${element.view_id} tbody tr`).length; i++){\r\n    var link = $($(`#${element.view_id} tbody tr .${element.edit_col}`)[i]).find(\"a\").attr(\"href\")\r\n    // console.log($($('#view_5725 tr')[i + 1]).find(\"a\").attr(\"href\"), \"\")\r\n    $($(`#${element.view_id} tbody tr .${element.edit_col}`)[i]).html(`<a href=${link}><i class='fa fa-pencil flex-table-edit'></i></a>`);\r\n\r\n    // if( element.view_id == 'view_5736' ){\r\n    //   console.log(data, \"Butler TimeClock\")\r\n    //   var approveLink = $($(`#${element.view_id} tbody tr .col-9`)[i]).find(\"a\").attr(\"href\");\r\n    //   $($(`#${element.view_id} tbody tr .col-9`)[i]).html(`<a href=${link}><i class='fa fa-pencil flex-table-edit'></i></a>`);\r\n    // }\r\n  }\r\n    if( element.view_id == 'view_5736' ){\r\n      console.log(data, \"Butler TimeClock\")\r\n      // var approveLink = $($(`#${element.view_id} tbody tr .col-9`)[i]).find(\"a\").attr(\"href\");\r\n      // $($(`#${element.view_id} tbody tr .col-9`)[i]).html(`<a href=${link}><i class='fa fa-pencil flex-table-edit'></i></a>`);\r\n    }\r\n});\r\n});\r\n\r\n$(document).on('knack-view-render.view_5736', function(event, view, data) {\r\n//TapCheck Approved? = [0][\"field_2252.field_1339_raw\"] = No\r\n//TapCheck Flagged? = [1][\"field_2252.field_2212_raw\"] = [] = No\r\n// $('#view_5736 .field_1339').hide();\r\n// $('#view_5736 .field_2212').hide();\r\nfor(var i = 0; i < data.length; i++){\r\n  // console.log(data[i][\"field_2252.field_2212_raw\"], \"ddddddddddddddddddddddddddddddddddd\")\r\n  var approveText = 'Approve';\r\n  var flaggedHtml = `Flag`\r\n  if(data[i][\"field_2252.field_2212_raw\"].length != 0){\r\n    approveText = 'Unflag & Approve';\r\n    flaggedHtml = `<i class=\"fa fa-flag\" style=\"font-size: 1.25em; margin-right: 0.4em; color: #e94c4c;\"></i>`\r\n  }\r\n  var approveLink = $($(`#view_5736 tbody tr .col-9`)[i]).find(\"a\").attr(\"href\");\r\n  var flagLink = $($(`#view_5736 tbody tr .col-10`)[i]).find(\"a\").attr(\"href\");\r\n  $($(`#view_5736 tbody tr .col-9`)[i]).html(`<a href=${approveLink}>${approveText}</a>`);\r\n  $($(`#view_5736 tbody tr .col-10`)[i]).html(`<a href=${flagLink}>${flaggedHtml}</a>`);\r\n}\r\n});\r\n\r\n//view_5738 RADAR LOGS TAble\r\n$(document).on('knack-view-render.view_5738', function(event, view, data) {\r\nconsole.log('view_5738', \"RADAR LOG\")\r\n});\r\n\r\n//view_5728\r\n$(document).on('knack-view-render.view_5728', function(event, view, data) {\r\nconsole.log(data, \"By the Numbers\")\r\n$('#view_5728 .kn-details-link').hide()\r\nvar notUpdated = data.field_359 - data.field_360;\r\n$('#view_5728 .field_360 .kn-detail-body span:first').text(notUpdated)\r\n$('#view_5728 .field_809 .kn-detail-body span:first').addClass('flex-by-numbers-green');\r\ndata.field_1805 > 0 ? $('#view_5728 .field_1805 .kn-detail-body span:first').addClass('flex-by-numbers-red') : $('#view_5728 .field_1805 .kn-detail-body span:first').addClass('flex-by-numbers-green')\r\ndata.field_3073 > 0 ? $('#view_5728 .field_3073 .kn-detail-body span:first').addClass('flex-by-numbers-red') : $('#view_5728 .field_3073 .kn-detail-body span:first').addClass('flex-by-numbers-green')\r\n$('#view_5728 .field_301 .kn-detail-body span:first').addClass('flex-by-numbers-green');\r\n$('#view_5728 .field_359 .kn-detail-body span:first').addClass('flex-by-numbers-green');\r\nnotUpdated > 0 ? $('#view_5728 .field_360 .kn-detail-body span:first').addClass('flex-by-numbers-red') : $('#view_5728 .field_360 .kn-detail-body span:first').addClass('flex-by-numbers-green')\r\n$('#view_5728 .field_589 .kn-detail-body span:first').addClass('flex-by-numbers-green');\r\n\r\n $('#view_5728 .kn-detail.field_809').wrap(`<a href=\"${$($('#sv_timeclocks').parents()[1]).attr('href')}\"></a>`) //Timeclock\r\n $('#view_5728 .kn-detail.field_1805').wrap(`<a href=\"${$($('#sv_bn_not_clockout').parents()[1]).attr('href')}\"></a>`) //Not Clocked Out\r\n $('#view_5728 .kn-detail.field_3073').wrap(`<a href=\"${$($('#sv_bn_flag').parents()[1]).attr('href')}\"></a>`) //Flag\r\n $('#view_5728 .kn-detail.field_301').wrap(`<a href=\"${$($('#sv_bn_infractions').parents()[1]).attr('href')}\"></a>`) //Inf\r\n $('#view_5728 .kn-detail.field_359').wrap(`<a href=\"${$($('#sv_bn_radar').parents()[1]).attr('href')}\"></a>`) //RAD\r\n $('#view_5728 .kn-detail.field_360').wrap(`<a href=\"${$($('#sv_bn_not_updated').parents()[1]).attr('href')}\"></a>`) //Not Updated\r\n $('#view_5728 .kn-detail.field_589').wrap(`<a href=\"${$($('#sv_bn_hazards').parents()[1]).attr('href')}\"></a>`) //Hazards\r\n\r\n});\r\n\r\n//view_5811\r\n$(document).on('knack-view-render.view_5811', function(event, view, data) {\r\n// field_809 Timeclocks\r\n// field_1805 Not Clocked Out\r\n// field_3073 Flagged T\r\n// field_301 Infractions\r\n// field_359 RADAR Logs\r\n// field_360 Not Updted\r\n// field_589 Service Hazards\r\nvar tclockNum = data.field_809;\r\nvar notClockedNum = data.field_1805;\r\nvar flaggedNum = data.field_3073;\r\nvar infNum = data.field_301;\r\nvar radNum = data.field_359;\r\nvar notUpdated = data.field_359 - data.field_360;\r\nvar serHazNum = data.field_589;\r\nconsole.log(data, \"By the Numbers\")\r\n$('#view_5811 .kn-details-link').hide();\r\n\r\n$('#view_5811 .field_360 .kn-detail-body span:first').text(notUpdated)\r\n$('#view_5811 .field_809 .kn-detail-body span:first').addClass('flex-by-numbers-green');\r\nnotClockedNum > 0 ? $('#view_5811 .field_1805 .kn-detail-body span:first').addClass('flex-by-numbers-red') : $('#view_5811 .field_1805 .kn-detail-body span:first').addClass('flex-by-numbers-green')\r\nflaggedNum > 0 ? $('#view_5811 .field_3073 .kn-detail-body span:first').addClass('flex-by-numbers-red') : $('#view_5811 .field_3073 .kn-detail-body span:first').addClass('flex-by-numbers-green')\r\n$('#view_5811 .field_301 .kn-detail-body span:first').addClass('flex-by-numbers-green');\r\n$('#view_5811 .field_359 .kn-detail-body span:first').addClass('flex-by-numbers-green');\r\nnotUpdated > 0 ? $('#view_5811 .field_360 .kn-detail-body span:first').addClass('flex-by-numbers-red') : $('#view_5811 .field_360 .kn-detail-body span:first').addClass('flex-by-numbers-green')\r\n$('#view_5811 .field_589 .kn-detail-body span:first').addClass('flex-by-numbers-green');\r\n//pointer-events: none;\r\nvar timeClock_dis, notClock_dis, flg_dis, inf_dis, rad_dis, notUpdated_dis, serHaz_dis;\r\n\r\ntclockNum == 0 ? timeClock_dis = \"pointer-events: none\" : timeClock_dis = '';\r\nnotClockedNum == 0 ? notClock_dis = \"pointer-events: none\" : notClock_dis = '';\r\nflaggedNum == 0 ? flg_dis = \"pointer-events: none\" : flg_dis = '';\r\ninfNum == 0 ? inf_dis = \"pointer-events: none\" : inf_dis = '';\r\nradNum == 0 ? rad_dis = \"pointer-events: none\" : rad_dis = '';\r\nnotUpdated == 0 ? notUpdated_dis = \"pointer-events: none\" : notUpdated_dis = '';\r\nserHazNum == 0 ? serHaz_dis = \"pointer-events: none\" : serHaz_dis = '';\r\n\r\n$('#view_5811 .kn-detail.field_809').wrap(`<a style=\"${timeClock_dis}\" href=\"${$($('#sv_timeclocks').parents()[1]).attr('href')}\"></a>`) //Timeclock\r\n$('#view_5811 .kn-detail.field_1805').wrap(`<a style=\"${notClock_dis}\" href=\"${$($('#sv_bn_not_clockout').parents()[1]).attr('href')}\"></a>`) //Not Clocked Out\r\n$('#view_5811 .kn-detail.field_3073').wrap(`<a style=\"${flg_dis}\" href=\"${$($('#sv_bn_flag').parents()[1]).attr('href')}\"></a>`) //Flag\r\n$('#view_5811 .kn-detail.field_301').wrap(`<a style=\"${inf_dis}\" href=\"${$($('#sv_bn_infractions').parents()[1]).attr('href')}\"></a>`) //Inf\r\n$('#view_5811 .kn-detail.field_359').wrap(`<a style=\"${rad_dis}\" href=\"${$($('#sv_bn_radar').parents()[1]).attr('href')}\"></a>`) //RAD\r\n$('#view_5811 .kn-detail.field_360').wrap(`<a style=\"${notUpdated_dis}\" href=\"${$($('#sv_bn_not_updated').parents()[1]).attr('href')}\"></a>`) //Not Updated\r\n$('#view_5811 .kn-detail.field_589').wrap(`<a style=\"${serHaz_dis}\" href=\"${$($('#sv_bn_hazards').parents()[1]).attr('href')}\"></a>`) //Hazards\r\n\r\n});\r\n//view_5729\r\n$(document).on('knack-view-render.view_5729', function(event, view, data) {\r\n// console.log(data, \"ASssigned Butlers\")\r\nif(data.field_55_raw){\r\n  $('#view_5729 .kn-special-title h3').prepend(`<span class=\"flex-assigned-butlers-num\">${data.field_55_raw.length} </span>`)\r\n}\r\n});\r\n\r\n//view_5812\r\n$(document).on('knack-view-render.view_5812', function(event, view, data) {\r\n// console.log(data, \"ASssigned Butlers\")\r\nif(data.field_55_raw){\r\n  $('#view_5812 .kn-special-title h3').prepend(`<span class=\"flex-assigned-butlers-num\">${data.field_55_raw.length} </span>`)\r\n}\r\n});\r\n\r\n//view_5729\r\n$(document).on('knack-view-render.view_5771', function(event, view, data) {\r\n$('#view_5771 .kn-details-link').hide()\r\n$(\"#view_5771\").on({\r\n  mouseenter: function () {\r\n      $('#view_5771 .kn-details-link').show()\r\n  },\r\n  mouseleave: function () {\r\n      $('#view_5771 .kn-details-link').hide()\r\n  }\r\n});\r\n});\r\n\r\n$(document).on('knack-view-render.view_5823', function(event, view, data) {\r\n$('#view_5823 .kn-details-link').hide()\r\n$(\"#view_5823\").on({\r\n  click: function () {\r\n      $('#view_5823 .kn-details-link').show()\r\n  }\r\n});\r\n});\r\n\r\n//view_5816\r\n$(document).on('knack-view-render.view_5816', function(event, view, data) {\r\nif(data.length > 0 && $('#q_survey').length === 0){\r\n  $($('#infraction_warning').parents()[1]).append(`<p class=\"hideMe\" id=\"q_survey\" style=\"color: #15467A;padding-left: 10px;\">\r\n  <a style=\"text-decoration: none;\" href=\"${$('#view_5816 .kn-details-link').find('a').attr('href') }\">\r\n    <i style=\"margin-top: 0.3em;\" class=\"fa fa-pencil-square-o\"></i> \r\n      Click Here to Edit my <strong style=\"color: #7bc245;\">Q4 Trash Butler Satisfaction Survey</strong></a></p>`)\r\n}\r\nvar liveSurveys = Knack.views.view_5833.model.data.models.map((b) => {return b.attributes});\r\nfor(var i = 0; i < liveSurveys.length; i++){\r\n  if(liveSurveys[i].field_2653_raw != true){\r\n    console.log('liveSurveys[i].field_2653_raw', liveSurveys[i].field_2653_raw)\r\n    $('#q_survey').removeClass('hideMe')\r\n    break;\r\n  }\r\n}\r\n});\r\n\r\n//view_5814 List View Service ID Details > FlexAd\r\n$(document).on('knack-view-render.view_5814', function(event, view, data) {\r\n$('.field_1339 .kn-detail-body').hide();\r\n$('.field_2212 .kn-detail-body').hide();\r\n//\r\nfor(var i = 0; i < data.length; i++){\r\n  if( data[i].field_2240_raw == \"Butler Timeclock\" ){\r\n    $($($('.flex-m-delete')[i]).parents()[3]).hide()\r\n  }\r\n  \r\n}\r\n//\r\nconsole.log('mobile', data)\r\nfor(var i = 0; i < $('.flex-edit-link').length; i++){\r\n  // console.log(\"$('.flex-edit-link')\", $('.flex-edit-link').length, i)\r\n  $($('.flex-edit-link')[i]).attr('href', $($($('.flex-edit-link')[i]).parents()[3]).find(`a:not('.flex-edit-link')`).attr('href') )\r\n   $($($('.flex-edit-link')[i]).parents()[3]).find(`.kn-detail-body`).hide()\r\n}\r\nfor(var i = 0; i < $('.flex-m-timeclock-flag').length; i++){\r\n  var approveText = 'Approve';\r\n  var flaggedHtml = `Flag Timeclock`;\r\n  var approveLink = $($($('.flex-m-timeclock-approve')[i]).parents()[3]).find(`a:not('.flex-m-timeclock-approve')`).attr('href')\r\n  var flagLink = $($($('.flex-m-timeclock-flag')[i]).parents()[3]).find(`a:not('.flex-m-timeclock-flag')`).attr('href')\r\n  \r\n  if( $($($('.flex-m-timeclock-flag')[i]).parents()[3]).find(`a:not('.flex-m-timeclock-flag')`).text() != 'No' ){\r\n     $($(`.flex-m-timeclock-flag`)[i]).addClass('disable-flag');\r\n    approveText = 'Unflag & Approve';\r\n    flaggedHtml = `<span class=\"\"><i class=\"fa fa-flag\" style=\"font-size: 1.25em; margin-right: 0.4em; color: #e94c4c;\"></i> Flagged</span>`;\r\n  }\r\n\r\n  if( $($($('.flex-m-timeclock-approve')[i]).parents()[3]).find(`a:not('.flex-m-timeclock-approve')`).text() == 'Yes' ){\r\n      $($('.flex-m-timeclock-approve')[i]).css('pointer-events', 'none')\r\n      // approveText = 'Approved';\r\n      approveText = `<span class=\"\"><i class=\"fa fa-check-circle\" style=\"font-size: 1.25em; margin-right: 0.4em; color: green;\"></i> Timeclock Approved</span>`;\r\n  }\r\n\r\n  //$($($('.flex-m-timeclock-approve')[0]).parents()[3]).find(`a:not('.flex-m-timeclock-approve')`).text()\r\n  $($(`.flex-m-timeclock-approve`)[i]).html(`<a href=${approveLink}>${approveText}</a>`);\r\n  $($(`.flex-m-timeclock-flag`)[i]).html(`<a href=${flagLink}>${flaggedHtml}</a>`);\r\n}\r\n});\r\n\r\n//view_5833\r\n// $(document).on('knack-view-render.view_5833', function(event, view, data) {\r\n//   console.log(data, \"SURVEYYYYYYYYYYYYYYYY\")\r\n//   //field_2653_raw\r\n//   for(var i = 0; i < data.length; i++){\r\n//     if(data[i].field_2653_raw){\r\n//       console.log('data[i].field_2653_raw', data[i].field_2653_raw)\r\n//       $('#q_survey').removeClass('hideMe')\r\n//       setTimeout(showEditSurvey, 2500)\r\n\r\n//       function showEditSurvey(){\r\n//         $('#q_survey').removeClass('hideMe')\r\n//       }\r\n//       break;\r\n//     }\r\n//   }\r\n\r\n// });\r\n// view_5730 Desktop\r\n$(document).on('knack-view-render.view_5730', function(event, view, data) {\r\n$('#as_command_center_theme').remove();\r\nif( screen.width < 650){\r\n  if( Knack.user.id == '611d18ecfbee5b07a16a5bd5xxxx' ){\r\n    var newUrl = Knack.url_base+'#';\r\n    for (let i = 0; i < Knack.hash_parts.length; i++) {\r\n        if(Knack.hash_parts[i] === \"service-id--flexadd-details2\"){\r\n            newUrl = newUrl + 'service-id--flexadd-details-mobile2/'\r\n        }else{\r\n            newUrl = newUrl + Knack.hash_parts[i] + '/'\r\n        }\r\n    }\r\n    window.location.href = newUrl+'?'+Knack.query_string;\r\n    // window.location.replace(newUrl)\r\n  }else{\r\n    var newUrl = Knack.url_base+'#';\r\n    for (let i = 0; i < Knack.hash_parts.length; i++) {\r\n        if(Knack.hash_parts[i] === \"service-id--flexadd-details2\"){\r\n            newUrl = newUrl + 'service-id--flexadd-details-mobile2/'\r\n        }else{\r\n            newUrl = newUrl + Knack.hash_parts[i] + '/'\r\n        }\r\n    }\r\n    window.location.href = newUrl+'?'+Knack.query_string;\r\n    // window.location.href = Knack.url_base+'#'+Knack.hash_parts[0]+'/service-id--flexadd-details-mobile2/'+Knack.hash_id;\r\n  }\r\n}\r\n});\r\n\r\n\r\n// //view_5846\r\n// $(document).on('knack-view-render.view_5846', function(event, view, data) {\r\n//   console.log('data', data)\r\n//   $('#kn-mobile-menu').append(`<div><input value=${data}></div>`)\r\n//   $('.batch_review_link').text('Review This Service ID')\r\n//   $('#view_5846 .kn-records-nav').append('<input type=\"checkbox\" id=\"batch_review_all\" name=\"batch_review_all\"><label> Select Multiple Service IDs to review</label><br>')\r\n//   for(var i = 0; i < data.length; i++){\r\n//     $($('.service-batch-review')[i]).html(`<input class=\"hideMe batch_review_item\" type=\"checkbox\" id=\"${data[i].id}\" name=\"${data[i].field_1939}\" \r\n//     value=\"${data[i].field_95}\" checked>`)\r\n//   }\r\n\r\n//   Knack.flexServices = data;\r\n\r\n//   $('#batch_review_all').change(function(){\r\n//     if($(this).is(\":checked\")) {\r\n//         $('.batch_review_item').removeClass(\"hideMe\");\r\n//         $('.batch_review_link').text('Start Multiple Service IDs Review')\r\n//     } else {\r\n//         $('.batch_review_item').addClass(\"hideMe\");\r\n//         $('.batch_review_link').text('Review This Service ID')\r\n//     }\r\n//   });\r\n// });\r\n\r\nfunction getFlexAddServiceIDs(){\r\nreturn $.ajax({\r\n    type: 'GET',\r\n    headers: asHeader,\r\n    url: 'https://api.sv.knack.com/v1/pages/scene_2010/views/view_5675/records',\r\n    success: function(data) {\r\n      console.log(data, \"getFlexAddServiceIDs\")\r\n      var isActive = '';\r\n      for(var i = 0; i < data.records.length; i++){\r\n        \r\n        if( Knack.hash_id == data.records[i].id ){ isActive = 'active' }else{ isActive = '' }\r\n        $('#services_pool_main_container ul').append(`<li class=\"kn-detail-label service-pool-item ${isActive}\" data-id=\"${data.records[i].id}\">Service ID - ${data.records[i].field_95}</li>`)\r\n      }\r\n\r\n      $('.service-pool-item').on('click', function(){\r\n          var id = $( this ).attr('data-id');\r\n          window.location.href = Knack.url_base+'#'+Knack.hash_parts[0]+'/service-id--flexadd-details2/'+id;\r\n      })\r\n    }\r\n});\r\n}\r\n\r\n// $(document).on('knack-view-render.view_5848', function(event, view, data) {\r\n//   $('#kn-scene_2013').prepend('<div id=\"services_pool_main_container\"><h3>Recent Service IDs</h3><ul></ul></div>')\r\n//   // if( Knack.session.user.id == '611d18ecfbee5b07a16a5bd5' ){\r\n//   //   var services = getFlexAddServiceIDs()\r\n//   //   console.log(services, \"servicesssssssssssssss\")\r\n//   // }\r\n//   // for(var i = 0; i < services.records.length; i++){\r\n//   //   $('#services_pool_main_container ul').append(`<li class=\"service-pool-item\" data-id=\"${services.records[i].id}\">${services.records[i].field_95}<li>`)\r\n//   // }\r\n// });\r\n\r\nvar serviceQueueINIT = [\r\n  { 'v_id': 'view_5851', 'review_view_id': 'view_5810', 'serv_title_view_id': 'view_5808' },\r\n  { 'v_id': 'view_5964', 'review_view_id': 'view_5726', 'serv_title_view_id': 'view_5730' },\r\n]\r\nfor (let i = 0; i < serviceQueueINIT.length; i++) {\r\n  $(document).on(`knack-view-render.${serviceQueueINIT[i].v_id}`, function(event, view, data) {\r\n    getFlexServices(serviceQueueINIT[i].v_id, true, serviceQueueINIT[i].review_view_id, serviceQueueINIT[i].serv_title_view_id)\r\n    var review_data = [];\r\n    if(Knack.flexServices){ review_data = Knack.flexServices }\r\n    //\r\n    $(`#${serviceQueueINIT[i].v_id}`).hide()\r\n    var url = window.location.href\r\n    var url = url.split(`?`)[0] +`start-new-filter/`\r\n    $($(`#${serviceQueueINIT[i].v_id} a`)[0]).attr(`href`, url+Knack.hash_id);\r\n\r\n    var review_data = JSON.parse(sessionStorage.getItem(\"review_data\"));\r\n    Knack.service_review_data = review_data;\r\n    \r\n    if(review_data !== null){\r\n          var reviewedCount = 1;\r\n          Knack.reviewedCount = 1;\r\n          $.each(review_data, function(index, value) {\r\n              if (value.reviewed === true) {\r\n                  reviewedCount++;\r\n              }\r\n          });\r\n          if( reviewedCount == 1)\r\n            { $($(`#${serviceQueueINIT[i].v_id} span`)[1]).text(`Reviewing ${reviewedCount}/${Knack.service_review_data.length}`); }\r\n          else if(reviewedCount < Knack.service_review_data.length)\r\n            { $($(`#${serviceQueueINIT[i].v_id} span`)[1]).text(`Completed ${reviewedCount}/${Knack.service_review_data.length}`); }\r\n          else{\r\n            $($(`#${serviceQueueINIT[i].v_id} span`)[1]).text(`Completed ${Knack.service_review_data.length}/${Knack.service_review_data.length}`);\r\n          }\r\n          $(`#kn-app-mobile-container`).append($(`#${serviceQueueINIT[i].v_id}`));\r\n          $(`#${serviceQueueINIT[i].v_id}`).show() \r\n        // Use the stored data\r\n        // ...\r\n    } else {\r\n        // Store the data in session storage\r\n        // sessionStorage.setItem(\"review_data\", JSON.stringify(array));\r\n    }\r\n  });\r\n}\r\n\r\n// $(document).on('knack-view-render.view_5851', function(event, view, data) {\r\n//   //\r\n//   getFlexServices()\r\n//   var review_data = [];\r\n//   if(Knack.flexServices){ review_data = Knack.flexServices }\r\n//   //\r\n//   $('#view_5851').hide()\r\n//   var url = window.location.href\r\n//   var url = url.split('?')[0] +'start-new-filter/'\r\n//   $($('#view_5851 a')[0]).attr('href', url+Knack.hash_id);\r\n\r\n//   var review_data = JSON.parse(sessionStorage.getItem(\"review_data\"));\r\n//   Knack.service_review_data = review_data;\r\n\r\n//   if(review_data !== null){\r\n//         var reviewedCount = 1;\r\n//         $.each(review_data, function(index, value) {\r\n//             if (value.reviewed === true) {\r\n//                 reviewedCount++;\r\n//             }\r\n//         });\r\n//         if( reviewedCount < review_data.length)\r\n//           { $($('#view_5851 span')[1]).text(`Reviewing ${reviewedCount}/${Knack.service_review_data.length}`); }\r\n//         if(0 < reviewedCount < review_data.length)\r\n//           { $($('#view_5851 span')[1]).text(`Completed ${reviewedCount}/${Knack.service_review_data.length}`); }\r\n//         else{\r\n//           $($('#view_5851 span')[1]).text(`Completed ${Knack.service_review_data.length}/${Knack.service_review_data.length}`);\r\n//         }\r\n//         $('#kn-app-mobile-container').append($('#view_5851'));\r\n//         $('#view_5851').show() \r\n//       // Use the stored data\r\n//       // ...\r\n//   } else {\r\n//       // Store the data in session storage\r\n//       // sessionStorage.setItem(\"review_data\", JSON.stringify(array));\r\n//   }\r\n\r\n// });\r\n\r\n// $(document).on('knack-view-render.view_5859', function(event, view, data) {\r\n//   $('#view_5859').hide();\r\n//   console.log(data)\r\n//   if( Knack.flex_queue_params ){\r\n//     window.location.href = window.location.href+'?'+Knack.flex_queue_params;\r\n//     Knack.flex_queue_params = undefined;\r\n//   }\r\n//   $('#view_5859 .service-pool-item').remove();\r\n//   $('#view_5859 .kn-entries-summary').remove()\r\n//   $('#view_5859 .kn-list-content').remove()\r\n//   if( $('#services_pool_main_container').length === 0 ){\r\n//     $('#view_5859').append('<div id=\"services_pool_main_container\"><h3>Service IDs</h3><ul></ul></div>');\r\n//   }\r\n//   for(var i = 0; i < data.length; i++){\r\n//     if( Knack.hash_id == data[i].id ){ isActive = 'active' }else{ isActive = '' }\r\n//       $('#services_pool_main_container ul').append(`<li class=\"kn-detail-label service-pool-item ${isActive}\" data-id=\"${data[i].id}\">Service ID - ${data[i].field_1939}</li>`)\r\n//     }\r\n\r\n//   $('.service-pool-item').on('click', function(){\r\n//       var url = window.location.href;\r\n//       Knack.flex_queue_params = url.split('?')[1];\r\n//       var id = $( this ).attr('data-id');\r\n//       window.location.href = Knack.url_base+'#'+Knack.hash_parts[0]+'/service-id--flexadd-details-mobile2/'+id+'?'+Knack.query_string;\r\n//   })\r\n\r\n// });\r\n\r\n$(document).on('knack-view-render.view_5867', function(event, view, x) {\r\nvar data = []; \r\nif(Knack.flexServices){\r\n  data = Knack.flexServices;\r\n}\r\nconsole.log(data, \"FFFFFFFFFFFFFFFFFFF\")\r\nif( Knack.flex_queue_params ){\r\n  window.location.href = window.location.href+'?'+Knack.flex_queue_params;\r\n  Knack.flex_queue_params = undefined;\r\n}\r\n$('#view_5867 .service-pool-item').remove();\r\n$('#view_5867 .kn-entries-summary').remove()\r\n$('#view_5867 .kn-list-content').remove()\r\nif( $('#services_pool_main_container_currentFilter').length === 0 ){\r\n  $('#view_5867').append('<div id=\"services_pool_main_container_currentFilter\"><h3>Current Service IDs</h3><ul></ul></div>');\r\n}\r\nfor(var i = 0; i < data.length; i++){\r\n  if( Knack.hash_id == data[i].id ){ isActive = 'active' }else{ isActive = '' }\r\n    $('#services_pool_main_container_currentFilter ul').append(`<li class=\"kn-detail-label service-pool-item ${isActive}\" data-id=\"${data[i].id}\">${data[i].service_id} - ${data[i].community}</li>`)\r\n}\r\n\r\n$('.service-pool-item').on('click', function(){\r\n    var url = window.location.href;\r\n    Knack.flex_queue_params = url.split('?')[1];\r\n    var id = $( this ).attr('data-id');\r\n    window.location.href = Knack.url_base+'#'+Knack.hash_parts[0]+'/service-id--flexadd-details-mobile2/'+id;\r\n})\r\n\r\n});\r\n\r\n$(document).on('knack-form-submit.view_5732', function(event, view, record) {\r\n\r\n// if( Knack.user.id === \"611d18ecfbee5b07a16a5bd5\" ){\r\n//    var review_data = JSON.parse(sessionStorage.getItem(\"review_data\"));\r\n//     $.each(review_data, function(index, value) {\r\n//         if (value.id === record.id ) {\r\n//           value.reviewed = true;\r\n//           return false;\r\n//         }\r\n//     });\r\n//     sessionStorage.setItem(\"review_data\", JSON.stringify(review_data));\r\n//   if(Knack.flex_can_proceed_next){\r\n    \r\n//     console.log('flex_next_service', Knack.flex_next_service, Knack.flex_next_service_link)\r\n//     // window.location.href = 'https://apps.sv.knack.com/trashdash#service-activity-logs/service-id--flexadd-details-mobile2/'+Knack.flex_next_service+'?test';\r\n//     window.location.href = Knack.flex_next_service_link;\r\n//     if(Knack.nextReviewId === null){\r\n//         // // redirect to custom URL\r\n//         // window.location.href = \"https://www.example.com\";\r\n//       // window.location.href = $('#sv-top-back').attr('href')\r\n//       // console.log('sv-top-backsv-top-backsv-top-back')\r\n//     }else{\r\n//         // redirect to the next review using nextReviewId\r\n//         window.location.href = Knack.flex_next_service_link;\r\n//     }\r\n//   }\r\n\r\n// }else{\r\n  console.log('sv-top-backsv-top-backsv-top-back')\r\n  $('.close-modal').click();\r\n  setTimeout(function() {\r\n      window.location.href = $('#sv-top-back').attr('href')\r\n      console.log('sv-top-backsv-top-backsv-top-back')\r\n  }, 1000);\r\n  \r\n// }\r\n});\r\n\r\n//Dev Service Queuw \r\n$(document).on('knack-form-submit.view_5874', function(event, view, record) {\r\n  var review_data = JSON.parse(sessionStorage.getItem(\"review_data\"));\r\n  $.each(review_data, function(index, value) {\r\n      if (value.id === record.id ) {\r\n        value.reviewed = true;\r\n        return false;\r\n      }\r\n  });\r\n  sessionStorage.setItem(\"review_data\", JSON.stringify(review_data));\r\n\r\n  if(Knack.nextReviewId !== null){\r\n    \r\n    console.log('flex_next_service', Knack.flex_next_service_link)\r\n    window.location.href = Knack.flex_next_service_link;\r\n  }\r\n  else{\r\n    console.log('sv-top-backsv-top-backsv-top-back')\r\n    $('.close-modal').click();\r\n    // setTimeout(function() {\r\n    //     window.location.href = $('#sv-top-back').attr('href')\r\n    //     console.log('sv-top-backsv-top-backsv-top-back')\r\n    // }, 1000);\r\n  }\r\n});\r\n\r\n//view_5864\r\n$(document).on('knack-view-render.view_5864', function(event, view, data) {\r\n// // console.log(Knack.flex_next_service)\r\n// if( Knack.service_review_data ){\r\n//   for(var i = 0; i < Knack.service_review_data.length - 1; i++){\r\n//     if( Knack.service_review_data[i].id === Knack.hash_id ){\r\n//       var test1 = Knack.service_review_data[i + 1].id;\r\n//       // console.log(Knack.flex_next_service_link, i)\r\n//       Knack.flex_next_service_link = 'https://apps.sv.knack.com/trashdash#service-activity-logs/service-id--flexadd-details-mobile2/'+test1+'?test';\r\n//       console.log(Knack.flex_next_service_link, i)\r\n//       break;\r\n//       // Knack.flex_can_proceed_next = true;\r\n//     }\r\n//   }\r\n//   console.log(Knack.flex_next_service, \"xxx\")\r\n// }\r\n\r\n\r\n//retrieve review_data from session storage\r\nvar review_data = JSON.parse(sessionStorage.getItem(\"review_data\"));\r\n// var nextReviewId = null;\r\nKnack.nextReviewId = null;\r\nKnack.flex_can_proceed_next = true;\r\nKnack.flex_next_service_link = null;\r\n  for (var i = 0; i < review_data.length; i++) {\r\n    if (review_data[i].id !== Knack.hash_id && review_data[i].reviewed === false) {\r\n        Knack.nextReviewId = review_data[i].id;\r\n        Knack.flex_can_proceed_next = true;\r\n        Knack.flex_next_service_link = 'https://apps.sv.knack.com/trashdash#service-activity-logs/service-id--flexadd-details-mobile2/'+review_data[i].id;\r\n        console.log(Knack.nextReviewId)\r\n        break;\r\n    }\r\n}\r\n\r\nif( Knack.nextReviewId === null ){\r\n  $('#view_5864').hide()\r\n}\r\n\r\n  $('#view_5864 button').on('click', function(){\r\n        \r\n        console.log(Knack.nextReviewId)\r\n        // Knack.flex_can_proceed_next = true;\r\n        $('#view_5732 form').submit();\r\n  })\r\n});\r\n\r\nfunction getFlexServices(view_id, canCreate, review_view_id, serv_title_view_id){\r\nvar review_data = JSON.parse(sessionStorage.getItem(\"review_data\")) || [];\r\nconst updatedArray = review_data.map(service => {\r\n  if (service.id === Knack.hash_id) {\r\n      return {\r\n          id: service.id,\r\n          review_status: Knack.views[review_view_id].record.field_1025,\r\n          reviewed: service.reviewed,\r\n          service_id: service.service_id,\r\n          community: service.community \r\n      };\r\n  }\r\n  return service;\r\n});\r\n// Store the updated data back into the local storage\r\nsessionStorage.setItem(\"review_data\", JSON.stringify(updatedArray));\r\n\r\nKnack.flexServices = updatedArray;\r\nKnack.nextReviewId = null;\r\nKnack.flex_next_service_link = null;\r\n\r\n// Find the index of the current service ID\r\nconst currentServiceId = Knack.hash_id;\r\nconst currentIndex = review_data.findIndex(service => service.id === currentServiceId);\r\n\r\n// Get the previous service ID\r\nlet previousServiceId;\r\nif (currentIndex > 0) {\r\n    previousServiceId = review_data[currentIndex - 1].id;\r\n} else {\r\n    previousServiceId = null;\r\n}\r\n\r\n// Get the next service ID\r\nlet nextServiceId;\r\nif (currentIndex < review_data.length - 1) {\r\n    nextServiceId = review_data[currentIndex + 1].id;\r\n} else {\r\n    nextServiceId = null;\r\n}\r\n\r\nKnack.flex_nextServiceId = nextServiceId;\r\nKnack.flex_previousServiceId = previousServiceId;\r\nif(canCreate){\r\n   createFlexAddServiceNaviation(serv_title_view_id);\r\n}\r\n\r\n}\r\n\r\nfunction getUrlNextPrev(id){\r\nvar newUrl = '#';\r\nvar urlWithoutHashId = '#'\r\nfor (let i = 0; i < Knack.hash_parts.length; i++) {\r\n    if(Knack.hash_parts[i] === Knack.hash_id){\r\n      //service-id--flexadd-details-mobile2 service-id--flexadd-details2\r\n        newUrl = newUrl + id+'/';\r\n    }else{\r\n        newUrl = newUrl + Knack.hash_parts[i] + '/'\r\n        urlWithoutHashId = urlWithoutHashId + Knack.hash_parts[i] + '/'\r\n    }\r\n}\r\nif(Knack.query_string){\r\n      newUrl = newUrl+'?'+Knack.query_string;;\r\n}\r\nKnack.urlWithoutHashId = urlWithoutHashId;\r\nreturn newUrl;\r\n// window.location.href = newUrl+'?'+Knack.query_string;\r\n}\r\n\r\nfunction createFlexAddServiceNaviation(v_id){\r\nconsole.log(\"createFlexAddServiceNaviation\", v_id)\r\nif( $('.previous-service-id').length === 0 ){\r\n  $(`#${v_id} h2`).prepend(`<a href=\"#\" class=\"previous-service-id\"><i class=\"fa fa-chevron-circle-left\"><i/></a>`)\r\n}\r\nif( $('.next-service-id').length === 0 ){\r\n$(`#${v_id} h2`).append(`<a href=\"#\" class=\"next-service-id\"><i class=\"fa fa-chevron-circle-right\"><i/></a>`)\r\n}\r\n$(`#${v_id} h2`).css({\r\n  \"display\": \"flex\",\r\n  \"justify-content\": \"space-between\"\r\n});\r\n\r\n// Update the previous service ID arrow\r\nif (Knack.flex_previousServiceId) {\r\n    $(\".previous-service-id\").attr(\"href\", getUrlNextPrev(Knack.flex_previousServiceId));\r\n} else {\r\n    $(\".previous-service-id\").addClass(\"flex-disabled\");\r\n}\r\n\r\n// Update the next service ID arrow\r\nif (Knack.flex_nextServiceId) {\r\n    $(\".next-service-id\").attr(\"href\", getUrlNextPrev(Knack.flex_nextServiceId));\r\n} else {\r\n    $(\".next-service-id\").addClass(\"flex-disabled\");\r\n}\r\ncreateFlexServicesList();\r\n}\r\n\r\nfunction createFlexServicesList(){\r\n$(`#kn-scene_2042`).css({\r\n  \"margin-top\":\"-30px\"\r\n})\r\nif(Knack.flexServices){\r\n if( $('#flex_services_list').length === 0 ){\r\n    $('#kn-scene_2042').prepend(`<div id=\"flex_services_list\" class=\"service-list\"><ul></ul></div>`)\r\n }\r\n  var services = '';\r\n  for (var i = 0; i < Knack.flexServices.length; i++) {\r\n    var isActive = '';\r\n    var icon = '';\r\n    if( Knack.flexServices[i].id === Knack.hash_id ){\r\n      isActive = 'flex-service-active';\r\n    }\r\n    // if( Knack.flexServices[i].review_status == \"Pass\" ){\r\n    //   icon = ' <i class=\"fa fa-check-circle-o pass\"></i>';\r\n    // }\r\n    // if( Knack.flexServices[i].review_status == \"Fail\" ){\r\n    //   icon = '<i class=\"fa fa-thumbs-o-down fail\"></i>';\r\n    // }\r\n    if( Knack.flexServices[i].reviewed ){\r\n      icon = ' <i class=\"fa fa-check-circle-o pass\"></i>';\r\n    }\r\n    services = services+`<li class=\"flex-list-service-item ${isActive}\" data-id=${Knack.flexServices[i].id}>${Knack.flexServices[i].service_id}${icon}</li>`\r\n  }\r\n\r\n  function goToUrlFlex(){\r\n      var id = $( this ).attr('data-id');\r\n      console.log(id)\r\n      // window.location.href = Knack.url_base+Knack.urlWithoutHashId+id+'?'+Knack.query_string;\r\n      window.location.href = Knack.url_base+Knack.urlWithoutHashId+Knack.flexServices[i].id+'?'+Knack.query_string\r\n  }\r\n\r\n  $('#flex_services_list ul').append(services);\r\n  $(\".service-list ul\").css({\r\n      \"display\": \"flex\",\r\n      \"overflow-x\": \"auto\",\r\n      \"list-style\": \"none\",\r\n      \"margin-left\": \"0px\",\r\n      \"margin-right\": \"0px\",\r\n      \"margin-top\": \"0px\",\r\n      \"width\": \"99% !important\",\r\n      \"margin-bottom\": \"10px\"\r\n  });\r\n\r\n  $(\".service-list li\").css({\r\n    \"flex\": \"0 0 auto\",\r\n    \"margin\": \"0px\",\r\n    \"margin-righ\": \"3px\",\r\n    \"border-radius\":\"5px\"\r\n  });\r\n\r\n  $(\".flex-service-active\").css({\r\n    \"background-color\": \"darkgreen\",\r\n    \"color\": \"white\"\r\n  });\r\n\r\n  $('.flex-list-service-item').on('click', function(){\r\n      var id = $( this ).attr('data-id');\r\n      console.log(id)\r\n      window.location.href = Knack.url_base+Knack.urlWithoutHashId+id+'?'+Knack.query_string\r\n  })\r\n\r\n}\r\n}\r\n\r\n//view_5875 DEV ONLY - Submit and Proceed Btn\r\n$(document).on('knack-view-render.view_5875', function(event, view, data) {\r\n//retrieve review_data from session storage\r\nconsole.log(data)\r\ngetFlexServices('', false, 'view_5810')\r\nvar review_data = [];\r\nif(Knack.flexServices){ review_data = Knack.flexServices }\r\nfor (var i = 0; i < review_data.length; i++) {\r\n  if (review_data[i].id !== Knack.hash_id && review_data[i].reviewed === false) {\r\n      Knack.nextReviewId = review_data[i].id;\r\n      Knack.flex_next_service_link = 'https://apps.sv.knack.com/trashdash#service-activity-logs/service-id--flexadd-details-mobile2/'+review_data[i].id;\r\n      console.log(Knack.nextReviewId)\r\n      break;\r\n  }\r\n}\r\n\r\nif( Knack.nextReviewId === null ){\r\n  $('#view_5875').hide()\r\n}\r\n\r\n$('#view_5875 button').on('click', function(){\r\n    console.log(Knack.nextReviewId)\r\n    // Knack.flex_can_proceed_next = true;\r\n    $('#view_5874 form').submit();\r\n})\r\n});\r\n\r\n\r\n//view_5877\r\n// $(document).on('knack-view-render.view_5877', function(event, view, data) {\r\n//   $('#view_5877 .custom_filter').append( $('#view_5877 .kn-filters-nav') );\r\n//   $('#view_5877 .custom_filter').css({\"display\": \"block\"});\r\n//   $('#view_5877 .custom_filter li').css({\"min-width\": \"120%\"});\r\n//   $('#view_5877 .custom_filter ').append(`<div><button class=\"is-primary\" id=\"flex_start_new_queue\" style=\"min-width: 110%;\">Start New Queue</div>`)\r\n//   // $('#view_5877 .kn-records-nav').hide()\r\n//   $('#view_5877 .kn-table-wrapper').hide();\r\n//   $('#view_5877 .kn-pagination').hide()\r\n\r\n//   $('#flex_start_new_queue').on('click', function(){\r\n//     var newData = data.map(function(obj) {\r\n//         var newValue = obj.field_1025 ? obj.field_1025 : \"Not Reviewed\";\r\n//         if(!obj.field_1025 || obj.field_1025 === \"\") newValue = \"Not Reviewed\";\r\n//         return { id: obj.id, review_status: newValue, reviewed: false, service_id: obj.field_95 };\r\n//     });\r\n\r\n//     var sortedServices = newData.sort(function(a, b) {\r\n//       if (a.review_status === \"Not Reviewed\" && b.review_status !== \"Not Reviewed\") {\r\n//           return -1;\r\n//       }\r\n//       else if (a.review_status !== \"Not Reviewed\" && b.review_status === \"Not Reviewed\") {\r\n//           return 1;\r\n//       }\r\n//       else {\r\n//           return 0;\r\n//       }\r\n//     });\r\n//     console.log('sortedServices', sortedServices)\r\n//     Knack.service_review_data = sortedServices;\r\n//     sessionStorage.setItem(\"review_data\", JSON.stringify(sortedServices));\r\n//     $('.close-modal').click();\r\n//     // location.reload();\r\n//     window.location.href = `${Knack.url_base}#${Knack.home_slug}/service-id--flexadd-details-mobile2/${sortedServices[0].id}/?${Knack.query_string}`\r\n//   })\r\n// });\r\n\r\n//Start New Queu\r\nvar startNewQueue = [ //https://builder.sv.knack.com/apps/trashdash/pages/scene_2051/\r\n{ 'v_id': 'view_5877' },\r\n{ 'v_id': 'view_5959' },\r\n{ 'v_id': 'view_5960' },\r\n{ 'v_id': 'view_5961' },\r\n]\r\nfor (let i = 0; i < startNewQueue.length; i++) {\r\n  $(document).on(`knack-view-render.${startNewQueue[i].v_id}`, function(event, view, data) {\r\n      console.log(data)\r\n      $(`#${startNewQueue[i].v_id} .custom_filter`).append( $(`#${startNewQueue[i].v_id} .kn-filters-nav`) );\r\n      $(`#${startNewQueue[i].v_id} .custom_filter`).css({\"display\": \"block\"});\r\n      $(`#${startNewQueue[i].v_id} .custom_filter li`).css({\"min-width\": \"120%\"});\r\n      $(`#${startNewQueue[i].v_id} .custom_filter`).append(`<div><button class=\"is-primary\" id=\"flex_start_new_queue\" style=\"min-width: 110%;\">Start New Queue</div>`)\r\n      // $('#${startNewQueue[i].v_id} .kn-records-nav').hide()\r\n      $(`#${startNewQueue[i].v_id} .kn-table-wrapper`).hide();\r\n      $(`#${startNewQueue[i].v_id} .kn-pagination`).hide()\r\n\r\n      $('#flex_start_new_queue').on('click', function(){\r\n        var newData = data.map(function(obj) {\r\n            var newValue = obj.field_1025 ? obj.field_1025 : \"Not Reviewed\";\r\n            if(!obj.field_1025 || obj.field_1025 === \"\") newValue = \"Not Reviewed\";\r\n            return { id: obj.id, review_status: newValue, reviewed: false, service_id: obj.field_95 };\r\n        });\r\n\r\n        var sortedServices = newData.sort(function(a, b) {\r\n          if (a.review_status === \"Not Reviewed\" && b.review_status !== \"Not Reviewed\") {\r\n              return -1;\r\n          }\r\n          else if (a.review_status !== \"Not Reviewed\" && b.review_status === \"Not Reviewed\") {\r\n              return 1;\r\n          }\r\n          else {\r\n              return 0;\r\n          }\r\n        });\r\n        console.log('sortedServices', sortedServices)\r\n        Knack.service_review_data = sortedServices;\r\n        sessionStorage.setItem(\"review_data\", JSON.stringify(sortedServices));\r\n        $('.close-modal').click();\r\n        // location.reload();\r\n        window.location.href = `${Knack.url_base}#${Knack.home_slug}/service-id--flexadd-details-mobile2/${sortedServices[0].id}/?${Knack.query_string}`\r\n      }) \r\n  });\r\n}\r\n\r\n//End\r\n\r\n// Service IDs Table/List > FlexAdd Records\r\nfunction getMoreServiceIDs(v_id, i){\r\nvar filters = Knack.views[v_id].model.view.filters;\r\nvar currentScene = Knack.router.current_scene_key\r\nreturn $.ajax({\r\n  type: 'GET',\r\n  headers: asHeader,\r\n  url: `https://api.sv.knack.com/v1/pages/${currentScene}/views/${v_id}/records?filters=${encodeURIComponent(JSON.stringify(filters))}&page=1&rows_per_page=10000`,\r\n  success: function(data) {\r\n    console.log(data, \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\")\r\n    // Knack.completeServices = data;\r\n    var data = data.records;\r\n    var newData = data.map(function(obj) {\r\n          var newValue = obj.field_1025 ? obj.field_1025 : \"Not Reviewed\";\r\n          if(!obj.field_1025 || obj.field_1025 === \"\") newValue = \"Not Reviewed\";\r\n          return { id: obj.id, review_status: newValue, reviewed: false, service_id: obj.field_95, community: obj.field_1939 };\r\n      });\r\n\r\n      var sortedServices = newData.sort(function(a, b) {\r\n          if (a.review_status === \"Not Reviewed\" && b.review_status !== \"Not Reviewed\") {\r\n              return -1;\r\n          }\r\n          else if (a.review_status !== \"Not Reviewed\" && b.review_status === \"Not Reviewed\") {\r\n              return 1;\r\n          }\r\n          else {\r\n              return 0;\r\n          }\r\n      });\r\n      console.log('sortedServices', sortedServices)\r\n      Knack.service_review_data = sortedServices;\r\n      sessionStorage.setItem(\"review_data\", JSON.stringify(sortedServices));\r\n      if( data.length > 0 ){ $(`#${serviceIdsFlexAdd[i].v_id}`).prepend(`<div style=\"\r\n            text-align: center;\r\n        \"><a class=\"\" href=\"#${Knack.home_slug}/service-id--flexadd-details-mobile2/${sortedServices[0].id}/?${Knack.query_string}\" style=\"\r\n              color: white;\r\n              font-size: 1.4em;\r\n              font-weight: bold;\r\n              padding: 10px;\r\n              text-align: center;\r\n              background-color: green;\r\n              color: white;\r\n              border-radius: 50px;\r\n              text-decoration: none;\r\n              border-radius: 0.5rem;\r\n              display: flex;\r\n              font-weight: bold;\r\n              justify-content: center;\r\n              padding: 0.5rem 0;\r\n        \">START SERVICE QUEUE</a></div>`) }\r\n      $(`#${serviceIdsFlexAdd[i].v_id} select`).css({\r\n          \"font-size\": \"1em\",\r\n          \"height\": \"20px\",\r\n          \"-webkit-appearance\": \"none\",\r\n          \"-moz-appearance\": \"none\",\r\n          \"appearance\": \"none\",\r\n          \"padding\": \"0\",\r\n          \"margin-right\": \"-1px\",\r\n          \"padding-left\": \"5px\",\r\n            \"margin-right\": \"25px\"\r\n        }\r\n      )\r\n  }\r\n});\r\n}\r\n\r\nvar serviceIdsFlexAdd = [\r\n  // { 'v_id': 'view_5675' },\r\n  { 'v_id': 'view_5958' },\r\n]\r\nfor (let i = 0; i < serviceIdsFlexAdd.length; i++) {\r\n  $(document).on(`knack-view-render.${serviceIdsFlexAdd[i].v_id}`, function(event, view, data) {\r\n      var test2 = getMoreServiceIDs(serviceIdsFlexAdd[i].v_id, i);\r\n      // console.log(test2.success())\r\n      console.log(Knack.completeServices)\r\n      if( $('#as_command_center_theme').length === 0 ){\r\n          $('head').append('<link rel=\"stylesheet\" type=\"text/css\" id=\"as_command_center_theme\" class=\"lazyload\" href=\"https://strategic-visionz.github.io/knack-css/scss/Area%20Supervisor%20Theme.min.css\">')\r\n      }\r\n      // var newData = data.map(function(obj) {\r\n      //     var newValue = obj.field_1025 ? obj.field_1025 : \"Not Reviewed\";\r\n      //     if(!obj.field_1025 || obj.field_1025 === \"\") newValue = \"Not Reviewed\";\r\n      //     return { id: obj.id, review_status: newValue, reviewed: false, service_id: obj.field_95, community: obj.field_1939 };\r\n      // });\r\n\r\n      // var sortedServices = newData.sort(function(a, b) {\r\n      //     if (a.review_status === \"Not Reviewed\" && b.review_status !== \"Not Reviewed\") {\r\n      //         return -1;\r\n      //     }\r\n      //     else if (a.review_status !== \"Not Reviewed\" && b.review_status === \"Not Reviewed\") {\r\n      //         return 1;\r\n      //     }\r\n      //     else {\r\n      //         return 0;\r\n      //     }\r\n      // });\r\n      // console.log('sortedServices', sortedServices)\r\n      // Knack.service_review_data = sortedServices;\r\n      // sessionStorage.setItem(\"review_data\", JSON.stringify(sortedServices));\r\n      // if( data.length > 0 ){ $(`#${serviceIdsFlexAdd[i].v_id} .kn-records-nav`).append(`<div style=\"\r\n      //       text-align: center;\r\n      //   \"><a class=\"\" href=\"#${Knack.home_slug}/service-id--flexadd-details-mobile2/${sortedServices[0].id}/?${Knack.query_string}\" style=\"\r\n      //         color: white;\r\n      //         font-size: 1.4em;\r\n      //         font-weight: bold;\r\n      //         padding: 10px;\r\n      //         text-align: center;\r\n      //         background-color: green;\r\n      //         color: white;\r\n      //         border-radius: 50px;\r\n      //         text-decoration: none;\r\n      //         border-radius: 0.5rem;\r\n      //         display: flex;\r\n      //         font-weight: bold;\r\n      //         justify-content: center;\r\n      //         padding: 0.5rem 0;\r\n      //   \">START REVIEW</a></div>`) }\r\n      // $(`#${serviceIdsFlexAdd[i].v_id} select`).css({\r\n      //     \"font-size\": \"1em\",\r\n      //     \"height\": \"20px\",\r\n      //     \"-webkit-appearance\": \"none\",\r\n      //     \"-moz-appearance\": \"none\",\r\n      //     \"appearance\": \"none\",\r\n      //     \"padding\": \"0\",\r\n      //     \"margin-right\": \"-1px\",\r\n      //     \"padding-left\": \"5px\",\r\n      //       \"margin-right\": \"25px\"\r\n      //   }\r\n      // )\r\n  });\r\n}\r\n// End Service IDs Table/List > FlexAdd Records\r\n\r\n//view_5814\r\n// $(document).on('knack-view-render.view_5814', function(event, view, data) {\r\n// //Not updated Data; view_5962\r\n// var notUpdatedData = Knack.views.view_5962.model.data.map((b) => {return b.attributes})\r\n// var userProfKeys = Knack.session.user.profile_keys;\r\n// var isDev = userProfKeys.includes('profile_34')\r\n//  if(isDev){\r\n//    $('#view_5962').hide()\r\n//  console.log(data);\r\n//  if(notUpdatedData.length > 0){\r\n//   //  $('#view_5962').show();\r\n//    $('#view_5814 .tabs ul').append(`<li><a id=\"rad_show_notUpdated\"><span style=\"color:red\">Not Updated</span></a></li>`)\r\n//  }\r\n//  $('#rad_show_notUpdated').on('click', function(){\r\n//    $('#view_5962').show();\r\n//    $('#view_5814 .kn-list-content').remove();\r\n//     $(this).addClass('is-active').siblings().removeClass('is-active');\r\n//  })\r\n//  }\r\n// });\r\n\r\n\r\n//FlexAdd QuickQueue\r\nvar flexQuickQueueFilters = [\r\n  {\r\n      title: 'Services In Progress',\r\n      views: ['view_5970', 'view_5971'],\r\n      id: `sv_qq_service_inProg`,\r\n      first: true,\r\n  },\r\n  {\r\n      title: `Today's Services`,\r\n      views: ['view_5972', 'view_5973'],\r\n      id: `sv_qq_service_today`,\r\n      first: true,\r\n  },\r\n  {\r\n      title: `Today's Services`,\r\n      views: ['view_5974', 'view_5975'],\r\n      id: `sv_qq_service_toBeReview`,\r\n      first: true,\r\n  },\r\n];\r\n\r\n$(document).on('knack-view-render.view_5968', function(event, view, data) {\r\nvar qqContainer = `<div class=\"sv-filter-1-container\" id=\"sv_flex_first_filter\"></div>\r\n<div><h3>More Queues</h3><button><i class=\"fa fa-angle-down\"></i></button></div>\r\n<div class=\"sv-filter-2-container\" id=\"sv_flex_sec_filter\"></div>`;\r\n$(`#view_5968`).append( qqContainer );\r\nfor (let i = 0; i < flexQuickQueueFilters.length; i++) {\r\n    if(flexQuickQueueFilters[i].first){\r\n        $('#sv_flex_first_filter').append(`<div class=\"sv-filter-1-item\"><div class=\"sv-filter-1-item-title\">${flexQuickQueueFilters[i].title}</div><button id=${flexQuickQueueFilters[i].id}_button>Start Queue</button></div>`);\r\n    }else{\r\n        $('#sv_flex_first_filter').append(`<div class=\"sv-filter-2-item\"><div class=\"\">Service Date: 02/06/2023</div><div class=\"sv-filter-2-item-title\">${flexQuickQueueFilters[i].title}</div><button id=${flexQuickQueueFilters[i].id}_button>Start Queue</button></div>`);\r\n    }\r\n\r\n    var views = flexQuickQueueFilters[i].views;\r\n    for (let j = 0; j < views.length; j++) {\r\n      $(`#${views[j]}`).hide()\r\n      $(document).on(`knack-view-render.${views[j]}`, function(event, view, filter_data) {\r\n        // var servicesVariable = flexQuickQueueFilters[i].id\r\n        Knack[`${flexQuickQueueFilters[i].id}`] = filter_data;\r\n      });\r\n    }\r\n    $(`#${flexQuickQueueFilters[i].id}_button`).on('click', function(){\r\n        // changeServiceQueueArray();\r\n        console.log(Knack.flexQuickQueueFilters[i].id)\r\n    })\r\n}\r\n});\r\n\r\n//End FlexAdd QuickQueue\r\n\r\n","var imageUrlUpdate = async function (record, params, isUpdate) {\r\n\r\n    try {\r\n\r\n        var waterMarkData = [];\r\n        var img_email = \"\";\r\n        var exifGeoStatus = 0;  // 0 = NO GEO  1 = EXIF DATA  2 = DEVICE DATA\r\n        var exifTimeStatus = 0; // 1 = EXIF DATA  2 = DEVICE DATA\r\n\r\n        var imgList = $('.imgListURL').val();\r\n        var imgPlaceholder = $('.imgListURL1').val();\r\n        var imgID = $('.imgList').val();\r\n        var geo_status = $('.geo_status').val();\r\n        var time_status = $('.time_status').val();\r\n\r\n        var logger = {};\r\n\r\n\r\n        logger['1'] = \"FlexAdd Started\";\r\n        if (params.address_field_id && ((`${params.address_field_id}_raw` in record) && record[`${params.address_field_id}_raw`])) { //check if there's an address\r\n            var addressField = record[`${params.address_field_id}_raw`];\r\n            var address = '';\r\n\r\n            if (('street' in addressField) && addressField['street']) {\r\n                address += addressField.street + '\\n';\r\n            }\r\n\r\n            if ((('city' in addressField) && addressField['city']) && (('state' in addressField) && addressField['state'])) {\r\n                address += `${addressField.city}, ${addressField.state}`;\r\n            }\r\n\r\n            if (address.length > 0) {\r\n                waterMarkData.push(address);\r\n\r\n                if (params.is_multiple) {\r\n                    exifGeoStatus = 2;\r\n                } else {\r\n                    if (record['field_2492'] == \"EXIF Data\" || record['field_2491'] == \"EXIF Data\" ||\r\n                        record['field_2493'] == \"EXIF Data\" || record['field_2494'] == \"EXIF Data\" ||\r\n                        record['field_2441'] == \"EXIF Data\" ||\r\n                        record['field_2426'] == \"EXIF\") {\r\n\r\n                        exifGeoStatus = 1;\r\n                    } else {\r\n                        exifGeoStatus = 2;\r\n                    }\r\n                }\r\n\r\n            } else {\r\n                exifGeoStatus = 0;\r\n            }\r\n\r\n\r\n\r\n\r\n        } else {\r\n            exifGeoStatus = 0;\r\n        }\r\n\r\n        if ((params.timestamp_field_id in record) && record[params.timestamp_field_id]) { //check if there's a timestamp\r\n            waterMarkData.push(record[params.timestamp_field_id]);\r\n            if (record['field_2492'] == \"EXIF Data\" || record['field_2491'] == \"EXIF Data\" ||\r\n                record['field_2493'] == \"EXIF Data\" || record['field_2494'] == \"EXIF Data\" ||\r\n                record['field_2441'] == \"EXIF Data\" ||\r\n                record['field_2426'] == \"EXIF\") {\r\n\r\n                exifTimeStatus = 1;\r\n                iLogger(\"exifTimeStatus 1: \", record[params.timestamp_field_id]);\r\n            } else {\r\n                exifTimeStatus = 2;\r\n                iLogger(\"exifTimeStatus 2: \", record[params.timestamp_field_id]);\r\n            }\r\n        } else {\r\n\r\n            var today = new Date();\r\n            var dateTime = today.toLocaleString();\r\n\r\n            waterMarkData.push(dateTime);\r\n            exifTimeStatus = 2;\r\n        }\r\n\r\n\r\n\r\n        //only update if there's data to watermark.\r\n        if (waterMarkData.length > 0) {\r\n            var imageFieldRaw = record[`${params.image_field_id}_raw`];\r\n            var imageUrl = '';\r\n\r\n            if (typeof imageFieldRaw == 'object') {\r\n                imageUrl = imageFieldRaw.url;\r\n            } else {\r\n                imageUrl = imageFieldRaw;\r\n            }\r\n\r\n            iLogger(\"image url: \" + imageUrl);\r\n\r\n            // console.log(\"imgList: \", imgList);\r\n\r\n            if (params.is_multiple) {\r\n                if (imgList != \"\" && imgList != undefined) {\r\n                    logger['2'] = \"Start Overlays for Multi Uploader\";\r\n                    var imgLists = imgList.split(',');\r\n                    var imgPH = imgPlaceholder.split(',');\r\n                    var imgIDs = imgID.split(',');\r\n\r\n                    var sGeo_status = geo_status.split(',');\r\n                    var sTime_status = time_status.split(',');\r\n\r\n                    var counter = 0;\r\n                    var totalCount = imgLists.length - 1;\r\n\r\n\r\n                    SlickLoader.enable();\r\n                    SlickLoader.setText(\"Saving Images\", \"\");\r\n\r\n                    logger['3'] = \"Start Overlays for Multi Uploader\";\r\n                    for (i = 0; i < imgLists.length - 1; i++) {\r\n\r\n\r\n                        var leftLabel = \"\";\r\n\r\n                        if (sGeo_status[i] == \"EXIF\") {\r\n                            exifGeoStatus = 1;\r\n                        } else if (record[`${params.address_field_id}_raw`]) {\r\n                            exifGeoStatus = 2;\r\n                        } else {\r\n                            exifGeoStatus = 0;\r\n                        }\r\n\r\n                        if (sTime_status[i] == \"EXIF\") {\r\n                            exifTimeStatus = 1;\r\n                        } else {\r\n                            exifTimeStatus = 2;\r\n                        }\r\n\r\n\r\n\r\n                        if (exifGeoStatus == 1 && exifTimeStatus == 1) {\r\n                            leftLabel = \"EXIF/EXIF\";\r\n                        } else if (exifGeoStatus == 1 && exifTimeStatus == 2) {\r\n                            leftLabel = \"EXIF/DEVICE\";\r\n                        } else if (exifGeoStatus == 2 && exifTimeStatus == 1) {\r\n                            leftLabel = \"DEVICE/EXIF\";\r\n                        } else if (exifGeoStatus == 2 && exifTimeStatus == 2) {\r\n                            leftLabel = \"DEVICE/DEVICE\";\r\n                        } else if (exifGeoStatus == 0 && exifTimeStatus == 1) {\r\n                            leftLabel = \"NONE/EXIF\";\r\n                        } else if (exifGeoStatus == 0 && exifTimeStatus == 2) {\r\n                            leftLabel = \"NONE/DEVICE\";\r\n                        }\r\n\r\n                        var data = {};\r\n\r\n                        if (imgLists[i] !== \"EXIF\") {\r\n\r\n                            var urls = imgLists[i].split(\"upload\");\r\n                            //   leftLabel = \"DEVICE/EXIF\";\r\n                            var watermarkString = waterMarkData.join('\\n');\r\n                            var watermarkParam = `f_auto,c_scale,fl_relative,l_text:Doppio%20One_20_stroke:${encodeURIComponent(encodeURIComponent(watermarkString))},g_south_east,y_5,x_10,co_rgb:FFF,bo_5px_solid_black/`;\r\n                            watermarkParam += `c_scale,fl_relative,l_text:Doppio%20One_20_stroke:${encodeURIComponent(encodeURIComponent(leftLabel))},g_south_west,y_5,x_10,co_rgb:FFF,bo_5px_solid_black/fl_keep_iptc`;\r\n                            var imageRelPath = urls[1];\r\n\r\n                            if (isUpdate) {\r\n                                var url1Arr = urls[1].split(\"/\");\r\n                                imageRelPath = `/${url1Arr[url1Arr.length - 2]}/${url1Arr[url1Arr.length - 1]}`\r\n                            }\r\n\r\n                            var updatedImageUrl = `${urls[0]}upload/${watermarkParam}${imageRelPath}`;\r\n\r\n                            updatedImageUrl = updatedImageUrl.replaceAll('+', '%20');\r\n                            data[params.image_field_id] = updatedImageUrl;\r\n                            img_email = img_email + \"<img src='\" + updatedImageUrl + \"'><br>\"\r\n\r\n                        } else {\r\n\r\n\r\n                            var urls = imgPH[i].split(\"upload\");\r\n\r\n                            var watermarkString = waterMarkData.join('\\n');\r\n                            var watermarkParam = `f_auto,c_scale,fl_relative,l_text:Doppio%20One_20_stroke:${encodeURIComponent(encodeURIComponent(watermarkString))},g_south_east,y_5,x_10,co_rgb:FFF,bo_5px_solid_black/`;\r\n                            watermarkParam += `c_scale,fl_relative,l_text:Doppio%20One_20_stroke:${encodeURIComponent(encodeURIComponent(leftLabel))},g_south_west,y_5,x_10,co_rgb:FFF,bo_5px_solid_black/fl_keep_iptc`;\r\n                            var imageRelPath = urls[1];\r\n\r\n                            if (isUpdate) {\r\n                                var url1Arr = urls[1].split(\"/\");\r\n                                imageRelPath = `/${url1Arr[url1Arr.length - 2]}/${url1Arr[url1Arr.length - 1]}`\r\n                            }\r\n\r\n                            var updatedImageUrl = \"\";\r\n\r\n                            try {\r\n                                let found = window.exifOverlays.find(({ id }) => id === imgIDs[i]);\r\n                                updatedImageUrl = found.url;\r\n\r\n                                data[params.image_field_id] = updatedImageUrl;\r\n                            } catch (e) {\r\n\r\n                            }\r\n\r\n\r\n                            img_email = img_email + \"<img src='\" + updatedImageUrl + \"'><br>\"\r\n                        }\r\n\r\n                        data[params.connection_field_id] = record.id; //Set Connection Record \r\n                        data[\"field_3140\"] = \"Upload Complete\"; //Update Upload Status\r\n\r\n                        if (params.address_field_id) {\r\n                            data[\"field_2965\"] = { //address\r\n                                latitude: record[`${params.address_field_id}_raw`].latitude,\r\n                                longitude: record[`${params.address_field_id}_raw`].longitude\r\n                            };\r\n                        }\r\n\r\n                        if (params.service_id) {\r\n                            data[\"field_2253\"] = record[`${params.service_id}_raw`][0].id;\r\n                        }\r\n\r\n                        if (params.community_unit) {\r\n                            try {\r\n                                data[\"field_3139\"] = record[`${params.community_unit}_raw`][0].id;\r\n                            } catch (e) {\r\n\r\n                            }\r\n                        }\r\n\r\n                        if (params.media_caption) {\r\n                            data['field_2249'] = params.media_caption;\r\n                        }\r\n\r\n\r\n                        if (exifGeoStatus == 2 && sGeo_status[i] == \"NONE\") {\r\n                            data[\"field_2441\"] = \"DEVICE\";\r\n                        }\r\n\r\n                        if (params.connection_field_id == \"field_2963\") {\r\n                            data[\"field_2240\"] = \"Butler Audit\";\r\n                        } else if (params.connection_field_id == \"field_2244\") {\r\n                            data[\"field_2240\"] = \"Service Hazard\";\r\n                        } else if (params.connection_field_id == \"field_2242\") {\r\n                            data[\"field_2240\"] = \"Resident Infraction\";\r\n                        }\r\n                        else if (params.connection_field_id == \"field_2250\") {\r\n                            data[\"field_2240\"] = \"Compactor Log\";\r\n                        }\r\n                        else if (params.connection_field_id == \"field_2251\") {\r\n                            data[\"field_2240\"] = \"RADAR Log\";\r\n                        }\r\n                        else if (params.connection_field_id == \"field_2252\") {\r\n                            data[\"field_2240\"] = \"Butler Timeclock\";\r\n                        }\r\n\r\n\r\n\r\n                        counter = i + 1;\r\n\r\n                        SlickLoader.setText(\"Saving Images . . .\", + counter + \" / \" + totalCount);\r\n\r\n                        var useNoneAjax = true;\r\n\r\n                        if (useNoneAjax) {  //Check if Ajax is supported\r\n                            //Use None Jquery Ajax to update record\r\n                            var xhr = new XMLHttpRequest();\r\n                            xhr.open(\"PUT\", `https://api.sv.knack.com/v1/objects/${params.object_id}/records/${imgIDs[i]}`, true);\r\n                            xhr.setRequestHeader('Authorization', Knack.getUserToken());\r\n                            xhr.setRequestHeader('X-Knack-Application-Id', Knack.application_id);\r\n                            xhr.setRequestHeader('X-Knack-REST-API-Key', window.knackRestApiKey);\r\n                            xhr.setRequestHeader('Content-Type', 'application/json');\r\n\r\n                            xhr.onreadystatechange = function () {\r\n                                if (xhr.readyState === 4 && xhr.status === 200) {\r\n                                    Knack.hideSpinner();\r\n                                    if (params.list_view_id) {\r\n                                        try {\r\n                                            Knack.views[params.list_view_id].model.fetch();\r\n                                        } catch (err) {\r\n                                        }\r\n\r\n                                    }\r\n                                }\r\n                            }\r\n                            xhr.send(JSON.stringify(data));\r\n\r\n                        } else {\r\n\r\n                            await $.ajax({\r\n                                url: `https://api.sv.knack.com/v1/objects/${params.object_id}/records/${imgIDs[i]}`,\r\n                                type: 'PUT',\r\n                                headers: {\r\n                                    'Authorization': Knack.getUserToken(),\r\n                                    'X-Knack-Application-Id': Knack.application_id,\r\n                                    'X-Knack-REST-API-Key': window.knackRestApiKey,\r\n                                    'Content-Type': 'application/json'\r\n                                },\r\n                                data: JSON.stringify(data),\r\n                                success: () => {\r\n\r\n\r\n                                    if (params.list_view_id) {\r\n                                        try {\r\n                                            Knack.views[params.list_view_id].model.fetch();\r\n                                        } catch (err) {\r\n                                        }\r\n\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n\r\n\r\n                    }\r\n\r\n                    if (params.email_image_id) {\r\n                        triggerUpdateServiceHazardForm(record.id, img_email);\r\n                    }\r\n\r\n                    setTimeout(function () {\r\n                        SlickLoader.disable();\r\n                        Knack.hideSpinner();\r\n                        window.exifOverlays = [];\r\n\r\n                        // Knack.router.scene_view.renderViews();\r\n\r\n                        if (`${params.upload_view_id}` == \"view_5003\") {\r\n                            // Knack.views.view_4763.model.fetch()\r\n                            Knack.router.scene_view.renderViews()\r\n                        }\r\n\r\n                        if (`${params.upload_view_id}` == \"view_4089\") {\r\n                            try {\r\n                                Knack.views.view_5440.model.fetch()\r\n                            } catch (err) {\r\n\r\n                            }\r\n                        }\r\n\r\n                        if (`${params.upload_view_id}` == \"view_5002\") {\r\n                            Knack.views.view_4798.model.fetch()\r\n                        }\r\n\r\n                        if (`${params.upload_view_id}` == \"view_5004\") {\r\n                            Knack.views.view_4806.model.fetch()\r\n                        }\r\n\r\n                        if (`${params.upload_view_id}` == \"view_5005\") {\r\n                            Knack.views.view_4802.model.fetch()\r\n                        }\r\n\r\n                        if (`${params.upload_view_id}` == \"view_4993\") {\r\n                            Knack.views.view_4877.model.fetch()\r\n                        }\r\n                    }, 3000);\r\n\r\n\r\n                }else{\r\n\r\n                    var error= {\r\n                        \"message\" : \"imgList is blank or undefined\",\r\n                        \"stack\" : \"imgList is blank or undefined\"\r\n                      }\r\n\r\n                    var newImages =  window.imageContainer;\r\n\r\n                    var blankImg = {\r\n                        \"imgList\" : imgList,\r\n                        \"imgID\" : imgID,\r\n                        \"images\" :  newImages\r\n                    }\r\n\r\n                    SV_Errorhandler(\"processFlexAddforMultiImage\", error, errDeviceData(), blankImg);\r\n                }\r\n            } else {\r\n\r\n                iLogger(\"Start Overlays for Single Uploader\");\r\n                logger['2'] = \"Start Overlays for Single Uploader\";\r\n\r\n                var leftLabel = \"\";\r\n\r\n                if (exifGeoStatus == 1 && exifTimeStatus == 1) {\r\n                    leftLabel = \"EXIF/EXIF\";\r\n                } else if (exifGeoStatus == 1 && exifTimeStatus == 2) {\r\n                    leftLabel = \"EXIF/DEVICE\";\r\n                } else if (exifGeoStatus == 2 && exifTimeStatus == 1) {\r\n                    leftLabel = \"DEVICE/EXIF\";\r\n                } else if (exifGeoStatus == 2 && exifTimeStatus == 2) {\r\n                    leftLabel = \"DEVICE/DEVICE\";\r\n                } else if (exifGeoStatus == 0 && exifTimeStatus == 1) {\r\n                    leftLabel = \"NONE/EXIF\";\r\n                } else if (exifGeoStatus == 0 && exifTimeStatus == 2) {\r\n                    leftLabel = \"NONE/DEVICE\";\r\n                }\r\n\r\n                iLogger(\"leftLabel: \", leftLabel);\r\n\r\n                SlickLoader.enable();\r\n                SlickLoader.setText(\"Saving Images\", \"\");\r\n\r\n                iLogger(\"current image url: \", imageUrl);\r\n\r\n                var urls = imageUrl.split(\"upload\");\r\n                var watermarkString = waterMarkData.join('\\n');\r\n                var watermarkParam = `f_auto,c_scale,fl_relative,l_text:Doppio%20One_20_stroke:${encodeURIComponent(encodeURIComponent(watermarkString))},g_south_east,y_5,x_10,co_rgb:FFF,bo_5px_solid_black/`;\r\n                watermarkParam += `c_scale,fl_relative,l_text:Doppio%20One_20_stroke:${encodeURIComponent(encodeURIComponent(leftLabel))},g_south_west,y_5,x_10,co_rgb:FFF,bo_5px_solid_black/fl_keep_iptc`;\r\n                var imageRelPath = urls[1];\r\n\r\n\r\n                iLogger(\"watermark params: \", watermarkString);\r\n                iLogger(\"imageRelPath: \", imageRelPath);\r\n                if (params.add_watermark) {\r\n                    var updatedImageUrl = `${urls[0]}upload/${watermarkParam}${imageRelPath}`;\r\n                } else {\r\n                    var updatedImageUrl = `${urls[0]}upload/${imageRelPath}`;\r\n                }\r\n\r\n                iLogger(\"updatedImageUrl: \", updatedImageUrl);\r\n                logger['3'] = updatedImageUrl;\r\n\r\n                var updatedImageUrl_temp = `${urls[0]}upload/${imageRelPath}`;\r\n                //CHECK EXTENTION\r\n\r\n                var extension = updatedImageUrl_temp.substring(updatedImageUrl_temp.length - 3);\r\n\r\n\r\n                if (extension.toUpperCase() == \"PDF\") {\r\n                    updatedImageUrl = updatedImageUrl_temp;\r\n                }\r\n\r\n                //END CHECK EXTENTION\r\n\r\n                Knack.showSpinner();\r\n                var data = {};\r\n\r\n                var data2 = {};\r\n\r\n                updatedImageUrl = updatedImageUrl.replaceAll('+', '%20');\r\n\r\n                data[params.image_field_id] = updatedImageUrl;\r\n                data2['field_2237'] = updatedImageUrl;\r\n\r\n                var today = new Date();\r\n                var date = today.getFullYear() + \"-\" + (today.getMonth() + 1) + \"-\" + today.getDate();\r\n                var time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\r\n                var dateTime = date + \" \" + time;\r\n\r\n\r\n                if (params.upload_view_id == \"view_5044\") { //clockin\r\n                    // data[\"field_113\"] = dateTime;\r\n                } else if (params.upload_view_id == \"view_5054\") { //clockout\r\n                    // data[\"field_114\"] = dateTime;\r\n                } else if (params.upload_view_id == \"view_5045\" ||\r\n                    params.upload_view_id == \"view_5046\" ||\r\n                    params.upload_view_id == \"view_5052\" ||\r\n                    params.upload_view_id == \"view_5053\" ||\r\n                    params.upload_view_id == \"view_4158\" || params.upload_view_id == \"view_4945\") { //compactor\r\n                    data[\"field_103\"] = dateTime;\r\n                    data[\"field_1928\"] = dateTime;\r\n                } else if (params.upload_view_id == \"view_5047\") { //service hazard\r\n                    data[\"field_1180\"] = dateTime;\r\n                } else if (params.upload_view_id == \"view_5048\") { //radar\r\n                    data[\"field_2233\"] = dateTime;\r\n                } else if (params.upload_view_id == \"view_5049\" || params.upload_view_id == \"view_5051\") { //infraction\r\n                    data[\"field_2234\"] = dateTime;\r\n                }\r\n\r\n\r\n                if (exifTimeStatus == 2) {\r\n                    data[params.timestamp_field_id] = dateTime;\r\n                }\r\n\r\n                iLogger(\"data parameters: \", data);\r\n                logger['4'] = data;\r\n\r\n                if (updatedImageUrl.includes(\"undefined\")) {\r\n                    iLogger(\"URL has undefined value: \", updatedImageUrl);\r\n                    SlickLoader.disable();\r\n                    Knack.hideSpinner();\r\n\r\n                    logger['5'] = \"undefined value\";\r\n\r\n                } else {\r\n                    iLogger('updating image');\r\n                    logger['6'] = \"updating image\";\r\n\r\n                    var useNoneAjax = true;\r\n\r\n                    if (useNoneAjax) {  //Check if Ajax is supported\r\n                        //Use None Jquery Ajax to update record\r\n                        var xhr = new XMLHttpRequest();\r\n                        xhr.open('PUT', `https://api.sv.knack.com/v1/objects/${params.object_id}/records/${record.id}`);\r\n                        xhr.setRequestHeader('Authorization', Knack.getUserToken());\r\n                        xhr.setRequestHeader('X-Knack-Application-Id', Knack.application_id);\r\n                        xhr.setRequestHeader('X-Knack-REST-API-Key', window.knackRestApiKey);\r\n                        xhr.setRequestHeader('Content-Type', 'application/json');\r\n                        xhr.onload = function () {\r\n                            if (xhr.status === 200) {\r\n                                SlickLoader.disable();\r\n                                Knack.hideSpinner();\r\n                                if (params.list_view_id) {\r\n                                    Knack.views[params.list_view_id].model.fetch();\r\n                                }\r\n                            } else {\r\n                                SlickLoader.disable();\r\n                                Knack.hideSpinner();\r\n                                if (params.list_view_id) {\r\n                                    Knack.views[params.list_view_id].model.fetch();\r\n                                }\r\n                                alert('Request failed.  Returned status of ' + xhr.status);\r\n                            }\r\n                        };\r\n                        xhr.send(JSON.stringify(data));\r\n                    } else {\r\n                        $.ajax({\r\n                            url: `https://api.sv.knack.com/v1/objects/${params.object_id}/records/${record.id}`,\r\n                            type: 'PUT',\r\n                            headers: {\r\n                                'Authorization': Knack.getUserToken(),\r\n                                'X-Knack-Application-Id': Knack.application_id,\r\n                                'X-Knack-REST-API-Key': window.knackRestApiKey,\r\n                                'Content-Type': 'application/json'\r\n                            },\r\n                            data: JSON.stringify(data),\r\n                            success: () => {\r\n                                Knack.hideSpinner();\r\n                                if (params.list_view_id) {\r\n                                    Knack.views[params.list_view_id].model.fetch();\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                    }\r\n\r\n                    try {\r\n                        if (params.flex_add) {\r\n                            data[\"geo\"] = exifGeoStatus;\r\n                            data[\"time\"] = exifTimeStatus;\r\n                            data[\"field_2253\"] = record[`${params.service_id}_raw`][0].id;\r\n\r\n                            logger['7'] = \"Adding flex add\";\r\n                            addNewFlexAddRecord(record, params, data);\r\n                        }\r\n                    } catch (err) {\r\n                        logger['error 8'] = err;\r\n                        serverLogs(logger);\r\n                        SV_Errorhandler(\"addNewFlexAddRecord\", err, errDeviceData(), data);\r\n                    }\r\n\r\n                }\r\n\r\n\r\n                SlickLoader.disable();\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n    catch (err) {\r\n        logger['error 9'] = err;\r\n        serverLogs(logger);\r\n\r\n        SlickLoader.disable();\r\n        Knack.hideSpinner();\r\n        SV_Errorhandler(\"imageUrlUpdate\", err, errDeviceData(), JSON.stringify(record));\r\n    }\r\n\r\n\r\n};\r\n\r\nwindow.imageUploadIntegrationArray.forEach((item, index) => {\r\n    //there should be both the image_browse_field_id and image_field_id\r\n\r\n    if (!('image_field_id' in item)) return;\r\n\r\n    var renderSelector = item.is_view_popup ? 'knack-modal-render' : 'knack-view-render';\r\n\r\n    $(document).on(`${renderSelector}.${item.upload_view_id}`, function (event, view, record) {\r\n        imageList = [];\r\n        existingImage = [];\r\n        existingImageIds = [];\r\n        filesToDelete = [];\r\n        window.imageContainer = [];\r\n\r\n        $(`#${item.upload_view_id}`).find(`input#${item.image_field_id}`).addClass('hideMe');\r\n        $(`#kn-input-${item.timestamp_field_id}`).addClass('hideMe');\r\n        $(`#kn-input-${item.log_id}`).addClass('hideMe');\r\n        $(`#kn-input-${item.email_image_id}`).addClass('hideMe');\r\n        $(`#kn-input-${item.email_image_id} .redactor-toolbar`).css(\"display\", \"none\");\r\n\r\n        if (item.address_field_id) {\r\n            $(`#kn-input-${item.address_field_id}`).addClass('hideMe');\r\n        }\r\n\r\n        if (item.object_id == \"object_107\") {\r\n            $(`#kn-input-field_1245`).addClass('hideMe');\r\n        }\r\n\r\n        $(`#kn-input-${item.image_browse_field_id}`).addClass('hideMe');\r\n\r\n        if (item.is_multiple) {\r\n\r\n\r\n            $(`#${item.upload_view_id} #kn-input-${item.log_id} input`).val(makeid(5));\r\n\r\n\r\n            //try 10x at 500s each time.\r\n            var counter = 0;\r\n            var getImageElemeInt = setInterval(() => {\r\n                var imageElem = null;\r\n                if (item.is_multiple) {\r\n                    imageElem = $(`#${item.upload_view_id}`).find(`#kn-input-${item.image_connection_field_id}`)\r\n                } else {\r\n                    imageElem = $(`#${item.upload_view_id}`).find(`input#${item.image_field_id}`)\r\n                }\r\n\r\n                if (imageElem.length > 0) {\r\n                    clearInterval(getImageElemeInt);\r\n                    var imagefield = $(imageElem).find(\"div.control\");\r\n                    $(imagefield).addClass('hideMe');\r\n                } else if (counter < 10) {\r\n                    counter++;\r\n                } else {\r\n                    clearInterval(getImageElemeInt);\r\n                }\r\n            }, 500)\r\n\r\n        }\r\n\r\n        var fpInt = setInterval(function () {\r\n            if (typeof FilePond != 'undefined') {\r\n                clearInterval(fpInt);\r\n                let imageUploader = new ImageUploader(item);\r\n                imageUploader.setCloudinaryCredentials(window.cloudinaryCredentials);\r\n                imageUploader.init();\r\n            }\r\n        }, 100);\r\n    });\r\n\r\n\r\n    //Update image url when a record is updated\r\n    if (typeof item.update_view_id != \"undefined\") {\r\n\r\n        $(document).on(`knack-record-update.${item.update_view_id}`, async function (event, view, record) {\r\n            imageUrlUpdate(\r\n                record,\r\n                item,\r\n                true\r\n            );\r\n\r\n\r\n        });\r\n    }\r\n\r\n    //Update image url when a record is added, meaning an image was uploaded.\r\n    $(document).on(`knack-form-submit.${item.upload_view_id}`, async function (event, view, record) {\r\n        var user_details = Knack.getUserAttributes();\r\n\r\n        var params = {\r\n            \"record\": record,\r\n            \"item\": item,\r\n            \"user_token\": Knack.getUserToken(),\r\n            \"user_id\": user_details.id,\r\n        }\r\n\r\n        var url = '';\r\n        if (item.is_multiple) {\r\n            url = 'https://uploader.svweb.dev/webhook/update-exif';\r\n        } else {\r\n            url = 'https://n.luckykeniks.com/webhook/flex';\r\n        }\r\n\r\n        // if ((item.server_side && user_details.id == \"625364fa2dd2c2071c48a09c\") || (item.server_side && user_details.id == \"5bbcb6d1e4d9f1302c157fee\") || (item.server_side && user_details.id == \"611d18ecfbee5b07a16a5bd5\") || (item.server_side && user_details.id == \"60a4ab6ebf6550001bb6f99c\")|| (item.server_side && user_details.id == \"60b49f9f1f3544001e4b5c93\")){\r\n        if (item.server_side) {\r\n            $.ajax({\r\n                url: url,\r\n                type: \"POST\",\r\n                dataType: 'json',\r\n                data: params,\r\n                success: () => {\r\n                    console.log('Sent to server');\r\n                },\r\n                error: (err) => {\r\n                    console.log(\"Failed to send to server, continue on client side\", err);\r\n\r\n                    imageUrlUpdate(\r\n                        record,\r\n                        item,\r\n                        false\r\n                    );\r\n                }\r\n            });\r\n        } else {\r\n            imageUrlUpdate(\r\n                record,\r\n                item,\r\n                false\r\n            );\r\n        }\r\n\r\n\r\n    });\r\n    // }\r\n});\r\n\r\n$(document).on('knack-view-render.view_2536', function (event, view, data) {\r\n \r\n    $('.field_2442 img').click(function () {\r\n        var imgVal = $(this).attr('src');\r\n\r\n        var fileNameDotIdx = imgVal.lastIndexOf(\".\");\r\n        var fileName = imgVal.substr(0, fileNameDotIdx);\r\n\r\n        window.open(fileName + \".pdf\", '_blank');\r\n    });\r\n\r\n\r\n    $('.field_2557 img').click(function () {\r\n        var imgVal = $(this).attr('src');\r\n\r\n        var fileNameDotIdx = imgVal.lastIndexOf(\".\");\r\n        var fileName = imgVal.substr(0, fileNameDotIdx);\r\n\r\n        window.open(fileName + \".pdf\", '_blank');\r\n    });\r\n\r\n    $('.field_2558 img').click(function () {\r\n        var imgVal = $(this).attr('src');\r\n\r\n        var fileNameDotIdx = imgVal.lastIndexOf(\".\");\r\n        var fileName = imgVal.substr(0, fileNameDotIdx);\r\n\r\n        window.open(fileName + \".pdf\", '_blank');\r\n    });\r\n\r\n    $('.field_2559 img').click(function () {\r\n        var imgVal = $(this).attr('src');\r\n\r\n        var fileNameDotIdx = imgVal.lastIndexOf(\".\");\r\n        var fileName = imgVal.substr(0, fileNameDotIdx);\r\n\r\n        window.open(fileName + \".pdf\", '_blank');\r\n    });\r\n});\r\n\r\n$(document).on('knack-view-render.view_3300', function (event, view, data) {\r\n\r\n    $('.field_2556 img').click(function () {\r\n        var imgVal = $(this).attr('src');\r\n\r\n        var fileNameDotIdx = imgVal.lastIndexOf(\".\");\r\n        var fileName = imgVal.substr(0, fileNameDotIdx);\r\n\r\n        // window.open(fileName + \".pdf\", '_blank');\r\n        window.location.replace(\"https://pdf.svdev.io?l=\" + fileName + \".pdf\");\r\n        view_5273\r\n        element.innerHTML += \"additional HTML code\"\r\n\r\n        document.getElementById(\"view_5273\").innerHTML +=\r\n            '<iframe src=https://pdf.svdev.io/?l=https://res.cloudinary.com/strategicvisionz/image/upload//v1658249317/2022%20Image%20Uploader%20-%20Trash%20Dash%20Parent%20Directory/Community%20Audits/PDF/7%20-%2019/Trash%20Butler%20Resident%20Flyer%20-%206%20PM%20Sun-Thur%20%2B%20Tue%20Recycling_1658249318284.pdf\" width=\"100%\" height=\"600\" style=\"border:none;\"></iframe>';\r\n    });\r\n\r\n});\r\n\r\n$(document).on('knack-view-render.view_5281', function (event, view, data) {\r\n    $('#send_winner_sms').click(function () {\r\n        alert('its working!');\r\n    });\r\n\r\n});\r\n\r\n$(document).on('knack-form-submit.view_3297', function (event, view, record) {\r\n\r\n\r\n    if (record.field_1279 == \"Active\") {\r\n\r\n        record.field_1272_raw.forEach(param => {\r\n\r\n            //CHECK EXTENTION\r\n\r\n            var updatedImageUrl = record.field_2556_raw;\r\n\r\n            var extension = updatedImageUrl.substring(updatedImageUrl.length - 3);\r\n\r\n            if (extension.toUpperCase() == \"PDF\") {\r\n\r\n                var fileNameDotIdx = updatedImageUrl.lastIndexOf(\".\");\r\n                var fileName = updatedImageUrl.substr(0, fileNameDotIdx);\r\n\r\n\r\n                updatedImageUrl = fileName + \".jpg\";\r\n\r\n            }\r\n\r\n            var data = {};\r\n\r\n            data['field_2904'] = updatedImageUrl;\r\n\r\n\r\n        }\r\n        );\r\n\r\n\r\n    }\r\n});\r\n\r\n$(document).on('knack-form-submit.view_3300', function (event, view, record) {\r\n\r\n\r\n    if (record.field_1279 == \"Active\") {\r\n\r\n        record.field_1272_raw.forEach(param => {\r\n\r\n            //CHECK EXTENTION\r\n\r\n            var updatedImageUrl = record.field_2467_raw;\r\n\r\n            var extension = updatedImageUrl.substring(updatedImageUrl.length - 3);\r\n\r\n\r\n            if (extension.toUpperCase() == \"PDF\") {\r\n\r\n                var fileNameDotIdx = updatedImageUrl.lastIndexOf(\".\");\r\n                var fileName = updatedImageUrl.substr(0, fileNameDotIdx);\r\n\r\n\r\n                updatedImageUrl = fileName + \".jpg\";\r\n\r\n            }\r\n\r\n            var data = {};\r\n\r\n            data['field_2469'] = updatedImageUrl;\r\n\r\n\r\n            $.ajax({\r\n                url: `https://api.sv.knack.com/v1/objects/object_8/records/${param.id}`,\r\n                type: 'PUT',\r\n                headers: {\r\n                    'Authorization': Knack.getUserToken(),\r\n                    'X-Knack-Application-Id': Knack.application_id,\r\n                    'X-Knack-REST-API-Key': window.knackRestApiKey,\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                data: JSON.stringify(data),\r\n                success: () => {\r\n                    console.log('success!');\r\n                }\r\n            });\r\n        }\r\n        );\r\n\r\n\r\n    }\r\n});\r\n\r\nfunction triggerUpdateServiceHazardForm(hazard_id, imgTagWithOverlays) {\r\n\r\n\r\n    var data = {};\r\n\r\n    data['field_3018'] = imgTagWithOverlays;\r\n\r\n    return $.ajax({\r\n        type: 'PUT',\r\n        headers: {\r\n            'Authorization': Knack.getUserToken(),\r\n            'X-Knack-Application-Id': Knack.application_id,\r\n            'X-Knack-REST-API-Key': window.knackRestApiKey,\r\n            'Content-Type': 'application/json'\r\n        },\r\n        url: 'https://api.sv.knack.com/v1/pages/scene_1974/views/view_5525/records/' + hazard_id,\r\n        data: JSON.stringify(data),\r\n        success: function () {\r\n            // console.log('triggerUpdateServiceHazardForm success')\r\n        }\r\n    });\r\n}\r\n\r\nfunction addNewFlexAddRecord(record, params, data) {\r\n\r\n\r\n    var f_data = {};\r\n\r\n    if (params.image_field_id == \"field_609\") {\r\n        var url = data.field_609;\r\n        f_data['field_2237'] = url.replaceAll('+', '%20');\r\n    } else {\r\n        var url = data.field_260;\r\n        f_data['field_2237'] = url.replaceAll('+', '%20');\r\n    }\r\n\r\n    f_data['field_2238'] = 'Image';\r\n    f_data[\"field_3140\"] = \"Upload Complete\";\r\n    f_data['field_2252'] = record.id;\r\n    f_data['field_2253'] = data.field_2253;\r\n    f_data['field_2441'] = data.field_2441;\r\n    f_data['field_2240'] = \"Butler Timeclock\";\r\n\r\n\r\n    if (data.field_113) {\r\n        f_data['field_2245'] = data.field_113;\r\n    } else {\r\n\r\n        var today = new Date();\r\n        var date =\r\n            today.getFullYear() +\r\n            \"-\" +\r\n            (today.getMonth() + 1) +\r\n            \"-\" +\r\n            today.getDate();\r\n        var time =\r\n            today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\r\n        var dateTime = date + \" \" + time;\r\n\r\n        f_data['field_2245'] = dateTime;\r\n    }\r\n\r\n    f_data['field_2965'] = {\r\n        latitude: record[`${params.address_field_id}_raw`].latitude,\r\n        longitude: record[`${params.address_field_id}_raw`].longitude\r\n    }\r\n\r\n    if (data.geo == 1) {\r\n        f_data['field_2441'] = \"EXIF\";\r\n        f_data['field_2255'] = {\r\n            latitude: record[`${params.address_field_id}_raw`].latitude,\r\n            longitude: record[`${params.address_field_id}_raw`].longitude\r\n        }\r\n    } else if (data.geo == 2) {\r\n        f_data['field_2441'] = \"DEVICE\";\r\n    } else {\r\n        f_data['field_2441'] = \"NONE\";\r\n    }\r\n\r\n    if (data.time == 1) {\r\n        f_data['field_3032'] = \"EXIF\";\r\n        f_data[\"field_2246\"] = record[params.timestamp_field_id];\r\n    } else {\r\n        f_data['field_3032'] = \"DEVICE\";\r\n    }\r\n\r\n    if (params.media_caption) {\r\n        f_data['field_2249'] = params.media_caption;\r\n    }\r\n\r\n\r\n\r\n    var user_details = Knack.getUserAttributes();\r\n\r\n    f_data[\"field_2239\"] = user_details.id\r\n\r\n\r\n\r\n    var useNoneAjax = true;\r\n    if (useNoneAjax) { // Check if Ajax is supported\r\n\r\n        //Use None Jquery Ajax to update record\r\n\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open(\"POST\", `https://api.sv.knack.com/v1/objects/object_107/records`);\r\n        xhr.setRequestHeader(\"Authorization\", Knack.getUserToken());\r\n        xhr.setRequestHeader(\"X-Knack-Application-Id\", Knack.application_id);\r\n        xhr.setRequestHeader(\"X-Knack-REST-API-Key\", window.knackRestApiKey);\r\n        xhr.setRequestHeader(\"Content-Type\", \"application/json\");\r\n\r\n        xhr.onload = function () {\r\n            f_data['status'] = \"success\";\r\n        };\r\n        xhr.onerror = function (err) {\r\n            console.error(\"AddFlexAdd Error\", err);\r\n            f_data['status'] = \"error\";\r\n            SV_Errorhandler(\"addNewFlexAddRecord\", err, errDeviceData(), \"\");\r\n        };\r\n        xhr.send(JSON.stringify(f_data));\r\n\r\n    } else {\r\n        $.ajax({\r\n            url: `https://api.sv.knack.com/v1/objects/object_107/records`,\r\n            type: \"POST\",\r\n            headers: {\r\n                Authorization: Knack.getUserToken(),\r\n                \"X-Knack-Application-Id\": Knack.application_id,\r\n                \"X-Knack-REST-API-Key\": window.knackRestApiKey,\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            data: JSON.stringify(f_data),\r\n            success: function (data) {\r\n                f_data['status'] = \"success\";\r\n            },\r\n            error: function (err) {\r\n                console.error(err);\r\n                f_data['status'] = \"error\";\r\n            },\r\n        });\r\n    }\r\n    // serverLogs(f_data);\r\n}\r\n\r\nfunction iLogger(def, params) {\r\n    // console.log(\"--------------------------------------------------------------------------------\");\r\n    // if (params) {\r\n    //     console.log(def, params);\r\n    // } else {\r\n    //     console.log(def);\r\n    // }\r\n    // console.log(\"--------------------------------------------------------------------------------\");\r\n\r\n}\r\n\r\nfunction serverLogs(params) {\r\n    // console.log(params);\r\n    // try {\r\n    //     $.ajax({\r\n    //         url: `https://k.luckykeniks.com/webhook/image-logs`,\r\n    //         type: \"POST\",\r\n    //         dataType: 'json',\r\n    //         data: params,\r\n    //     });\r\n\r\n    // } catch (err) {\r\n    //     console.log(err);\r\n    // }\r\n}\r\n\r\nfunction makeid(length) {\r\n    var result = '';\r\n    var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    var charactersLength = characters.length;\r\n    for (var i = 0; i < length; i++) {\r\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n    }\r\n\r\n    result = result + \"_\" + Math.floor(Date.now() / 1000)\r\n    return result;\r\n}","/*************\r\nKNACK JS API\r\n************/\r\nvar KnackJs = function(info) {\r\n    // Knack info\r\n    this.applicationID = info.applicationID;\r\n    this.restAPIkey = info.restAPIkey;\r\n    this.knackURL = info.knackURL || `${KNACK_API_BASE_URL}/v1/`;\r\n    this.jQuery = info.jQuery || window.$;\r\n\r\n    // Environment info\r\n    this.environment = info.environment || 'production';\r\n    this.isProduction = this.environment === 'production';\r\n    this.isDevelopment = this.environment === 'development';\r\n\r\n    // Internal info\r\n    this.$spinnerBackdrop = null;\r\n\r\n    // External libraries\r\n    this.libraries = info.libraries || {\r\n        async: {\r\n            url: 'https://cdnjs.cloudflare.com/ajax/libs/async/2.4.1/async.min.js',\r\n            loaded: false,\r\n            objectName: 'async'\r\n        },\r\n        jquery: {\r\n            url: 'https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js',\r\n            loaded: false,\r\n            objectName: 'jQuery'\r\n        }\r\n    };\r\n\r\n    // Check compatibility\r\n    this.assert(Knack || window.Knack, 'Error, this library only run on Knack applications');\r\n    this.assert(this.jQuery, 'Error, jQuery instance is required');\r\n};\r\n\r\nObject.defineProperty(KnackJs.prototype, '$', {\r\n    get: function() {\r\n        return window.jQuery || this.jQuery || window.$;\r\n    }\r\n});\r\n\r\nKnackJs.prototype.set = function(key, value) {\r\n    Object.defineProperty(KnackJs.prototype, key, {\r\n        get: function() {\r\n            return value;\r\n        }\r\n    });\r\n};\r\n\r\nKnackJs.prototype.assert = function(cond, message) {\r\n    if (!cond) {\r\n        throw new Error(message);\r\n    }\r\n};\r\n\r\nObject.defineProperty(KnackJs.prototype, 'headers', {\r\n    get: function() {\r\n        return {\r\n            'X-Knack-Application-ID': this.applicationID,\r\n            'X-Knack-REST-API-Key': this.restAPIkey,\r\n            'content-type': 'application/json'\r\n        };\r\n    }\r\n});\r\n\r\nKnackJs.prototype.find = function(objectId, filters, sortField, sortOrder, recordPerPage) {\r\n    filters = filters || [];\r\n    sortOrder = sortOrder || '';\r\n    sortField = sortField || '';\r\n    recordPerPage = recordPerPage || 'all';\r\n\r\n    var filterValEnc = encodeURIComponent(JSON.stringify(filters));\r\n    var sortFEnc = encodeURIComponent(sortField);\r\n    var sortOEnc = encodeURIComponent(sortOrder);\r\n\r\n    return this.$.ajax({\r\n        type: 'GET',\r\n        headers: this.headers,\r\n        url: this.knackURL + 'objects/' + objectId + '/records?rows_per_page=' + recordPerPage +\r\n            '&filters=' + filterValEnc + \"&sort_field=\" + sortFEnc + \"&sort_order=\" +\r\n            sortOEnc\r\n    });\r\n};\r\n\r\nKnackJs.prototype.findById = function(objectId, id) {\r\n\r\n    return this.$.ajax({\r\n        type: 'GET',\r\n        headers: this.headers,\r\n        url: this.knackURL + 'objects/' + objectId + '/records/' + id\r\n    });\r\n};\r\n\r\nKnackJs.prototype.update = function(objectId, id, data) {\r\n\r\n    return this.$.ajax({\r\n        type: 'PUT',\r\n        headers: this.headers,\r\n        url: this.knackURL + 'objects/' + objectId + '/records/' + id,\r\n        data: data\r\n    });\r\n};\r\n\r\nKnackJs.prototype.delete = function(objectId, id) {\r\n\r\n    return this.$.ajax({\r\n        type: 'DELETE',\r\n        headers: this.headers,\r\n        url: this.knackURL + 'objects/' + objectId + '/records/' + id\r\n    });\r\n};\r\n\r\nKnackJs.prototype.create = function(objectId, data) {\r\n    return this.$.ajax({\r\n        type: 'POST',\r\n        headers: this.headers,\r\n        url: this.knackURL + 'objects/' + objectId + '/records',\r\n        data: data\r\n    });\r\n};\r\n\r\nvar knackApi = new KnackJs({\r\n    applicationID: '5bbcb6a739b582305a70b738',\r\n    restAPIkey: '874a0c90-cbe0-11e8-bc1a-bd0ff4f2a6dd',\r\n    environment: 'production',\r\n    jQuery: $\r\n});\r\n\r\nknackApi.set('OBJECT', {\r\n    MGR_SCHED: 'object_36',\r\n    MGR_EVENTS: 'object_32',\r\n    DISTRICT: 'object_27',\r\n    COMMUNITY: 'object_8',\r\n    SCHED_ITEM_TEMPLATES: 'object_35',\r\n    COMM_SMS_LIST: 'object_37'\r\n});\r\n/////////////////END KNACK JS API","window.imageUploadIntegrationArray = [\r\n\r\n    {//Twilio SMS Send Photo\r\n        add_watermark: false,\r\n        upload_view_id: \"view_5100\",\r\n        object_id: \"object_131\", //image object id\r\n        image_field_id: \"field_2912\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_2911\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Twilio SMS\",\r\n        //   exif_source: \"field_2040\",  \r\n    },\r\n\r\n    {//Single Image Uploader - Buttler Service - Clocked In\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5044\",\r\n        object_id: \"object_18\", //image object id\r\n        image_field_id: \"field_609\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_115\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_116\", // Lat-long\r\n        timestamp_field_id: \"field_117\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n        //   exif_source: \"field_2040\",  \r\n    },\r\n\r\n    {//Full Time Butler Clock In https://builder.sv.knack.com/apps/trashdash/pages/scene_1895/views/view_5199/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5199\",\r\n        object_id: \"object_70\", //image object id\r\n        image_field_id: \"field_2860\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_2873\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_2867\", // Lat-long\r\n        timestamp_field_id: \"field_2869\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    },\r\n\r\n\r\n    //    {//Single Image Uploader - Buttler Service - Clocked Out\r\n    //     add_watermark: true,\r\n    //     upload_view_id: \"view_5054\",\r\n    //     object_id: \"object_18\", //image object id\r\n    //     image_field_id: \"field_260\", //object_id's image_field_id\r\n    //     image_browse_field_id : \"field_807\",\r\n    //     is_multiple: false,\r\n    //     address_field_id: \"field_261\", // Lat-long\r\n    //     timestamp_field_id: \"field_262\",  \r\n    //     folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    //   //   exif_source: \"field_2040\",  \r\n    //   },\r\n\r\n    {//Single Image Uploader - Buttler Service - Clocked Out -TEST\r\n        add_watermark: true,\r\n        upload_view_id: \"view_3238\",\r\n        object_id: \"object_18\", //image object id\r\n        image_field_id: \"field_260\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_807\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_261\", // Lat-long\r\n        timestamp_field_id: \"field_262\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n        //   exif_source: \"field_2040\",  \r\n    },\r\n\r\n    {//Single Image Uploader - Compactor Logs - Add Compactor Before\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5045\",\r\n        object_id: \"object_16\", //image object id\r\n        image_field_id: \"field_607\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_99\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_100\", // Lat-long\r\n        timestamp_field_id: \"field_101\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Compactor Logs\",\r\n        //   exif_source: \"field_2041\",  \r\n    },\r\n\r\n    {//Single Image Uploader - Compactor Logs - Add Compactor Before (Inside)\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5046\",\r\n        object_id: \"object_16\", //image object id\r\n        image_field_id: \"field_607\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_99\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_100\", // Lat-long\r\n        timestamp_field_id: \"field_101\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Compactor Logs\",\r\n        //   exif_source: \"field_2041\",  \r\n    },\r\n\r\n    {//Single Image Uploader - Compactor Logs - Add Compactor After\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5052\",\r\n        object_id: \"object_16\", //image object id\r\n        image_field_id: \"field_607\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_99\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_100\", // Lat-long\r\n        timestamp_field_id: \"field_101\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Compactor Logs\",\r\n        //   exif_source: \"field_2041\",  \r\n    },\r\n\r\n    {//Single Image Uploader - Compactor Logs - Add Compactor After (Inside Area)\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5053\",\r\n        object_id: \"object_16\", //image object id\r\n        image_field_id: \"field_607\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_99\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_100\", // Lat-long\r\n        timestamp_field_id: \"field_101\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Compactor Logs\",\r\n        //   exif_source: \"field_2041\",  \r\n    },\r\n\r\n    {//Single Image Uploader -Resident Infraction - Image 1\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5049\",\r\n        object_id: \"object_10\", //image object id\r\n        image_field_id: \"field_614\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_63\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_1248\", // Lat-long\r\n        timestamp_field_id: \"field_1247\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\",\r\n        //   exif_source: \"field_2042\",  \r\n    },\r\n\r\n    {//Single Image Uploader -Resident Infraction - Image 2\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5049\",\r\n        object_id: \"object_10\", //image object id\r\n        image_field_id: \"field_615\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_64\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_1249\", // Lat-long\r\n        timestamp_field_id: \"field_1250\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\",\r\n        //   exif_source: \"field_2042\",  \r\n    },\r\n\r\n    {//Single Image Uploader - Edit Resident Infraction - Image 1\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5051\",\r\n        object_id: \"object_10\", //image object id\r\n        image_field_id: \"field_614\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_63\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_1248\", // Lat-long\r\n        timestamp_field_id: \"field_1247\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\",\r\n        //   exif_source: \"field_2042\",  \r\n    },\r\n\r\n    {//Single Image Uploader - Edit Resident Infraction - Image 2\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5051\",\r\n        object_id: \"object_10\", //image object id\r\n        image_field_id: \"field_615\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_64\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_1249\", // Lat-long\r\n        timestamp_field_id: \"field_1250\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\",\r\n        //   exif_source: \"field_2042\",  \r\n    },\r\n\r\n    {//Single Image Uploader - Report New Service Hazard\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5047\",\r\n        object_id: \"object_20\", //image object id\r\n        image_field_id: \"field_620\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_588\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Service Hazards\",\r\n        //   exif_source: \"field_2043\",  \r\n    },\r\n\r\n    {//Single Image Uploader - Report New Service Hazard\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5191\",\r\n        object_id: \"object_20\", //image object id\r\n        image_field_id: \"field_620\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_588\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Service Hazards\",\r\n        //   exif_source: \"field_2043\",  \r\n    },\r\n\r\n    {//Single Image Uploader - Radar Image\r\n        add_watermark: true,\r\n        upload_view_id: \"view_2509\",\r\n        object_id: \"object_48\", //image object id\r\n        image_field_id: \"field_803\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_806\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_804\", // Lat-long\r\n        timestamp_field_id: \"field_805\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/RADAR Logs\",\r\n        //   exif_source: \"field_2425\",  \r\n    },\r\n\r\n    {//Single Image Uploader - Radar Logs\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5048\",\r\n        object_id: \"object_12\", //image object id\r\n        image_field_id: \"field_604\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_75\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_795\", // Lat-long\r\n        timestamp_field_id: \"field_796\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/RADAR Logs\",\r\n        //   exif_source: \"field_2044\",  \r\n    },\r\n\r\n    {//Single Image Uploader - Radar Logs\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5048\",\r\n        object_id: \"object_12\", //image object id\r\n        image_field_id: \"field_605\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_76\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_797\", // Lat-long\r\n        timestamp_field_id: \"field_798\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/RADAR Logs\",\r\n        //   exif_source: \"field_2044\",  \r\n    },\r\n\r\n    //AREA COMMAND CENTER - In Service Dashboard\r\n\r\n    {//Single Image Uploader - Radar Image\r\n        add_watermark: true,\r\n        upload_view_id: \"view_2509\",\r\n        object_id: \"object_48\", //image object id\r\n        image_field_id: \"field_803\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_806\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_804\", // Lat-long\r\n        timestamp_field_id: \"field_805\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/RADAR Logs\",\r\n        exif_source: \"field_2425\",\r\n    },\r\n\r\n    {// Creates New RADAR Log Record https://builder.sv.knack.com/apps/trashdash/pages/scene_1544 #23\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4117\",\r\n        object_id: \"object_12\", //image object id\r\n        image_field_id: \"field_604\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_75\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_795\", // Lat-long\r\n        timestamp_field_id: \"field_796\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/RADAR Logs\",\r\n        exif_source: \"field_2044\",\r\n    },\r\n\r\n    {// Creates New RADAR Log Record https://builder.sv.knack.com/apps/trashdash/pages/scene_1540 #23\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4117\",\r\n        object_id: \"object_12\", //image object id\r\n        image_field_id: \"field_605\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_76\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_797\", // Lat-long\r\n        timestamp_field_id: \"field_798\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/RADAR Logs\",\r\n        exif_source: \"field_2044\",\r\n    },\r\n\r\n\r\n    {//Edit Resident Infractions https://builder.sv.knack.com/apps/trashdash/pages/scene_1551\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4146\",\r\n        object_id: \"object_10\", //image object id\r\n        image_field_id: \"field_614\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_63\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_1248\", // Lat-long\r\n        timestamp_field_id: \"field_1247\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\",\r\n    },\r\n\r\n\r\n    {//Edit Resident Infractions https://builder.sv.knack.com/apps/trashdash/pages/scene_1551\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4146\",\r\n        object_id: \"object_10\",\r\n        image_field_id: \"field_615\",\r\n        image_browse_field_id: \"field_64\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_1249\",\r\n        timestamp_field_id: \"field_1250\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\",\r\n    },\r\n\r\n    {// Edit Existing Support Ticket https://builder.sv.knack.com/apps/trashdash/pages/scene_1641 #25\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4462\",\r\n        object_id: \"object_20\",\r\n        image_field_id: \"field_620\",\r\n        image_browse_field_id: \"field_588\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/RADAR Logs\",\r\n    },\r\n\r\n    //   {// Create New Butler Time Clock - Clocked In https://builder.sv.knack.com/apps/trashdash/pages/scene_38/views/view_2500/form #26\r\n    //     add_watermark: true,\r\n    //     upload_view_id: \"view_4779\",\r\n    //     object_id: \"object_18\", \r\n    //     image_field_id: \"field_609\", \r\n    //     image_browse_field_id : \"field_115\",\r\n    //     is_multiple: false,\r\n    //     address_field_id: \"field_116\", \r\n    //     timestamp_field_id: \"field_117\",  \r\n    //     folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    //   },\r\n\r\n    //    {// Create New Butler Time Clock - Clocked Out https://builder.sv.knack.com/apps/trashdash/pages/scene_38/views/view_2500/form #26\r\n    //     add_watermark: true,\r\n    //     upload_view_id: \"view_4779\",\r\n    //     object_id: \"object_18\", \r\n    //     image_field_id: \"field_260\", \r\n    //     image_browse_field_id : \"field_807\",\r\n    //     is_multiple: false,\r\n    //     address_field_id: \"field_261\", \r\n    //     timestamp_field_id: \"field_262\",  \r\n    //     folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    //   },\r\n\r\n    //    {// Edit Existing Butler Time Clock - Clocked In https://builder.sv.knack.com/apps/trashdash/pages/scene_38/views/view_2500/form #27\r\n    //     add_watermark: true,\r\n    //     upload_view_id: \"view_4120\",\r\n    //     object_id: \"object_18\", \r\n    //     image_field_id: \"field_609\", \r\n    //     image_browse_field_id : \"field_115\",\r\n    //     is_multiple: false,\r\n    //     address_field_id: \"field_116\", \r\n    //     timestamp_field_id: \"field_117\",  \r\n    //     folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    //   },\r\n\r\n    //    {// Edit Existing Butler Time Clock - Clocked Out https://builder.sv.knack.com/apps/trashdash/pages/scene_38/views/view_2500/form #27\r\n    //     add_watermark: true,\r\n    //     upload_view_id: \"view_4120\",\r\n    //     object_id: \"object_18\", \r\n    //     image_field_id: \"field_260\", \r\n    //     image_browse_field_id : \"field_807\",\r\n    //     is_multiple: false,\r\n    //     address_field_id: \"field_261\", // Lat-long\r\n    //     timestamp_field_id: \"field_262\",  \r\n    //     folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    //   },\r\n\r\n\r\n    //END AREA COMMAND CENTER - In Service Dashboard\r\n    //AREA COMMAND CENTER - Edit Service ID\r\n\r\n    {// Edit Existing Compactor Log https://builder.sv.knack.com/apps/trashdash/pages/scene_1509 #28\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4035\",\r\n        object_id: \"object_16\",\r\n        image_field_id: \"field_607\",\r\n        image_browse_field_id: \"field_99\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_100\",\r\n        timestamp_field_id: \"field_101\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Compactor Logs\",\r\n    },\r\n\r\n    {// Edit Existing RADAR Log https://builder.sv.knack.com/apps/trashdash/pages/scene_1540 #29\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4098\",\r\n        object_id: \"object_12\",\r\n        image_field_id: \"field_604\",\r\n        image_browse_field_id: \"field_75\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_795\",\r\n        timestamp_field_id: \"field_796\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/RADAR Logs\",\r\n        exif_source: \"field_2044\",\r\n    },\r\n\r\n    {// Edit Existing RADAR Log https://builder.sv.knack.com/apps/trashdash/pages/scene_1544 #29\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4098\",\r\n        object_id: \"object_12\",\r\n        image_field_id: \"field_605\",\r\n        image_browse_field_id: \"field_76\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_797\",\r\n        timestamp_field_id: \"field_798\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/RADAR Logs\",\r\n        exif_source: \"field_2044\",\r\n    },\r\n\r\n\r\n    {//Edit Resident Infractions https://builder.sv.knack.com/apps/trashdash/pages/scene_1507 #30\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4036\",\r\n        object_id: \"object_10\",\r\n        image_field_id: \"field_614\",\r\n        image_browse_field_id: \"field_63\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_1248\",\r\n        timestamp_field_id: \"field_1247\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\",\r\n    },\r\n\r\n\r\n    {//Edit Resident Infractions https://builder.sv.knack.com/apps/trashdash/pages/scene_1507 #30\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4036\",\r\n        object_id: \"object_10\",\r\n        image_field_id: \"field_615\",\r\n        image_browse_field_id: \"field_64\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_1249\",\r\n        timestamp_field_id: \"field_1250\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\",\r\n    },\r\n\r\n    {// Edit Existing Support Ticket https://builder.sv.knack.com/apps/trashdash/pages/scene_1512 #31\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4037\",\r\n        object_id: \"object_20\",\r\n        image_field_id: \"field_620\",\r\n        image_browse_field_id: \"field_588\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Service Hazards\",\r\n    },\r\n\r\n    {//Create New Compactor Log https://builder.sv.knack.com/apps/trashdash/pages/scene_1510 #32\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4041\",\r\n        object_id: \"object_16\",\r\n        image_field_id: \"field_607\",\r\n        image_browse_field_id: \"field_99\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_100\",\r\n        timestamp_field_id: \"field_101\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Compactor Logs\",\r\n    },\r\n\r\n    {// Create New RADAR Log https://builder.sv.knack.com/apps/trashdash/pages/scene_1511 #33\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4040\",\r\n        object_id: \"object_12\",\r\n        image_field_id: \"field_604\",\r\n        image_browse_field_id: \"field_75\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_795\",\r\n        timestamp_field_id: \"field_796\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/RADAR Logs\",\r\n        exif_source: \"field_2044\",\r\n    },\r\n\r\n    {// Create New RADAR Log https://builder.sv.knack.com/apps/trashdash/pages/scene_1511 #33\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4040\",\r\n        object_id: \"object_12\",\r\n        image_field_id: \"field_605\",\r\n        image_browse_field_id: \"field_76\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_797\",\r\n        timestamp_field_id: \"field_798\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/RADAR Logs\",\r\n        exif_source: \"field_2044\",\r\n    },\r\n\r\n    {//Create New Resident Infraction Infraction https://builder.sv.knack.com/apps/trashdash/pages/scene_1513 #35\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4042\",\r\n        object_id: \"object_10\",\r\n        image_field_id: \"field_614\",\r\n        image_browse_field_id: \"field_63\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_1248\",\r\n        timestamp_field_id: \"field_1247\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\",\r\n    },\r\n\r\n    //   {// Create New Butler Time Clock - Clocked In https://builder.sv.knack.com/apps/trashdash/pages/scene_1566 #34\r\n    //     add_watermark: true,\r\n    //     upload_view_id: \"view_4202\",\r\n    //     object_id: \"object_18\", \r\n    //     image_field_id: \"field_609\", \r\n    //     image_browse_field_id : \"field_115\",\r\n    //     is_multiple: false,\r\n    //     address_field_id: \"field_116\", \r\n    //     timestamp_field_id: \"field_117\",  \r\n    //     folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    //   },\r\n\r\n    //    {// Create New Butler Time Clock - Clocked Out https://builder.sv.knack.com/apps/trashdash/pages/scene_1566 #34\r\n    //     add_watermark: true,\r\n    //     upload_view_id: \"view_4202\",\r\n    //     object_id: \"object_18\", \r\n    //     image_field_id: \"field_260\", \r\n    //     image_browse_field_id : \"field_807\",\r\n    //     is_multiple: false,\r\n    //     address_field_id: \"field_261\", \r\n    //     timestamp_field_id: \"field_262\",  \r\n    //     folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    //   },\r\n\r\n    {//Create New Resident Infraction Infraction https://builder.sv.knack.com/apps/trashdash/pages/scene_1513 #35\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4042\",\r\n        object_id: \"object_10\",\r\n        image_field_id: \"field_615\",\r\n        image_browse_field_id: \"field_64\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_1249\",\r\n        timestamp_field_id: \"field_1250\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\",\r\n    },\r\n\r\n    {// Edit Service Hazard https://builder.sv.knack.com/apps/trashdash/pages/scene_1643 #36\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4467\",\r\n        object_id: \"object_20\",\r\n        image_field_id: \"field_620\",\r\n        image_browse_field_id: \"field_588\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Service Hazards\",\r\n    },\r\n\r\n    {// Edit Service Hazard https://builder.sv.knack.com/apps/trashdash/pages/scene_1643 #37\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4470\",\r\n        object_id: \"object_20\",\r\n        image_field_id: \"field_620\",\r\n        image_browse_field_id: \"field_588\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Service Hazards\",\r\n    },\r\n\r\n    //   {// Edit Existing Butler Time Clock - Clocked In https://builder.sv.knack.com/apps/trashdash/pages/scene_1483 #38\r\n    //     upload_view_id: \"view_3932\",\r\n    //     object_id: \"object_18\", \r\n    //     image_field_id: \"field_609\", \r\n    //     image_browse_field_id : \"field_115\",\r\n    //     is_multiple: false,\r\n    //     address_field_id: \"field_116\", \r\n    //     timestamp_field_id: \"field_117\",  \r\n    //     folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    //   },\r\n\r\n    //    {// Edit Existing Butler Time Clock - Clocked Out https://builder.sv.knack.com/apps/trashdash/pages/scene_1483 #38\r\n    //     add_watermark: true,\r\n    //     upload_view_id: \"view_3932\",\r\n    //     object_id: \"object_18\", \r\n    //     image_field_id: \"field_260\", \r\n    //     image_browse_field_id : \"field_807\",\r\n    //     is_multiple: false,\r\n    //     address_field_id: \"field_261\", \r\n    //     timestamp_field_id: \"field_262\",  \r\n    //     folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    //   },\r\n\r\n    {//Create New Compactor Log https://builder.sv.knack.com/apps/trashdash/pages/scene_1555 #40\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4158\",\r\n        object_id: \"object_16\",\r\n        image_field_id: \"field_607\",\r\n        image_browse_field_id: \"field_99\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_100\",\r\n        timestamp_field_id: \"field_101\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Compactor Logs\",\r\n    },\r\n\r\n    {//Create New Resident Infraction Infraction https://builder.sv.knack.com/apps/trashdash/pages/scene_1557 #41\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4165\",\r\n        object_id: \"object_10\",\r\n        image_field_id: \"field_614\",\r\n        image_browse_field_id: \"field_63\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_1248\",\r\n        timestamp_field_id: \"field_1247\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\",\r\n    },\r\n\r\n\r\n    {//Create New Resident Infraction Infraction https://builder.sv.knack.com/apps/trashdash/pages/scene_1557 #41\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4165\",\r\n        object_id: \"object_10\",\r\n        image_field_id: \"field_615\",\r\n        image_browse_field_id: \"field_64\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_1249\",\r\n        timestamp_field_id: \"field_1250\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\",\r\n    },\r\n\r\n    {// Create New Support Ticket (Support Reason = Service Hazard) https://builder.sv.knack.com/apps/trashdash/pages/scene_1640 #42\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4475\",\r\n        object_id: \"object_20\",\r\n        image_field_id: \"field_620\",\r\n        image_browse_field_id: \"field_588\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Service Hazards\",\r\n    },\r\n\r\n    {// Create New RADAR Log https://builder.sv.knack.com/apps/trashdash/pages/scene_954 #43\r\n        add_watermark: true,\r\n        upload_view_id: \"view_2976\",\r\n        object_id: \"object_12\",\r\n        image_field_id: \"field_604\",\r\n        image_browse_field_id: \"field_75\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_795\",\r\n        timestamp_field_id: \"field_796\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/RADAR Logs\",\r\n    },\r\n\r\n    {// Create New RADAR Log https://builder.sv.knack.com/apps/trashdash/pages/scene_954 #43\r\n        add_watermark: true,\r\n        upload_view_id: \"view_2976\",\r\n        object_id: \"object_12\",\r\n        image_field_id: \"field_605\",\r\n        image_browse_field_id: \"field_76\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_797\",\r\n        timestamp_field_id: \"field_798\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/RADAR Logs\",\r\n    },\r\n\r\n    {//Create New Compactor Log https://builder.sv.knack.com/apps/trashdash/pages/scene_954 #44\r\n        add_watermark: true,\r\n        upload_view_id: \"view_2977\",\r\n        object_id: \"object_16\",\r\n        image_field_id: \"field_607\",\r\n        image_browse_field_id: \"field_99\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_100\",\r\n        timestamp_field_id: \"field_101\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Compactor Logs\",\r\n    },\r\n\r\n    {//Create New Resident Infraction Infraction https://builder.sv.knack.com/apps/trashdash/pages/scene_954 #45\r\n        add_watermark: true,\r\n        upload_view_id: \"view_2978\",\r\n        object_id: \"object_10\",\r\n        image_field_id: \"field_614\",\r\n        image_browse_field_id: \"field_63\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_1248\",\r\n        timestamp_field_id: \"field_1247\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\",\r\n    },\r\n\r\n    {//Create New Resident Infraction Infraction https://builder.sv.knack.com/apps/trashdash/pages/scene_954 #21\r\n        add_watermark: true,\r\n        upload_view_id: \"view_3292\",\r\n        object_id: \"object_10\",\r\n        image_field_id: \"field_614\",\r\n        image_browse_field_id: \"field_63\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_1248\",\r\n        timestamp_field_id: \"field_1247\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\",\r\n    },\r\n\r\n    {//Create New Resident Infraction Infraction https://builder.sv.knack.com/apps/trashdash/pages/scene_954 #21\r\n        add_watermark: true,\r\n        upload_view_id: \"view_3292\",\r\n        object_id: \"object_10\",\r\n        image_field_id: \"field_615\",\r\n        image_browse_field_id: \"field_64\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_1249\",\r\n        timestamp_field_id: \"field_1250\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\",\r\n    },\r\n\r\n\r\n    {//Create New RADAR Log https://builder.sv.knack.com/apps/trashdash/pages/scene_954 #45\r\n        add_watermark: true,\r\n        upload_view_id: \"view_2978\",\r\n        object_id: \"object_10\",\r\n        image_field_id: \"field_615\",\r\n        image_browse_field_id: \"field_64\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_1249\",\r\n        timestamp_field_id: \"field_1250\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/RADAR Logs\",\r\n    },\r\n\r\n    {// Create New Support Ticket (Support Reason = Service Hazard) https://builder.sv.knack.com/apps/trashdash/pages/scene_954 #46\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4730\",\r\n        object_id: \"object_20\",\r\n        image_field_id: \"field_620\",\r\n        image_browse_field_id: \"field_588\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Service Hazards\",\r\n    },\r\n\r\n    {// Edit Existing RADAR Log https://builder.sv.knack.com/apps/trashdash/pages/scene_1063 #47\r\n        add_watermark: true,\r\n        upload_view_id: \"view_2846\",\r\n        object_id: \"object_12\",\r\n        image_field_id: \"field_604\",\r\n        image_browse_field_id: \"field_75\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_795\",\r\n        timestamp_field_id: \"field_796\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/RADAR Logs\",\r\n    },\r\n\r\n    {// Edit Existing RADAR Log https://builder.sv.knack.com/apps/trashdash/pages/scene_1063 #47\r\n        add_watermark: true,\r\n        upload_view_id: \"view_2846\",\r\n        object_id: \"object_12\",\r\n        image_field_id: \"field_605\",\r\n        image_browse_field_id: \"field_76\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_797\",\r\n        timestamp_field_id: \"field_798\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/RADAR Logs\",\r\n    },\r\n\r\n    //   {//Create New Compactor Log https://builder.sv.knack.com/apps/trashdash/pages/scene_1065 #48\r\n    //     add_watermark: true,\r\n    //     upload_view_id: \"view_2849\",\r\n    //     object_id: \"object_16\", \r\n    //     image_field_id: \"field_607\", \r\n    //     image_browse_field_id : \"field_99\",\r\n    //     is_multiple: false,\r\n    //     address_field_id: \"field_100\", \r\n    //     timestamp_field_id: \"field_101\",  \r\n    //     folder: \"2022 Image Uploader - Trash Dash Parent Directory/Compactor Logs\",\r\n    //   },\r\n\r\n    //   {//Edit Existing Resident Infraction https://builder.sv.knack.com/apps/trashdash/pages/scene_1067  #49\r\n    //     add_watermark: true,\r\n    //     upload_view_id: \"view_2852\",\r\n    //     object_id: \"object_10\", \r\n    //     image_field_id: \"field_614\", \r\n    //     image_browse_field_id : \"field_63\",\r\n    //     is_multiple: false,\r\n    //     address_field_id: \"field_1248\", \r\n    //     timestamp_field_id: \"field_1247\",  \r\n    //     folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\",\r\n    //   },\r\n\r\n\r\n    //   {//Edit Existing Resident Infraction https://builder.sv.knack.com/apps/trashdash/pages/scene_1067  #49\r\n    //     add_watermark: true, \r\n    //     upload_view_id: \"view_2852\",\r\n    //     object_id: \"object_10\", \r\n    //     image_field_id: \"field_615\", \r\n    //     image_browse_field_id : \"field_64\",\r\n    //     is_multiple: false,\r\n    //     address_field_id: \"field_1249\", \r\n    //     timestamp_field_id: \"field_1250\",  \r\n    //     folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\",\r\n    //   },\r\n\r\n    {// Edit Existing Support Ticket (Service Hazard) https://builder.sv.knack.com/apps/trashdash/pages/scene_720 #50\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4831\",\r\n        object_id: \"object_20\",\r\n        image_field_id: \"field_620\",\r\n        image_browse_field_id: \"field_588\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Service Hazards\",\r\n    },\r\n\r\n    {// Edit Existing Support Ticket (Service Hazard) https://builder.sv.knack.com/apps/trashdash/pages/scene_802 #51\r\n        add_watermark: true,\r\n        upload_view_id: \"view_2085\",\r\n        object_id: \"object_20\",\r\n        image_field_id: \"field_620\",\r\n        image_browse_field_id: \"field_588\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Service Hazards\",\r\n    },\r\n\r\n    {// Create New Butler Time Clock - Clocked In https://builder.sv.knack.com/apps/trashdash/pages/scene_805 #52\r\n        upload_view_id: \"view_2087\",\r\n        object_id: \"object_18\", //image object id\r\n        image_field_id: \"field_609\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_115\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_116\", // Lat-long\r\n        timestamp_field_id: \"field_117\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    },\r\n\r\n    {// Create New Butler Time Clock - Clocked Out https://builder.sv.knack.com/apps/trashdash/pages/scene_805 #52\r\n        add_watermark: true,\r\n        upload_view_id: \"view_2087\",\r\n        object_id: \"object_18\", //image object id\r\n        image_field_id: \"field_260\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_807\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_261\", // Lat-long\r\n        timestamp_field_id: \"field_262\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    },\r\n\r\n    //    {// Create New Butler Time Clock - Clocked In https://builder.sv.knack.com/apps/trashdash/pages/scene_805 #53\r\n    //     upload_view_id: \"view_2089\",\r\n    //     object_id: \"object_18\", //image object id\r\n    //     image_field_id: \"field_609\", //object_id's image_field_id\r\n    //     image_browse_field_id : \"field_115\",\r\n    //     is_multiple: false,\r\n    //     address_field_id: \"field_116\", // Lat-long\r\n    //     timestamp_field_id: \"field_117\",  \r\n    //     folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    //   },\r\n\r\n    //    {// Create New Butler Time Clock - Clocked Out https://builder.sv.knack.com/apps/trashdash/pages/scene_805 #53\r\n    //     add_watermark: true,\r\n    //     upload_view_id: \"view_2089\",\r\n    //     object_id: \"object_18\", //image object id\r\n    //     image_field_id: \"field_260\", //object_id's image_field_id\r\n    //     image_browse_field_id : \"field_807\",\r\n    //     is_multiple: false,\r\n    //     address_field_id: \"field_261\", // Lat-long\r\n    //     timestamp_field_id: \"field_262\",  \r\n    //     folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    //   },\r\n\r\n    {// Create New Butler Time Clock - Clocked In https://builder.sv.knack.com/apps/trashdash/pages/scene_805 #54\r\n        upload_view_id: \"view_3097\",\r\n        object_id: \"object_18\", //image object id\r\n        image_field_id: \"field_609\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_115\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_116\", // Lat-long\r\n        timestamp_field_id: \"field_117\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    },\r\n\r\n    {// Create New Butler Time Clock - Clocked Out https://builder.sv.knack.com/apps/trashdash/pages/scene_805 #54\r\n        add_watermark: true,\r\n        upload_view_id: \"view_3097\",\r\n        object_id: \"object_18\", //image object id\r\n        image_field_id: \"field_260\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_807\",\r\n        is_multiple: false,\r\n        address_field_id: \"field_261\", // Lat-long\r\n        timestamp_field_id: \"field_262\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    },\r\n\r\n\r\n    //END AREA COMMAND CENTER - Edit Service ID\r\n\r\n    //NONE SERVICE PROCESS\r\n\r\n    {// Create New Community Record https://builder.sv.knack.com/apps/trashdash/pages/scene_734 #12\r\n        add_watermark: false,\r\n        upload_view_id: \"view_1859\",\r\n        object_id: \"object_8\", //image object id\r\n        image_field_id: \"field_2496\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_296\",\r\n        is_multiple: false,\r\n        max_width: 1000,\r\n        image_quality: 100,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Audits\",\r\n    },\r\n\r\n    {// Create New Community Record https://builder.sv.knack.com/apps/trashdash/pages/scene_734 #13\r\n        add_watermark: false,\r\n        upload_view_id: \"view_1859\",\r\n        object_id: \"object_8\", //image object id\r\n        image_field_id: \"field_2495\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_40\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Audits\",\r\n    },\r\n\r\n    {// Edit Existing Community Record https://builder.sv.knack.com/apps/trashdash/pages/scene_931 #14\r\n        add_watermark: false,\r\n        upload_view_id: \"view_2446\",\r\n        object_id: \"object_8\", //image object id\r\n        image_field_id: \"field_2496\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_296\",\r\n        is_multiple: false,\r\n        max_width: 1000,\r\n        image_quality: 100,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Audits\",\r\n    },\r\n\r\n    {// Edit Existing Community Record https://builder.sv.knack.com/apps/trashdash/pages/scene_931 #15\r\n        add_watermark: false,\r\n        upload_view_id: \"view_2446\",\r\n        object_id: \"object_8\", //image object id\r\n        image_field_id: \"field_2495\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_40\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Audits\",\r\n    },\r\n\r\n    {// Edit Existing Site Checklist Record https://builder.sv.knack.com/apps/trashdash/pages/scene_919 #16\r\n        add_watermark: true,\r\n        upload_view_id: \"view_2405\",\r\n        object_id: \"object_19\", //image object id\r\n        image_field_id: \"field_616\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_197\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Audits\",\r\n    },\r\n\r\n    {// Edit Existing Site Checklist Record https://builder.sv.knack.com/apps/trashdash/pages/scene_919 #16\r\n        add_watermark: true,\r\n        upload_view_id: \"view_2405\",\r\n        object_id: \"object_19\", //image object id\r\n        image_field_id: \"field_617\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_200\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Audits\",\r\n    },\r\n\r\n    {// Edit Existing Site Checklist Record https://builder.sv.knack.com/apps/trashdash/pages/scene_919 #16\r\n        add_watermark: true,\r\n        upload_view_id: \"view_2405\",\r\n        object_id: \"object_19\", //image object id\r\n        image_field_id: \"field_618\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_201\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Audits\",\r\n    },\r\n\r\n    {// Edit Existing Site Checklist Record https://builder.sv.knack.com/apps/trashdash/pages/scene_1168 #17\r\n        add_watermark: true,\r\n        upload_view_id: \"view_3113\",\r\n        object_id: \"object_19\", //image object id\r\n        image_field_id: \"field_616\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_197\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Audits\",\r\n    },\r\n\r\n    {// Edit Existing Site Checklist Record https://builder.sv.knack.com/apps/trashdash/pages/scene_1168 #17\r\n        add_watermark: true,\r\n        upload_view_id: \"view_3113\",\r\n        object_id: \"object_19\", //image object id\r\n        image_field_id: \"field_617\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_200\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Audits\",\r\n    },\r\n\r\n    {// Edit Existing Site Checklist Record https://builder.sv.knack.com/apps/trashdash/pages/scene_1168 #17\r\n        add_watermark: true,\r\n        upload_view_id: \"view_3113\",\r\n        object_id: \"object_19\", //image object id\r\n        image_field_id: \"field_618\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_201\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Audits\",\r\n    },\r\n\r\n    {// Add New Management Company Record https://builder.sv.knack.com/apps/trashdash/pages/scene_873 #18\r\n        add_watermark: false,\r\n        upload_view_id: \"view_2252\",\r\n        object_id: \"object_21\", //image object id\r\n        image_field_id: \"field_2497\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_354\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Audits\",\r\n    },\r\n\r\n    {// Edit New Management Company Record https://builder.sv.knack.com/apps/trashdash/pages/scene_873 #19\r\n        add_watermark: false,\r\n        upload_view_id: \"view_2254\",\r\n        object_id: \"object_21\", //image object id\r\n        image_field_id: \"field_2497\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_354\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Audits\",\r\n    },\r\n\r\n    {// Edit Existing Community Record https://builder.sv.knack.com/apps/trashdash/pages/scene_1262 #22\r\n        add_watermark: false,\r\n        upload_view_id: \"view_3646\",\r\n        object_id: \"object_8\", //image object id\r\n        image_field_id: \"field_2496\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_296\",\r\n        is_multiple: false,\r\n        max_width: 1000,\r\n        image_quality: 100,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Audits\",\r\n    },\r\n\r\n    {// Call Center (Add Support Ticket) https://builder.sv.knack.com/apps/trashdash/pages/scene_455 #20\r\n        add_watermark: true,\r\n        upload_view_id: \"view_923\",\r\n        object_id: \"object_20\",\r\n        image_field_id: \"field_2509\",\r\n        image_browse_field_id: \"field_1147\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Support Tickets\",\r\n    },\r\n\r\n    {// Call Center (Add Support Ticket) https://builder.sv.knack.com/apps/trashdash/pages/scene_455 #21\r\n        add_watermark: true,\r\n        upload_view_id: \"view_923\",\r\n        object_id: \"object_20\",\r\n        image_field_id: \"field_2510\",\r\n        image_browse_field_id: \"field_1214\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Support Tickets\",\r\n    },\r\n\r\n\r\n    //END NONE SERVICE PROCESS\r\n\r\n    //SITE AUDIT\r\n    // Butler Audit 3 fields Site Audit Other Role\r\n    { // https://builder.sv.knack.com/apps/trashdash/pages/scene_1697 #1\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4819\",\r\n        object_id: \"object_96\",\r\n        image_field_id: \"field_1835\",\r\n        image_browse_field_id: \"field_1834\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Audits\",\r\n    },\r\n\r\n    { // https://builder.sv.knack.com/apps/trashdash/pages/scene_1697 #2\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4819\",\r\n        object_id: \"object_96\",\r\n        image_field_id: \"field_1838\",\r\n        image_browse_field_id: \"field_1837\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Audits\",\r\n    },\r\n\r\n    { // https://builder.sv.knack.com/apps/trashdash/pages/scene_1697 #3\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4819\",\r\n        object_id: \"object_96\",\r\n        image_field_id: \"field_1841\",\r\n        image_browse_field_id: \"field_1840\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Audits\",\r\n    },\r\n\r\n    // Butler Audit 3 fields ACC\r\n    { // https://builder.sv.knack.com/apps/trashdash/pages/scene_1697 #1\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4493\",\r\n        object_id: \"object_96\",\r\n        image_field_id: \"field_1835\",\r\n        image_browse_field_id: \"field_1834\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Audits\",\r\n    },\r\n\r\n    { // https://builder.sv.knack.com/apps/trashdash/pages/scene_1697 #2\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4493\",\r\n        object_id: \"object_96\",\r\n        image_field_id: \"field_1838\",\r\n        image_browse_field_id: \"field_1837\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Audits\",\r\n    },\r\n\r\n    { // https://builder.sv.knack.com/apps/trashdash/pages/scene_1697 #3\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4493\",\r\n        object_id: \"object_96\",\r\n        image_field_id: \"field_1841\",\r\n        image_browse_field_id: \"field_1840\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Audits\",\r\n    },\r\n\r\n    // PDF IMAGE UPLOADER\r\n\r\n    {// Create New Community Record - Property Map PDF https://builder.sv.knack.com/apps/trashdash/pages/scene_734 #2\r\n        add_watermark: false,\r\n        upload_view_id: \"view_1859\",\r\n        object_id: \"object_8\", //image object id\r\n        image_field_id: \"field_2552\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_1125\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Documents/Maps\",\r\n        accepted_files: ['application/pdf']\r\n    },\r\n\r\n    {// Create New Community Record - Community Letter PDF https://builder.sv.knack.com/apps/trashdash/pages/scene_734 #2\r\n        add_watermark: false,\r\n        upload_view_id: \"view_1859\",\r\n        object_id: \"object_8\", //image object id\r\n        image_field_id: \"field_2553\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_554\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Documents/Maps\",\r\n        accepted_files: ['application/pdf']\r\n    },\r\n\r\n    {// Create New Community Record - Property Map PDF https://builder.sv.knack.com/apps/trashdash/pages/scene_734 #6\r\n        add_watermark: false,\r\n        upload_view_id: \"view_2446\",\r\n        object_id: \"object_8\", //image object id\r\n        image_field_id: \"field_2552\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_1125\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Documents/Maps\",\r\n        accepted_files: ['application/pdf']\r\n    },\r\n\r\n    {// Create New Community Record - Community Letter PDF https://builder.sv.knack.com/apps/trashdash/pages/scene_734 #7\r\n        add_watermark: false,\r\n        upload_view_id: \"view_2446\",\r\n        object_id: \"object_8\", //image object id\r\n        image_field_id: \"field_2554\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_1142\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Audits/PDF\",\r\n        accepted_files: ['application/pdf']\r\n    },\r\n\r\n    {// Create New Community Record - Property Map PDF https://builder.sv.knack.com/apps/trashdash/pages/scene_734 #8\r\n        add_watermark: false,\r\n        upload_view_id: \"view_2446\",\r\n        object_id: \"object_8\", //image object id\r\n        image_field_id: \"field_2555\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_1143\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Documents/Maps\",\r\n        accepted_files: ['application/pdf']\r\n    },\r\n\r\n    {// Create New Community Record - Community Letter PDF https://builder.sv.knack.com/apps/trashdash/pages/scene_734 #9\r\n        add_watermark: false,\r\n        upload_view_id: \"view_2446\",\r\n        object_id: \"object_8\", //image object id\r\n        image_field_id: \"field_2553\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_554\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Documents/Contracts\",\r\n        accepted_files: ['application/pdf']\r\n    },\r\n\r\n    {// Create New Community Flyer Version Record Create New Community Flyer Version Record\thttps://builder.sv.knack.com/apps/trashdash/pages/scene_1231 #4\r\n        add_watermark: false,\r\n        upload_view_id: \"view_3297\",\r\n        object_id: \"object_74\", //image object id\r\n        image_field_id: \"field_2556\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_1277\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Flyer Version (PDFs)\",\r\n        accepted_files: ['application/pdf']\r\n    },\r\n\r\n    {// Edit New Community Flyer Version Record Create New Community Flyer Version Record\thttps://builder.sv.knack.com/apps/trashdash/pages/scene_931 #5\r\n        add_watermark: false,\r\n        upload_view_id: \"view_3300\",\r\n        object_id: \"object_74\", //image object id\r\n        image_field_id: \"field_2556\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_1278\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Flyer Version (PDFs)\",\r\n        accepted_files: ['application/pdf']\r\n    },\r\n\r\n    {//Edit Contract Information (Contract Document PDF)\thttps://builder.sv.knack.com/apps/trashdash/pages/scene_979/views/view_2581/form #10\r\n        add_watermark: false,\r\n        upload_view_id: \"view_2581\",\r\n        object_id: \"object_8\", //image object id\r\n        image_field_id: \"field_2557\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_948\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Documents/Contracts\",\r\n        accepted_files: ['application/pdf']\r\n    },\r\n\r\n    {//Edit Contract Information (Addendum PDF)\thttps://builder.sv.knack.com/apps/trashdash/pages/scene_979/views/view_2581/form #11\r\n        add_watermark: false,\r\n        upload_view_id: \"view_2581\",\r\n        object_id: \"object_8\", //image object id\r\n        image_field_id: \"field_2558\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_1129\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Documents/Contracts\",\r\n        accepted_files: ['application/pdf']\r\n    },\r\n\r\n    {//Edit Contract Information (Master Agreement PDF)\thttps://builder.sv.knack.com/apps/trashdash/pages/scene_979/views/view_2581/form #12\r\n        add_watermark: false,\r\n        upload_view_id: \"view_2581\",\r\n        object_id: \"object_8\", //image object id\r\n        image_field_id: \"field_2559\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_1130\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Documents/Contracts\",\r\n        accepted_files: ['application/pdf']\r\n    },\r\n\r\n\r\n\r\n    // END PDF IMAGE UPLOADER\r\n\r\n\r\n    {//KENT Multi Image Uploader -Community Audits\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4993\",\r\n        object_id: \"object_107\", //image object id\r\n        image_field_id: \"field_2237\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_197\",\r\n        image_connection_field_id: \"field_616\",\r\n        connection_field_id: \"field_2241\",\r\n        is_multiple: true,\r\n        address_field_id: \"field_2278\", // Lat-long\r\n        timestamp_field_id: \"field_2279\",\r\n        upload_limit: 10,\r\n        // server_side: true,\r\n        service_id: \"field_1245\",\r\n        log_id: \"field_3075\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Audits\",\r\n\r\n        list_view_id: \"view_4877\",\r\n    },\r\n\r\n    {//KENT Multi Image Uploader -Community Audits ACC https://builder.sv.knack.com/apps/trashdash/pages/scene_1661/views/view_5003/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5003\",\r\n        object_id: \"object_107\", //image object id\r\n        image_field_id: \"field_2237\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_197\",\r\n        image_connection_field_id: \"field_616\",\r\n        connection_field_id: \"field_2241\",\r\n        is_multiple: true,\r\n        address_field_id: \"field_2278\", // Lat-long\r\n        timestamp_field_id: \"field_2279\",\r\n        upload_limit: 10,\r\n        service_id: \"field_1245\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Audits\",\r\n\r\n    },\r\n\r\n    {//KENT Multi Image Uploader -Community Audits Management https://builder.sv.knack.com/apps/trashdash/pages/scene_919/views/view_5002/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5002\",\r\n        object_id: \"object_107\", //image object id\r\n        image_field_id: \"field_2237\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_197\",\r\n        image_connection_field_id: \"field_616\",\r\n        connection_field_id: \"field_2241\",\r\n        is_multiple: true,\r\n        address_field_id: \"field_2278\", // Lat-long\r\n        timestamp_field_id: \"field_2279\",\r\n        upload_limit: 10,\r\n        service_id: \"field_1245\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Audits\",\r\n    },\r\n\r\n    {//KENT Multi Image Uploader -Community Audits Management https://builder.sv.knack.com/apps/trashdash/pages/scene_709/views/view_5004/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5004\",\r\n        object_id: \"object_107\", //image object id\r\n        image_field_id: \"field_2237\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_197\",\r\n        image_connection_field_id: \"field_616\",\r\n        connection_field_id: \"field_2241\",\r\n        is_multiple: true,\r\n        address_field_id: \"field_2278\", // Lat-long\r\n        timestamp_field_id: \"field_2279\",\r\n        upload_limit: 10,\r\n        service_id: \"field_1245\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Community Audits\",\r\n    },\r\n\r\n    {//KENT Multi Image Uploader -Butler Audits \r\n        add_watermark: true,\r\n        upload_view_id: \"view_5361\",\r\n        object_id: \"object_107\", //image object id\r\n        image_field_id: \"field_2237\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_197\",\r\n        image_connection_field_id: \"field_616\",\r\n        connection_field_id: \"field_2963\",\r\n        is_multiple: true,\r\n        address_field_id: \"field_2278\", // Lat-long\r\n        timestamp_field_id: \"field_2279\",\r\n        list_view_id: \"view_5371\", //JOSH TEST \r\n        upload_limit: 10,\r\n        service_id: \"field_1245\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Audits\",\r\n    },\r\n\r\n    {//KENT Multi Image Uploader -Butler Audits \r\n        add_watermark: true,\r\n        upload_view_id: \"view_5360\",\r\n        object_id: \"object_107\", //image object id\r\n        image_field_id: \"field_2237\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_197\",\r\n        image_connection_field_id: \"field_616\",\r\n        connection_field_id: \"field_2963\",\r\n        is_multiple: true,\r\n        address_field_id: \"field_2278\", // Lat-long\r\n        timestamp_field_id: \"field_2279\",\r\n        list_view_id: \"view_5358\", //\r\n        upload_limit: 10,\r\n        service_id: \"field_1245\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Audits\",\r\n    },\r\n\r\n    {//Create New Popup Template https://builder.sv.knack.com/apps/trashdash/pages/scene_1905\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5222\",\r\n        object_id: \"object_10\", //image object id\r\n        image_field_id: \"field_2879\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_2649\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Popup Template\",\r\n    },\r\n    {//Edit Popup Template https://builder.sv.knack.com/apps/trashdash/pages/scene_1901/views/view_5211/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5211\",\r\n        object_id: \"object_10\", //image object id\r\n        image_field_id: \"field_2879\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_2649\",\r\n        is_multiple: false,\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Popup Template\",\r\n    },\r\n    {//JOSH SERVICE HAZARD\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4163\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_browse_field_id: \"field_197\", //JOSH NOT SURE\r\n        image_connection_field_id: \"field_3013\", //Parent Field ID\r\n        connection_field_id: \"field_2244\",\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_1501',\r\n        email_image_id: \"field_3018\",\r\n        is_multiple: true,\r\n        address_field_id: \"field_3021\", // Lat-long\r\n        timestamp_field_id: \"field_3022\",\r\n        list_view_id: \"view_5455\",\r\n        upload_limit: 10,\r\n        service_id: \"field_1544\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Service Hazards\"\r\n    }, {//JOSH SERVICE HAZARD\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5439\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_browse_field_id: \"field_197\", //JOSH NOT SURE\r\n        image_connection_field_id: \"field_3013\", //Parent Field ID\r\n        connection_field_id: \"field_2244\",\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_1501',\r\n        is_multiple: true,\r\n        address_field_id: \"field_3021\", // Lat-long\r\n        timestamp_field_id: \"field_3022\",\r\n        upload_limit: 10,\r\n        list_view_id: \"view_5440\",\r\n        service_id: \"field_1544\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Service Hazards\"\r\n    },\r\n    {//JOSH SERVICE HAZARD butler https://builder.sv.knack.com/apps/trashdash/pages/scene_613/views/view_4089/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4089\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_browse_field_id: \"field_197\", //JOSH NOT SURE\r\n        image_connection_field_id: \"field_3013\", //Parent Field ID\r\n        connection_field_id: \"field_2244\",\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_1501',\r\n        is_multiple: true,\r\n        address_field_id: \"field_3021\", // Lat-long\r\n        timestamp_field_id: \"field_3022\",\r\n        email_image_id: \"field_3018\",\r\n        isRequired: true,\r\n        upload_limit: 10,\r\n        service_id: \"field_1544\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Service Hazards\"\r\n    },\r\n    {//JOSH SERVICE HAZARD butler HAZARD DETAILS https://builder.sv.knack.com/apps/trashdash/pages/scene_1958/views/view_5446/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5446\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_browse_field_id: \"field_197\", //JOSH NOT SURE\r\n        image_connection_field_id: \"field_3013\", //Parent Field ID\r\n        connection_field_id: \"field_2244\",\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_1501',\r\n        is_multiple: true,\r\n        address_field_id: \"field_3021\", // Lat-long\r\n        timestamp_field_id: \"field_3022\",\r\n        upload_limit: 10,\r\n        service_id: \"field_1544\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Service Hazards\"\r\n    }, {//JOSH SERVICE HAZARD Area Supervisor https://builder.sv.knack.com/apps/trashdash/pages/scene_1538/views/view_4094/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4094\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_browse_field_id: \"field_197\", //JOSH NOT SURE\r\n        image_connection_field_id: \"field_3013\", //Parent Field ID\r\n        connection_field_id: \"field_2244\",\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_1501',\r\n        is_multiple: true,\r\n        address_field_id: \"field_3021\", // Lat-long\r\n        timestamp_field_id: \"field_3022\",\r\n        upload_limit: 10,\r\n        list_view_id: \"view_5437\",\r\n        service_id: \"field_1544\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Service Hazards\"\r\n    },\r\n    {//JOSH Service ID > Report SERVICE HAZARD Area Supervisor https://builder.sv.knack.com/apps/trashdash/pages/scene_1517/views/view_4050/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4050\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_browse_field_id: \"field_197\", //JOSH NOT SURE\r\n        image_connection_field_id: \"field_3013\", //Parent Field ID\r\n        connection_field_id: \"field_2244\",\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_1501',\r\n        is_multiple: true,\r\n        address_field_id: \"field_3021\", // Lat-long\r\n        timestamp_field_id: \"field_3022\",\r\n        email_image_id: \"field_3018\",\r\n        upload_limit: 10,\r\n        service_id: \"field_1544\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Service Hazards\"\r\n    },\r\n    {//JOSH Service ID > Report SERVICE HAZARD Area Supervisor https://builder.sv.knack.com/apps/trashdash/pages/scene_1517/views/view_4050/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_3781\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_browse_field_id: \"field_197\", //JOSH NOT SURE\r\n        image_connection_field_id: \"field_3013\", //Parent Field ID\r\n        connection_field_id: \"field_2244\",\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_1501',\r\n        is_multiple: true,\r\n        address_field_id: \"field_3021\", // Lat-long\r\n        timestamp_field_id: \"field_3022\",\r\n        upload_limit: 10,\r\n        list_view_id: \"view_5462\",\r\n        service_id: \"field_1544\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Service Hazards\"\r\n    },\r\n    {//JOSH Service ID > Report SERVICE HAZARD Area Supervisor https://builder.sv.knack.com/apps/trashdash/pages/scene_1959/views/view_5454/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5454\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_browse_field_id: \"field_197\", //JOSH NOT SURE\r\n        image_connection_field_id: \"field_3013\", //Parent Field ID\r\n        connection_field_id: \"field_2244\",\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_1501',\r\n        is_multiple: true,\r\n        address_field_id: \"field_3021\", // Lat-long\r\n        timestamp_field_id: \"field_3022\",\r\n        upload_limit: 10,\r\n        list_view_id: \"view_5455\",\r\n        service_id: \"field_1544\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Service Hazards\"\r\n    },\r\n    {//JOSH SERVICE HAZARD > Report SERVICE HAZARD https://builder.sv.knack.com/apps/trashdash/pages/scene_1410/views/view_3782/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_3782\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_browse_field_id: \"field_197\", //JOSH NOT SURE\r\n        image_connection_field_id: \"field_3013\", //Parent Field ID\r\n        connection_field_id: \"field_2244\",\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_1501',\r\n        email_image_id: \"field_3018\",\r\n        is_multiple: true,\r\n        address_field_id: \"field_3021\", // Lat-long\r\n        timestamp_field_id: \"field_3022\",\r\n        upload_limit: 10,\r\n        service_id: \"field_1544\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Service Hazards\"\r\n    },\r\n    {//JOSH SERVICE HAZARD > Report SERVICE HAZARD https://builder.sv.knack.com/apps/trashdash/pages/scene_1410/views/view_5526/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5526\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_browse_field_id: \"field_197\", //JOSH NOT SURE\r\n        image_connection_field_id: \"field_3013\", //Parent Field ID\r\n        connection_field_id: \"field_2244\",\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_1501',\r\n        email_image_id: \"field_3018\",\r\n        is_multiple: true,\r\n        address_field_id: \"field_3021\", // Lat-long\r\n        timestamp_field_id: \"field_3022\",\r\n        upload_limit: 10,\r\n        service_id: \"field_1544\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Service Hazards\"\r\n    },\r\n    {//JOSH SERVICE HAZARD > Report SERVICE HAZARD https://builder.sv.knack.com/apps/trashdash/pages/scene_1410/views/view_5530/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5530\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_browse_field_id: \"field_197\", //JOSH NOT SURE\r\n        image_connection_field_id: \"field_3013\", //Parent Field ID\r\n        connection_field_id: \"field_2244\",\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_1501',\r\n        email_image_id: \"field_3018\",\r\n        is_multiple: true,\r\n        address_field_id: \"field_3021\", // Lat-long\r\n        timestamp_field_id: \"field_3022\",\r\n        upload_limit: 10,\r\n        service_id: \"field_1544\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Service Hazards\"\r\n    },\r\n    {//JOSH SERVICE HAZARD > Report SERVICE HAZARD https://builder.sv.knack.com/apps/trashdash/pages/scene_1410/views/view_5534/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5534\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_browse_field_id: \"field_197\", //JOSH NOT SURE\r\n        image_connection_field_id: \"field_3013\", //Parent Field ID\r\n        connection_field_id: \"field_2244\",\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_1501',\r\n        email_image_id: \"field_3018\",\r\n        is_multiple: true,\r\n        address_field_id: \"field_3021\", // Lat-long\r\n        timestamp_field_id: \"field_3022\",\r\n        upload_limit: 10,\r\n        service_id: \"field_1544\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Service Hazards\"\r\n    },\r\n    {//JOSH SERVICE HAZARD > Report SERVICE HAZARD > Details https://builder.sv.knack.com/apps/trashdash/pages/scene_1960/views/view_5457/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5457\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_browse_field_id: \"field_197\", //JOSH NOT SURE\r\n        image_connection_field_id: \"field_3013\", //Parent Field ID\r\n        connection_field_id: \"field_2244\",\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_1501',\r\n        is_multiple: true,\r\n        address_field_id: \"field_3021\", // Lat-long\r\n        timestamp_field_id: \"field_3022\",\r\n        list_view_id: \"view_5458\",\r\n        upload_limit: 10,\r\n        service_id: \"field_1544\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Service Hazards\"\r\n    },\r\n    {//JOSH SERVICE HAZARD > Report SERVICE HAZARD > Details https://builder.sv.knack.com/apps/trashdash/pages/scene_954/views/view_5459/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5459\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_browse_field_id: \"field_197\", //JOSH NOT SURE\r\n        image_connection_field_id: \"field_3013\", //Parent Field ID\r\n        connection_field_id: \"field_2244\",\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_1501',\r\n        is_multiple: true,\r\n        address_field_id: \"field_3021\", // Lat-long\r\n        timestamp_field_id: \"field_3022\",\r\n        list_view_id: \"view_3792\",\r\n        email_image_id: \"field_3018\",\r\n        upload_limit: 10,\r\n        service_id: \"field_1544\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Service Hazards\"\r\n    },\r\n    {//JOSH INFRACTION > BUTLER FORM https://builder.sv.knack.com/apps/trashdash/pages/scene_43/views/view_5502/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5502\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_connection_field_id: \"field_615\", //Parent Field Image ID\r\n        address_field_id: \"field_1249\", // Lat-long\r\n        timestamp_field_id: \"field_1250\",\r\n        connection_field_id: \"field_2242\", //FlexAdd connection to Parent field\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_146',\r\n        is_multiple: true,\r\n        isRequired: true,\r\n        upload_limit: 10,\r\n        email_image_id: \"field_3020\",\r\n        list_view_id: \"view_5511\",\r\n        service_id: \"field_104\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\"\r\n    },\r\n    {//JOSH INFRACTION > BUTLER DETAILS/FORM https://builder.sv.knack.com/apps/trashdash/pages/scene_1969/views/view_5510/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5510\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_connection_field_id: \"field_615\", //Parent Field Image ID\r\n        address_field_id: \"field_1249\", // Lat-long\r\n        timestamp_field_id: \"field_1250\",\r\n        connection_field_id: \"field_2242\", //FlexAdd connection to Parent field\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_146',\r\n        is_multiple: true,\r\n        isRequired: true,\r\n        upload_limit: 10,\r\n        list_view_id: \"view_5511\",\r\n        service_id: \"field_104\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\"\r\n    },\r\n    {//JOSH INFRACTION > SERVICE - ALL SERVICE IDS https://builder.sv.knack.com/apps/trashdash/pages/scene_1068/views/view_5587/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5587\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_connection_field_id: \"field_615\", //Parent Field Image ID\r\n        address_field_id: \"field_1249\", // Lat-long\r\n        timestamp_field_id: \"field_1250\",\r\n        connection_field_id: \"field_2242\", //FlexAdd connection to Parent field\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_146',\r\n        is_multiple: true,\r\n        isRequired: true,\r\n        upload_limit: 10,\r\n        list_view_id: \"view_5511\",\r\n        service_id: \"field_104\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\"\r\n    },\r\n    {//JOSH INFRACTION > EDIT SERVICE ALL ROLE FORM https://builder.sv.knack.com/apps/trashdash/pages/scene_954/views/view_5588/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5588\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_connection_field_id: \"field_615\", //Parent Field Image ID\r\n        address_field_id: \"field_1249\", // Lat-long\r\n        timestamp_field_id: \"field_1250\",\r\n        connection_field_id: \"field_2242\", //FlexAdd connection to Parent field\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_146',\r\n        is_multiple: true,\r\n        upload_limit: 10,\r\n        email_image_id: \"field_3020\",\r\n        list_view_id: \"view_5593\",\r\n        service_id: \"field_104\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\"\r\n    },\r\n    {//JOSH INFRACTION > EDIT SERVICE ALL ROLE FORM https://builder.sv.knack.com/apps/trashdash/pages/scene_1984/views/view_5590/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5590\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_connection_field_id: \"field_615\", //Parent Field Image ID\r\n        address_field_id: \"field_1249\", // Lat-long\r\n        timestamp_field_id: \"field_1250\",\r\n        connection_field_id: \"field_2242\", //FlexAdd connection to Parent field\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_146',\r\n        is_multiple: true,\r\n        isRequired: true,\r\n        upload_limit: 10,\r\n        email_image_id: \"field_3020\",\r\n        list_view_id: \"view_5591\",\r\n        service_id: \"field_104\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\"\r\n    },\r\n    {//JOSH ADD INFRACTION > SERVICE - ALL SERVICE IDS https://builder.sv.knack.com/apps/trashdash/pages/scene_1998/views/view_5664/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5664\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_connection_field_id: \"field_615\", //Parent Field Image ID\r\n        address_field_id: \"field_1249\", // Lat-long\r\n        timestamp_field_id: \"field_1250\",\r\n        connection_field_id: \"field_2242\", //FlexAdd connection to Parent field\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_146',\r\n        is_multiple: true,\r\n        isRequired: true,\r\n        upload_limit: 10,\r\n        list_view_id: \"view_5511\",\r\n        service_id: \"field_104\",\r\n        email_image_id: \"field_3020\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\"\r\n    },\r\n    {//JOSH INFRACTION > AMCC - EDIT > Add Infraction https://builder.sv.knack.com/apps/trashdash/pages/scene_1513/views/view_5600/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5600\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_connection_field_id: \"field_615\", //Parent Field Image ID\r\n        address_field_id: \"field_1249\", // Lat-long\r\n        timestamp_field_id: \"field_1250\",\r\n        connection_field_id: \"field_2242\", //FlexAdd connection to Parent field\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_146',\r\n        is_multiple: true,\r\n        isRequired: true,\r\n        upload_limit: 10,\r\n        list_view_id: \"view_5511\",\r\n        service_id: \"field_104\",\r\n        email_image_id: \"field_3020\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\"\r\n    },\r\n    {//JOSH INFRACTION > AMCC - EDIT > Add Infraction https://builder.sv.knack.com/apps/trashdash/pages/scene_1507/views/view_5612/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5612\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_connection_field_id: \"field_615\", //Parent Field Image ID\r\n        address_field_id: \"field_1249\", // Lat-long\r\n        timestamp_field_id: \"field_1250\",\r\n        connection_field_id: \"field_2242\", //FlexAdd connection to Parent field\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_146',\r\n        is_multiple: true,\r\n        isRequired: true,\r\n        upload_limit: 10,\r\n        list_view_id: \"view_5511\",\r\n        service_id: \"field_104\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\"\r\n    },\r\n    {//JOSH INFRACTION > AMCC FORM https://builder.sv.knack.com/apps/trashdash/pages/scene_1557/views/view_5606/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5606\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_connection_field_id: \"field_615\", //Parent Field Image ID\r\n        address_field_id: \"field_1249\", // Lat-long\r\n        timestamp_field_id: \"field_1250\",\r\n        connection_field_id: \"field_2242\", //FlexAdd connection to Parent field\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_146',\r\n        is_multiple: true,\r\n        isRequired: true,\r\n        upload_limit: 10,\r\n        email_image_id: \"field_3020\",\r\n        list_view_id: \"view_5511\",\r\n        service_id: \"field_104\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\"\r\n    },\r\n    {//JOSH INFRACTION > SERVICES EDIT/FORM https://builder.sv.knack.com/apps/trashdash/pages/scene_1067/views/view_2852/form\r\n        //INFRACTION REMOVE FIELD  PHOTO 1\r\n        add_watermark: true,\r\n        upload_view_id: \"view_2852\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_connection_field_id: \"field_615\", //Parent Field Image ID\r\n        address_field_id: \"field_1248\", // Lat-long\r\n        timestamp_field_id: \"field_1247\",\r\n        connection_field_id: \"field_2242\", //FlexAdd connection to Parent field\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_146',\r\n        is_multiple: true,\r\n        upload_limit: 10,\r\n        list_view_id: \"view_5511\",\r\n        service_id: \"field_104\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\"\r\n    },\r\n    //NEW RADAR LOGS\r\n    {//JOSH BULTER - UPDATE - RADAR LOG - https://builder.sv.knack.com/apps/trashdash/pages/scene_951/views/view_5546/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5546\",\r\n        object_id: \"object_107\", //image object id\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEXADD\r\n        image_connection_field_id: \"field_605\", //IMAGE CLOUD PARENT's\r\n        connection_field_id: \"field_2251\", //FLEXADD\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: \"field_155\",\r\n        is_multiple: true,\r\n        isRequired: true,\r\n        address_field_id: \"field_797\", // Lat-long\r\n        timestamp_field_id: \"field_798\",\r\n        upload_limit: 10,\r\n        service_id: \"field_269\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/RADAR Logs\",\r\n    },\r\n    //     {//JOSH BULTER - UPDATE - RADAR LOG - https://builder.sv.knack.com/apps/trashdash/pages/scene_1544/views/view_4117/form\r\n    //         add_watermark: true,\r\n    //         upload_view_id: \"view_4117\",\r\n    //         object_id: \"object_107\", //image object id\r\n    //         image_field_id: \"field_2237\", //object_id's image_field_id FLEXADD\r\n    //         image_connection_field_id: \"field_605\", //IMAGE CLOUD PARENT's\r\n    //         connection_field_id : \"field_2251\", //FLEXADD\r\n    //         is_multiple: true,\r\n    //         address_field_id: \"field_797\", // Lat-long\r\n    //         timestamp_field_id: \"field_798\",\r\n    //         upload_limit : 10,\r\n    //         service_id: \"field_269\",\r\n    //         folder: \"2022 Image Uploader - Trash Dash Parent Directory/RADAR Logs\",\r\n    //     },\r\n    {//JOSH BULTER - UPDATE - RADAR LOG - https://builder.sv.knack.com/apps/trashdash/pages/scene_951/views/view_5546/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5549\",\r\n        object_id: \"object_107\", //image object id\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEXADD\r\n        image_connection_field_id: \"field_605\", //IMAGE CLOUD PARENT's\r\n        connection_field_id: \"field_2251\", //FLEXADD\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: \"field_155\",\r\n        is_multiple: true,\r\n        isRequired: true,\r\n        address_field_id: \"field_797\", // Lat-long\r\n        timestamp_field_id: \"field_798\",\r\n        upload_limit: 10,\r\n        service_id: \"field_269\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/RADAR Logs\",\r\n    },\r\n    {//JOSH BULTER - UPDATE - RADAR LOG - https://builder.sv.knack.com/apps/trashdash/pages/scene_951/views/view_5546/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5557\",\r\n        object_id: \"object_107\", //image object id\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEXADD\r\n        image_connection_field_id: \"field_605\", //IMAGE CLOUD PARENT's\r\n        connection_field_id: \"field_2251\", //FLEXADD\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: \"field_155\",\r\n        is_multiple: true,\r\n        address_field_id: \"field_797\", // Lat-long\r\n        timestamp_field_id: \"field_798\",\r\n        upload_limit: 10,\r\n        service_id: \"field_269\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/RADAR Logs\",\r\n    },\r\n    {//JOSH BULTER - Services EDIT - RADAR LOG - https://builder.sv.knack.com/apps/trashdash/pages/scene_1063/views/view_5553/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5553\",\r\n        object_id: \"object_107\", //image object id\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEXADD\r\n        image_connection_field_id: \"field_605\", //IMAGE CLOUD PARENT's\r\n        connection_field_id: \"field_2251\", //FLEXADD\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: \"field_155\",\r\n        is_multiple: true,\r\n        address_field_id: \"field_797\", // Lat-long\r\n        timestamp_field_id: \"field_798\",\r\n        upload_limit: 10,\r\n        service_id: \"field_269\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/RADAR Logs\",\r\n    },\r\n    {//JOSH ACC - ADD - RADAR LOG - https://builder.sv.knack.com/apps/trashdash/pages/scene_1544/views/view_5561/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5561\",\r\n        object_id: \"object_107\", //image object id\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEXADD\r\n        image_connection_field_id: \"field_605\", //IMAGE CLOUD PARENT's\r\n        connection_field_id: \"field_2251\", //FLEXADD\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: \"field_155\",\r\n        is_multiple: true,\r\n        isRequired: true,\r\n        address_field_id: \"field_797\", // Lat-long\r\n        timestamp_field_id: \"field_798\",\r\n        upload_limit: 10,\r\n        service_id: \"field_269\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/RADAR Logs\",\r\n    },\r\n    {//JOSH ACC - ADD - RADAR LOG - https://builder.sv.knack.com/apps/trashdash/pages/scene_1544/views/view_5561/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5594\",\r\n        object_id: \"object_107\", //image object id\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEXADD\r\n        image_connection_field_id: \"field_605\", //IMAGE CLOUD PARENT's\r\n        connection_field_id: \"field_2251\", //FLEXADD\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: \"field_155\",\r\n        is_multiple: true,\r\n        isRequired: true,\r\n        address_field_id: \"field_797\", // Lat-long\r\n        timestamp_field_id: \"field_798\",\r\n        upload_limit: 10,\r\n        service_id: \"field_269\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/RADAR Logs\",\r\n    },\r\n    {//JOSH ACC - ADD - RADAR LOG - https://builder.sv.knack.com/apps/trashdash/pages/scene_2001/views/view_5673/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5673\",\r\n        object_id: \"object_107\", //image object id\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEXADD\r\n        image_connection_field_id: \"field_605\", //IMAGE CLOUD PARENT's\r\n        connection_field_id: \"field_2251\", //FLEXADD\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: \"field_155\",\r\n        is_multiple: true,\r\n        isRequired: true,\r\n        address_field_id: \"field_797\", // Lat-long\r\n        timestamp_field_id: \"field_798\",\r\n        upload_limit: 10,\r\n        service_id: \"field_269\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/RADAR Logs\",\r\n    },\r\n    {//JOSH ACC - ADD - RADAR LOG - https://builder.sv.knack.com/apps/trashdash/pages/scene_1511/views/view_5562/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5562\",\r\n        object_id: \"object_107\", //image object id\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEXADD\r\n        image_connection_field_id: \"field_605\", //IMAGE CLOUD PARENT's\r\n        connection_field_id: \"field_2251\", //FLEXADD\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: \"field_155\",\r\n        is_multiple: true,\r\n        isRequired: true,\r\n        address_field_id: \"field_797\", // Lat-long\r\n        timestamp_field_id: \"field_798\",\r\n        upload_limit: 10,\r\n        service_id: \"field_269\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/RADAR Logs\",\r\n    },\r\n    {//JOSH BUTLER - ADD - COMPACTOR LOG BEFORE - https://builder.sv.knack.com/apps/trashdash/pages/scene_42/views/view_5567/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5567\",\r\n        object_id: \"object_107\", //image object id\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEXADD\r\n        image_connection_field_id: \"field_3047\", //IMAGE CLOUD PARENT's\r\n        connection_field_id: \"field_2250\", //FLEXADD\r\n        is_multiple: true,\r\n        isRequired: true,\r\n        address_field_id: \"field_100\", // Lat-long PARENTS\r\n        timestamp_field_id: \"field_1928\", // PARENTS\r\n        upload_limit: 10,\r\n        service_id: \"field_97\",\r\n        media_caption: \"Compactor Before Service\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Compactor Logs\",\r\n    },\r\n    {//JOSH BUTLER - ADD - COMPACTOR LOG AMCC - https://builder.sv.knack.com/apps/trashdash/pages/scene_1555/views/view_5611/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5611\",\r\n        object_id: \"object_107\", //image object id\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEXADD\r\n        image_connection_field_id: \"field_3047\", //IMAGE CLOUD PARENT's\r\n        connection_field_id: \"field_2250\", //FLEXADD\r\n        is_multiple: true,\r\n        isRequired: true,\r\n        address_field_id: \"field_100\", // Lat-long PARENTS\r\n        timestamp_field_id: \"field_1928\", // PARENTS\r\n        upload_limit: 10,\r\n        service_id: \"field_97\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Compactor Logs\",\r\n    },\r\n    {//JOSH BUTLER - ADD - COMPACTOR LOG BEFORE - https://builder.sv.knack.com/apps/trashdash/pages/scene_42/views/view_5571/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5571\",\r\n        object_id: \"object_107\", //image object id\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEXADD\r\n        image_connection_field_id: \"field_3047\", //IMAGE CLOUD PARENT's\r\n        connection_field_id: \"field_2250\", //FLEXADD\r\n        is_multiple: true,\r\n        isRequired: true,\r\n        address_field_id: \"field_100\", // Lat-long PARENTS\r\n        timestamp_field_id: \"field_1928\", // PARENTS\r\n        upload_limit: 10,\r\n        service_id: \"field_97\",\r\n        media_caption: \"Compactor After Service\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Compactor Logs\",\r\n    },\r\n    {//JOSH AMCC - ADD - COMPACTOR LOG - https://builder.sv.knack.com/apps/trashdash/pages/scene_1510/views/view_5599/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5599\",\r\n        object_id: \"object_107\", //image object id\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEXADD\r\n        image_connection_field_id: \"field_3047\", //IMAGE CLOUD PARENT's\r\n        connection_field_id: \"field_2250\", //FLEXADD\r\n        is_multiple: true,\r\n        isRequired: true,\r\n        address_field_id: \"field_100\", // Lat-long PARENTS\r\n        timestamp_field_id: \"field_1928\", // PARENTS\r\n        upload_limit: 10,\r\n        service_id: \"field_97\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Compactor Logs\",\r\n    },\r\n    {//JOSH BUTLER - EDIT - COMPACTOR LOG DETAILS - https://builder.sv.knack.com/apps/trashdash/pages/scene_1981/views/view_5575/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5575\",\r\n        object_id: \"object_107\", //image object id\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEXADD\r\n        image_connection_field_id: \"field_3047\", //IMAGE CLOUD PARENT's\r\n        connection_field_id: \"field_2250\", //FLEXADD\r\n        is_multiple: true,\r\n        isRequired: true,\r\n        address_field_id: \"field_100\", // Lat-long PARENTS\r\n        timestamp_field_id: \"field_1928\", // PARENTS\r\n        upload_limit: 10,\r\n        list_view_id: \"view_5565\",\r\n        service_id: \"field_97\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Compactor Logs\",\r\n    },\r\n    {//JOSH AMCC - EDIT - COMPACTOR LOG - https://builder.sv.knack.com/apps/trashdash/pages/scene_1509/views/view_5601/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5601\",\r\n        object_id: \"object_107\", //image object id\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEXADD\r\n        image_connection_field_id: \"field_3047\", //IMAGE CLOUD PARENT's\r\n        connection_field_id: \"field_2250\", //FLEXADD\r\n        is_multiple: true,\r\n        isRequired: true,\r\n        address_field_id: \"field_100\", // Lat-long PARENTS\r\n        timestamp_field_id: \"field_1928\", // PARENTS\r\n        upload_limit: 10,\r\n        list_view_id: \"view_5565\",\r\n        service_id: \"field_97\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Compactor Logs\",\r\n    },\r\n    {//JOSH AMCC - EDIT - COMPACTOR LOG - https://builder.sv.knack.com/apps/trashdash/pages/scene_954/views/view_5595/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5595\",\r\n        object_id: \"object_107\", //image object id\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEXADD\r\n        image_connection_field_id: \"field_3047\", //IMAGE CLOUD PARENT's\r\n        connection_field_id: \"field_2250\", //FLEXADD\r\n        is_multiple: true,\r\n        isRequired: true,\r\n        address_field_id: \"field_100\", // Lat-long PARENTS\r\n        timestamp_field_id: \"field_1928\", // PARENTS\r\n        upload_limit: 10,\r\n        list_view_id: \"view_5565\",\r\n        service_id: \"field_97\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Compactor Logs\",\r\n    },\r\n    {//JOSH AMCC - EDIT - COMPACTOR LOG - https://builder.sv.knack.com/apps/trashdash/pages/scene_2000/views/view_5672/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5672\",\r\n        object_id: \"object_107\", //image object id\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEXADD\r\n        image_connection_field_id: \"field_3047\", //IMAGE CLOUD PARENT's\r\n        connection_field_id: \"field_2250\", //FLEXADD\r\n        is_multiple: true,\r\n        isRequired: true,\r\n        address_field_id: \"field_100\", // Lat-long PARENTS\r\n        timestamp_field_id: \"field_1928\", // PARENTS\r\n        upload_limit: 10,\r\n        list_view_id: \"view_5565\",\r\n        service_id: \"field_97\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Compactor Logs\",\r\n    },\r\n    {//JOSH ALL SERVICE IDS - EDIT - COMPACTOR LOG - https://builder.sv.knack.com/apps/trashdash/pages/scene_1065/views/view_2849/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_2849\",\r\n        object_id: \"object_107\", //image object id\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEXADD\r\n        image_connection_field_id: \"field_3047\", //IMAGE CLOUD PARENT's\r\n        connection_field_id: \"field_2250\", //FLEXADD\r\n        is_multiple: true,\r\n        address_field_id: \"field_100\", // Lat-long PARENTS\r\n        timestamp_field_id: \"field_1928\", // PARENTS\r\n        upload_limit: 10,\r\n        list_view_id: \"view_5565\",\r\n        service_id: \"field_97\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Compactor Logs\",\r\n    },\r\n    // {//JOSH BUTLER - ADD - BUTLER TIMECLOCK - https://builder.sv.knack.com/apps/trashdash/pages/scene_38/views/view_5573/form\r\n    //     add_watermark: true,\r\n    //     upload_view_id: \"view_5573\",\r\n    //     object_id: \"object_107\", //image object id FLEXADD\r\n    //     image_field_id: \"field_2237\", //object_id's image_field_id FLEXADD\r\n    //     image_connection_field_id: \"field_609\", //IMAGE CLOUD PARENT's\r\n    //     connection_field_id : \"field_2252\", //FLEXADD\r\n    //     is_multiple: true,\r\n    //     upload_limit : 1,\r\n    //     address_field_id: \"field_116\", // Lat-long\r\n    //     timestamp_field_id: \"field_117\",  \r\n    //     service_id: \"field_119\", // PARENTS\r\n    //     folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    // },\r\n\r\n    {//Single Image Uploader - Buttler Service - Clocked In https://builder.sv.knack.com/apps/trashdash/pages/scene_38/views/view_5573/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5573\",\r\n        object_id: \"object_18\", //image object id\r\n        image_field_id: \"field_609\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_115\",\r\n        is_multiple: false,\r\n        flex_add: true,\r\n        // server_side: true,\r\n        service_id: \"field_119\", // PARENTS\r\n        connection_field_id: \"field_2252\", //FLEXADD\r\n        media_caption: \"Clock In\",\r\n        address_field_id: \"field_116\", // Lat-long\r\n        timestamp_field_id: \"field_117\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    },\r\n    {//Single Image Uploader - Buttler TIMECLOCK - ADD - Clocked In https://builder.sv.knack.com/apps/trashdash/pages/scene_805/views/view_5596/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5596\",\r\n        object_id: \"object_18\", //image object id\r\n        image_field_id: \"field_609\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_115\",\r\n        is_multiple: false,\r\n        flex_add: true,\r\n        service_id: \"field_119\", // PARENTS\r\n        connection_field_id: \"field_2252\", //FLEXADD\r\n        media_caption: \"Clock In\",\r\n        address_field_id: \"field_116\", // Lat-long\r\n        timestamp_field_id: \"field_117\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    },\r\n    {//Single Image Uploader - Buttler TIMECLOCK - ADD - Clock OUT https://builder.sv.knack.com/apps/trashdash/pages/scene_805/views/view_5596/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5596\",\r\n        object_id: \"object_18\", //image object id\r\n        image_field_id: \"field_260\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_115\",\r\n        is_multiple: false,\r\n        flex_add: true,\r\n        service_id: \"field_119\", // PARENTS\r\n        connection_field_id: \"field_2252\", //FLEXADD\r\n        media_caption: \"Clock Out\",\r\n        address_field_id: \"field_261\", // Lat-long\r\n        timestamp_field_id: \"field_262\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    },\r\n    {//Single Image Uploader - Buttler TIMECLOCK - ADD - Clocked In https://builder.sv.knack.com/apps/trashdash/pages/scene_1157/views/view_5597/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5597\",\r\n        object_id: \"object_18\", //image object id\r\n        image_field_id: \"field_609\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_115\",\r\n        is_multiple: false,\r\n        flex_add: true,\r\n        service_id: \"field_119\", // PARENTS\r\n        connection_field_id: \"field_2252\", //FLEXADD\r\n        media_caption: \"Clock In\",\r\n        address_field_id: \"field_116\", // Lat-long\r\n        timestamp_field_id: \"field_117\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    },\r\n    {//Single Image Uploader - Buttler TIMECLOCK - ADD - Clock OUT https://builder.sv.knack.com/apps/trashdash/pages/scene_1157/views/view_5597/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5597\",\r\n        object_id: \"object_18\", //image object id\r\n        image_field_id: \"field_260\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_115\",\r\n        is_multiple: false,\r\n        flex_add: true,\r\n        service_id: \"field_119\", // PARENTS\r\n        connection_field_id: \"field_2252\", //FLEXADD\r\n        media_caption: \"Clock Out\",\r\n        address_field_id: \"field_261\", // Lat-long\r\n        timestamp_field_id: \"field_262\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    },\r\n    //     UNCOMMENT DURING SWITCH\r\n    {//Single Image Uploader - Buttler TIMECLOCK - ADD - Clocked In https://builder.sv.knack.com/apps/trashdash/pages/scene_1546/views/view_4120/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4120\",\r\n        object_id: \"object_18\", //image object id\r\n        image_field_id: \"field_609\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_115\",\r\n        is_multiple: false,\r\n        flex_add: true,\r\n        service_id: \"field_119\", // PARENTS\r\n        connection_field_id: \"field_2252\", //FLEXADD\r\n        media_caption: \"Clock In\",\r\n        address_field_id: \"field_116\", // Lat-long\r\n        timestamp_field_id: \"field_117\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    },\r\n    {//Single Image Uploader - Buttler TIMECLOCK - ADD - Clock OUT https://builder.sv.knack.com/apps/trashdash/pages/scene_1546/views/view_4120/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4120\",\r\n        object_id: \"object_18\", //image object id\r\n        image_field_id: \"field_260\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_115\",\r\n        is_multiple: false,\r\n        flex_add: true,\r\n        service_id: \"field_119\", // PARENTS\r\n        connection_field_id: \"field_2252\", //FLEXADD\r\n        media_caption: \"Clock Out\",\r\n        address_field_id: \"field_261\", // Lat-long\r\n        timestamp_field_id: \"field_262\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    },\r\n    {//JOSH INFRACTION > AMCC - EDIT Infraction https://builder.sv.knack.com/apps/trashdash/pages/scene_1551/views/view_5617/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5617\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_connection_field_id: \"field_615\", //Parent Field Image ID\r\n        address_field_id: \"field_1249\", // Lat-long\r\n        timestamp_field_id: \"field_1250\",\r\n        connection_field_id: \"field_2242\", //FlexAdd connection to Parent field\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_146',\r\n        is_multiple: true,\r\n        isRequired: true,\r\n        upload_limit: 10,\r\n        list_view_id: \"view_5511\",\r\n        service_id: \"field_104\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Resident Infraction\"\r\n    },\r\n    //     UNCOMMENT DURING SWITCH\r\n    {//Single Image Uploader - Buttler TIMECLOCK - ADD - Clocked In https://builder.sv.knack.com/apps/trashdash/pages/scene_1552/views/view_4779/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4779\",\r\n        object_id: \"object_18\", //image object id\r\n        image_field_id: \"field_609\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_115\",\r\n        is_multiple: false,\r\n        flex_add: true,\r\n        service_id: \"field_119\", // PARENTS\r\n        connection_field_id: \"field_2252\", //FLEXADD\r\n        media_caption: \"Clock In\",\r\n        address_field_id: \"field_116\", // Lat-long\r\n        timestamp_field_id: \"field_117\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    },\r\n    {//Single Image Uploader - Buttler TIMECLOCK - ADD - Clock OUT https://builder.sv.knack.com/apps/trashdash/pages/scene_1552/views/view_4779/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4779\",\r\n        object_id: \"object_18\", //image object id\r\n        image_field_id: \"field_260\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_115\",\r\n        is_multiple: false,\r\n        flex_add: true,\r\n        service_id: \"field_119\", // PARENTS\r\n        connection_field_id: \"field_2252\", //FLEXADD\r\n        media_caption: \"Clock Out\",\r\n        address_field_id: \"field_261\", // Lat-long\r\n        timestamp_field_id: \"field_262\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    },\r\n    {//Single Image Uploader - AMCC TIMECLOCK - ADD - Clocked In https://builder.sv.knack.com/apps/trashdash/pages/scene_1566/views/view_4202/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4202\",\r\n        object_id: \"object_18\", //image object id\r\n        image_field_id: \"field_609\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_115\",\r\n        is_multiple: false,\r\n        flex_add: true,\r\n        service_id: \"field_119\", // PARENTS\r\n        connection_field_id: \"field_2252\", //FLEXADD\r\n        media_caption: \"Clock In\",\r\n        address_field_id: \"field_116\", // Lat-long\r\n        timestamp_field_id: \"field_117\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    },\r\n    {//Single Image Uploader - AMCC TIMECLOCK - ADD - https://builder.sv.knack.com/apps/trashdash/pages/scene_1566/views/view_4202/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_4202\",\r\n        object_id: \"object_18\", //image object id\r\n        image_field_id: \"field_260\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_115\",\r\n        is_multiple: false,\r\n        flex_add: true,\r\n        service_id: \"field_119\", // PARENTS\r\n        connection_field_id: \"field_2252\", //FLEXADD\r\n        media_caption: \"Clock Out\",\r\n        address_field_id: \"field_261\", // Lat-long\r\n        timestamp_field_id: \"field_262\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    },\r\n    {//Single Image Uploader - OMs Service IDS TIMECLOCK - EDIT - https://builder.sv.knack.com/apps/trashdash/pages/scene_806/views/view_2089/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_2089\",\r\n        object_id: \"object_18\", //image object id\r\n        image_field_id: \"field_609\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_115\",\r\n        is_multiple: false,\r\n        flex_add: true,\r\n        service_id: \"field_119\", // PARENTS\r\n        connection_field_id: \"field_2252\", //FLEXADD\r\n        media_caption: \"Clock In\",\r\n        address_field_id: \"field_116\", // Lat-long\r\n        timestamp_field_id: \"field_117\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    },\r\n    {//Single Image Uploader - OMs Service IDS TIMECLOCK - EDIT - Clock OUT https://builder.sv.knack.com/apps/trashdash/pages/scene_806/views/view_2089/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_2089\",\r\n        object_id: \"object_18\", //image object id\r\n        image_field_id: \"field_260\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_115\",\r\n        is_multiple: false,\r\n        flex_add: true,\r\n        service_id: \"field_119\", // PARENTS\r\n        connection_field_id: \"field_2252\", //FLEXADD\r\n        media_caption: \"Clock Out\",\r\n        address_field_id: \"field_261\", // Lat-long\r\n        timestamp_field_id: \"field_262\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    },\r\n    {//Single Image Uploader - AMCC TIMECLOCK - EDIT - https://builder.sv.knack.com/apps/trashdash/pages/scene_1483/views/view_3932/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_3932\",\r\n        object_id: \"object_18\", //image object id\r\n        image_field_id: \"field_609\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_115\",\r\n        is_multiple: false,\r\n        flex_add: true,\r\n        service_id: \"field_119\", // PARENTS\r\n        connection_field_id: \"field_2252\", //FLEXADD\r\n        media_caption: \"Clock In\",\r\n        address_field_id: \"field_116\", // Lat-long\r\n        timestamp_field_id: \"field_117\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    },\r\n    {//Single Image Uploader - AMCC TIMECLOCK - EDIT - Clock OUT https://builder.sv.knack.com/apps/trashdash/pages/scene_1483/views/view_3932/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_3932\",\r\n        object_id: \"object_18\", //image object id\r\n        image_field_id: \"field_260\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_115\",\r\n        is_multiple: false,\r\n        flex_add: true,\r\n        service_id: \"field_119\", // PARENTS\r\n        connection_field_id: \"field_2252\", //FLEXADD\r\n        media_caption: \"Clock Out\",\r\n        address_field_id: \"field_261\", // Lat-long\r\n        timestamp_field_id: \"field_262\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    },\r\n    // UNCOMMENT DURING SWITCH\r\n    {//Single Image Uploader - Buttler TIMECLOCK - ADD - Clock OUT https://builder.sv.knack.com/apps/trashdash/pages/scene_950/views/view_5054/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5054\",\r\n        object_id: \"object_18\", //image object id\r\n        image_field_id: \"field_260\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_115\",\r\n        is_multiple: false,\r\n        flex_add: true,\r\n        // server_side: true,\r\n        service_id: \"field_119\", // PARENTS\r\n        connection_field_id: \"field_2252\", //FLEXADD\r\n        media_caption: \"Clock Out\",\r\n        address_field_id: \"field_261\", // Lat-long\r\n        timestamp_field_id: \"field_262\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    },\r\n    //     FLEXADD\r\n    {//Single Image Uploader - ADD FLEX - https://builder.sv.knack.com/apps/trashdash/pages/scene_2030/views/view_5775/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5775\",\r\n        object_id: \"object_18\", //image object id\r\n        image_field_id: \"field_609\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_115\",\r\n        is_multiple: false,\r\n        flex_add: true,\r\n        service_id: \"field_119\", // PARENTS\r\n        connection_field_id: \"field_2252\", //FLEXADD\r\n        media_caption: \"Clock In\",\r\n        address_field_id: \"field_116\", // Lat-long\r\n        timestamp_field_id: \"field_117\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    },\r\n    {//Single Image Uploader - ADD FLEX - https://builder.sv.knack.com/apps/trashdash/pages/scene_2030/views/view_5775/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5775\",\r\n        object_id: \"object_18\", //image object id\r\n        image_field_id: \"field_260\", //object_id's image_field_id\r\n        image_browse_field_id: \"field_115\",\r\n        is_multiple: false,\r\n        flex_add: true,\r\n        service_id: \"field_119\", // PARENTS\r\n        connection_field_id: \"field_2252\", //FLEXADD\r\n        media_caption: \"Clock Out\",\r\n        address_field_id: \"field_261\", // Lat-long\r\n        timestamp_field_id: \"field_262\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Butler Timeclocks\",\r\n    },\r\n    {//JOSH FLEXADD SERVICE ID DETAILS > Report SERVICE HAZARD OMS https://builder.sv.knack.com/apps/trashdash/pages/scene_2029/views/view_5774/form\r\n        add_watermark: true,\r\n        upload_view_id: \"view_5774\",\r\n        object_id: \"object_107\", //image object id FLEX ADD\r\n        image_field_id: \"field_2237\", //object_id's image_field_id FLEX ADD\r\n        image_browse_field_id: \"field_197\", //JOSH NOT SURE\r\n        image_connection_field_id: \"field_3013\", //Parent Field ID\r\n        connection_field_id: \"field_2244\",\r\n        flex_community_unity: \"field_3139\", //FlexAdd Field\r\n        community_unit: 'field_1501',\r\n        is_multiple: true,\r\n        address_field_id: \"field_3021\", // Lat-long\r\n        timestamp_field_id: \"field_3022\",\r\n        email_image_id: \"field_3018\",\r\n        upload_limit: 10,\r\n        service_id: \"field_1544\",\r\n        folder: \"2022 Image Uploader - Trash Dash Parent Directory/Service Hazards\"\r\n    },\r\n    //     END FLEXADD\r\n];","//A simple Knack REST API interface that handles the 10 request/sec\r\n//limitation of the KNACK REST API.\r\nKnackApi = {};\r\nKnackApi.callCount = 0;\r\nKnackApi.knackCall = async function(type, urlParams, obj = null) {\r\n    if (!type) return;\r\n\r\n    try {\r\n        await new Promise((resolve, reject) => {\r\n            let waitInt = setInterval(() => {\r\n                if (KnackApi.callCount < 5) {\r\n                    KnackApi.callCount++;\r\n                    clearInterval(waitInt);\r\n                    resolve();\r\n                }\r\n            }, 100);\r\n        });\r\n\r\n        obj = obj ? obj : {};\r\n\r\n        var headers = {\r\n            'X-Knack-Application-Id': Knack.application_id,\r\n            'X-Knack-REST-API-KEY': \"874a0c90-cbe0-11e8-bc1a-bd0ff4f2a6dd\"\r\n        };\r\n\r\n        if (type == 'put' || type == 'post') {\r\n            headers['Authorization'] = Knack.getUserToken();\r\n            headers['Content-Type'] = 'application/json';\r\n        }\r\n\r\n        return new Promise((resolve, reject) => {\r\n            $.ajax({\r\n                type: type,\r\n                headers: headers,\r\n                url: `${KNACK_API_BASE_URL}/v1/objects/${urlParams}`,\r\n                data: JSON.stringify(obj),\r\n                success: function(data) {\r\n                    KnackApi.callCount--;\r\n                    resolve(data);\r\n                },\r\n                error: function(data) {\r\n                    KnackApi.callCount--;\r\n                    resolve(data);\r\n                }\r\n            });\r\n        });\r\n    } catch (e) {\r\n        console.log(e);\r\n        return e;\r\n    }\r\n};\r\n\r\nKnackApi.GetObjects = async function(objectName, filter) {\r\n    let currentPage = 0;\r\n    let maxPages = 0;\r\n    const responses = [];\r\n    do {\r\n        currentPage++;\r\n        let url = `${objectName}/records`;\r\n        url += '?rows_per_page=1000';\r\n        url += `&filters=${encodeURIComponent(JSON.stringify(filter))}`;\r\n        url += `&page=${currentPage}`\r\n        const response = await KnackApi.knackCall('get', url);\r\n        const records = response.records;\r\n        maxPages = response.total_pages;\r\n        responses.push(records);\r\n    } while (currentPage < maxPages)\r\n    return [].concat(...responses);\r\n};\r\n\r\nKnackApi.GetObject = async function(objectName, id) {\r\n    return await KnackApi.knackCall('get', `${objectName}/records/${id}`);\r\n};\r\n\r\nKnackApi.SaveObject = async function(objectName, data) {\r\n    return await KnackApi.knackCall('post', `${objectName}/records`, data);\r\n};\r\n\r\nKnackApi.UpdateObject = async function(objectName, id, data) {\r\n    return await KnackApi.knackCall('put', `${objectName}/records/${id}`, data);\r\n};\r\n\r\nKnackApi.DeleteObject = async function(objectName, id) {\r\n    return await KnackApi.knackCall('delete', `${objectName}/records/${id}`, data);\r\n};","/******KNACK VIEW BASED API */\r\nKnackViewApi = {};\r\nKnackViewApi.callCount = 0;\r\nKnackViewApi.knackCall = async function(type, urlParams, obj = null) {\r\n    if (!type) return;\r\n\r\n    try {\r\n        await new Promise((resolve, reject) => {\r\n            let waitInt = setInterval(() => {\r\n                if (KnackViewApi.callCount < 5) {\r\n                    KnackViewApi.callCount++;\r\n                    clearInterval(waitInt);\r\n                    resolve();\r\n                }\r\n            }, 100);\r\n        });\r\n\r\n        obj = obj ? obj : null;\r\n\r\n        var headers = {\r\n            'X-Knack-Application-Id': Knack.application_id,\r\n            'X-Knack-REST-API-KEY': \"874a0c90-cbe0-11e8-bc1a-bd0ff4f2a6dd\"\r\n        };\r\n\r\n        if (type == 'put' || type == 'post') {\r\n            headers['Authorization'] = Knack.getUserToken();\r\n            headers['Content-Type'] = 'application/json';\r\n        }\r\n\r\n        return new Promise((resolve, reject) => {\r\n            $.ajax({\r\n                type: type,\r\n                headers: headers,\r\n                url: `${KNACK_API_BASE_URL}/v1/pages/${urlParams}`,\r\n                data: JSON.stringify(obj),\r\n                success: function(data) {\r\n                    KnackViewApi.callCount--;\r\n                    resolve(data);\r\n                },\r\n                error: function(data) {\r\n                    KnackViewApi.callCount--;\r\n                    resolve(data);\r\n                }\r\n            });\r\n        });\r\n    } catch (e) {\r\n        console.log(e);\r\n        return e;\r\n    }\r\n};\r\n\r\nKnackViewApi.GetObjects = async function(sceneID, viewID, filter) {\r\n    let currentPage = 0;\r\n    let maxPages = 0;\r\n    const responses = [];\r\n    do {\r\n        currentPage++;\r\n        let url = `${sceneID}/views/${viewID}/records`;\r\n        // url += '?rows_per_page=1000';\r\n        // url += `&filters=${encodeURIComponent(JSON.stringify(filter))}`;\r\n        // url += `&page=${currentPage}`\r\n        const response = await KnackViewApi.knackCall('get', url);\r\n        const records = response.records;\r\n        maxPages = response.total_pages;\r\n        responses.push(records);\r\n    } while (currentPage < maxPages)\r\n    return [].concat(...responses);\r\n};\r\n\r\nKnackViewApi.SaveObject = async function(sceneID, viewID, data) {\r\n    return await KnackViewApi.knackCall('post', `${sceneID}/views/${viewID}/records`, data);\r\n};\r\n\r\nKnackViewApi.GetObject = async function(sceneID, viewID, id, deets) {\r\n    return await KnackViewApi.knackCall('get', `${sceneID}/views/${viewID}/records/${id}`, deets);\r\n};\r\n\r\nKnackViewApi.UpdateObject = async function(sceneID, viewID, id, data) {\r\n    return await KnackViewApi.knackCall('put', `${sceneID}/views/${viewID}/records/${id}`, data);\r\n};\r\n\r\n/******END KNACK VIEW BASED API */","$(document).on('knack-scene-render.any', function(event, scene) {\r\n    var measurementID ='G-3XYXWWXX44';\r\n    if (typeof gtag ==='function'){\r\n    gtag('js', new Date());\r\n    gtag('config', measurementID, {\r\n    // disable the default pageview hit\r\n    send_page_view: false\r\n    });\r\n    gtag('event', 'page_view', {\r\n    page_title: location.pathname + location.search + location.hash,\r\n    page_location: location.search,\r\n    page_path: location.pathname\r\n    });\r\n    } else {\r\n    window.dataLayer = window.dataLayer || [];\r\n    LazyLoad.js([`https://www.googletagmanager.com/gtag/js?id=${measurementID}`],function(){\r\n    window.gtag = window.gtag || function gtag() { dataLayer.push(arguments); }\r\n    gtag('js', new Date());\r\n    gtag('config', measurementID, {\r\n    // disable the default pageview hit\r\n    send_page_view: false\r\n    });\r\n    // Manually send page_view events\r\n    gtag('event', 'page_view', {\r\n    page_title: location.pathname + location.search + location.hash,\r\n    page_location: location.search,\r\n    page_path: location.pathname\r\n    });\r\n    });\r\n    }\r\n    $('.kn-modal-bg').off('click'); //Will make the modal popup uncloseable when the outside is clicked\r\n    // if( $('#kn-scene_1904').length === 0){\r\n    //     $('.sv_carousel_bs').remove()\r\n    // }\r\n  });"],"names":["tbUpdates","allDismissedB","async","imageUrlUpdate","record","params","isUpdate","addressField","address","waterMarkData","img_email","exifGeoStatus","exifTimeStatus","imgList","$","val","imgPlaceholder","imgID","geo_status","time_status","logger","address_field_id","street","city","state","length","push","is_multiple","timestamp_field_id","dateTime","today","Date","toLocaleString","imageFieldRaw","image_field_id","imageUrl","url","undefined","counter","imgLists","split","imgPH","imgIDs","sGeo_status","sTime_status","totalCount","SlickLoader","enable","setText","i","leftLabel","data","urls","watermarkString","join","watermarkParam","encodeURIComponent","imageRelPath","url1Arr","updatedImageUrl","replaceAll","window","exifOverlays","find","id","e","connection_field_id","latitude","longitude","service_id","community_unit","media_caption","xhr","XMLHttpRequest","open","object_id","setRequestHeader","Knack","getUserToken","application_id","knackRestApiKey","onreadystatechange","readyState","status","hideSpinner","list_view_id","views","model","fetch","err","send","JSON","stringify","email_image_id","hazard_id","ajax","type","headers","success","setTimeout","disable","upload_view_id","router","scene_view","renderViews","view_5440","view_4798","view_4806","view_4802","view_4877","blankImg","imageContainer","SV_Errorhandler","errDeviceData","updatedImageUrl_temp","add_watermark","substring","toUpperCase","showSpinner","f_data","user_details","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","includes","onload","alert","flex_add","field_609","field_260","field_2253","field_2441","field_113","date","time","geo","getUserAttributes","onerror","console","error","KnackJs","info","this","applicationID","restAPIkey","knackURL","KNACK_API_BASE_URL","jQuery","environment","isProduction","isDevelopment","$spinnerBackdrop","libraries","loaded","objectName","jquery","assert","imageUploadIntegrationArray","image_browse_field_id","folder","exif_source","max_width","image_quality","accepted_files","image_connection_field_id","upload_limit","log_id","flex_community_unity","isRequired","forEach","item","index","renderSelector","is_view_popup","document","on","event","view","imageList","existingImage","existingImageIds","filesToDelete","addClass","css","result","characters","charactersLength","charAt","Math","floor","random","now","getImageElemeInt","setInterval","imageElem","clearInterval","imagefield","fpInt","imageUploader","FilePond","ImageUploader","setCloudinaryCredentials","cloudinaryCredentials","init","update_view_id","server_side","dataType","log","click","fileNameDotIdx","imgVal","attr","lastIndexOf","fileName","substr","location","replace","view_5273","element","innerHTML","getElementById","field_1279","field_1272_raw","param","field_2556_raw","field_2467_raw","KnackApi","urlParams","obj","Promise","resolve","reject","let","waitInt","callCount","filter","currentPage","responses","records","response","knackCall","maxPages","total_pages","concat","KnackViewApi","sceneID","viewID","deets","Object","defineProperty","prototype","get","set","key","value","cond","message","Error","objectId","filters","sortField","sortOrder","recordPerPage","filterValEnc","sortFEnc","sortOEnc","findById","update","delete","create","MGR_SCHED","MGR_EVENTS","DISTRICT","COMMUNITY","SCHED_ITEM_TEMPLATES","COMM_SMS_LIST","scene","measurementID","gtag","send_page_view","page_title","pathname","search","hash","page_location","page_path","dataLayer","LazyLoad","js","arguments","off","DateFilter","constructor","filterParams","dateFieldName","dateRangeDivSelector","insertIndex","dateRangeDivInsertIndex","div","form","p","label","filterFieldFrom","filterFieldTo","filterBtn","getFilterParam","from","to","append","after","prepend","datepicker","doFilter","getDateObject","dateString","dateArr","dateObj","setFullYear","href","filterObj","decodeURI","parse","rules","filterRule","filterValue","operator","setDate","slice","newFromDateString","newToDateString","filterParamList","fromDate","toDate","fromDateObj","toDateObj","getTime","dateFieldId","filterString","encodeURI","viewName","currPage","originalKnackShowSpinner","originalKnackHideSpinner","removeClass","text","hide","show","butlerViews","html","slideToggle","indexOf","responsiveChatPush","sender","origin","originClass","scrollTop","scrollHeight","smsListId","field_697_raw","field_698","knackApi","OBJECT","then","number","field_692_raw","formatted","contentType","communityId","field_715_raw","field_714","BULK_SMS_LIST","numbers","total_records","field_710_raw","number_csv","interval_view_1627","scheduleModelFetchTimeout_view_1627","chatScroll_view_1627","prevDataLength_view_1627","loggedInState","remove","height","messageClass","field_700","field_702_raw","identifier","field_703","view_1627","clearTimeout","fn","toAccordion","view_id","faqAccContainer","parent","each","idx","tr","rowData","hasContent","mainDiv","clickControl","faqAccordionData","header","content","hasClass","td","trim","contentContainer","accordionData","currentDate","currentEstDT","toLocaleDateString","month","day","year","timeZone","timeDiff","prevServiceDate","d","currentServiceDate","addStyleSheet","showHideMenuText","appendCustomMenuMain","customMenu","clone","appendTo","origLink","timeout","origText","addLinkToCommunityDashboard","cid","customMenuBottom","getElementsByClassName","varId","style","display","showInfractionLoss","totalNumberInfractions","field_1630","warningText","field_1487","documentFunctions","field_1533","field_2904","field_1534","field_1535","field_1403","field_141","field_44","field_1464","field_1552","parents","crmName","field_958","crmPhone","field_1292","crmEmail","field_1144","contactInfo","field_2066","field_2067","field_2068","field_578","field_533","field_534","field_1647","radarIcon","withRadarText","currentServiceId","pop","URL","searchParam","field_1113","quarter","parseInt","lastSurveyDate","currentYear","field_2375","lastDate","lastSurveyDateEqualsCurrentDate","lastSurveyQuarter","currentCMId","session","user","profile_objects","x","object","entry_id","takenBy","surveyTakenByLoggedCM","field_2379","field_2379_raw","prop","change","cmFlyerCloudField","field_2904_raw","customFlyerCloud","field_2557_raw","customFlyerCloud2","field_2558_raw","customFlyerCloud3","field_2559_raw","field_2552_raw","cmFlyerCloudField2","cmFlyerCloudField3","field_2553_raw","cloudImage","field_1534_raw","getElementsByTagName","rows","cells","link","field_146_raw","userSelection","selection","querySelectorAll","checked","field_132","field_133","field_134","field_135","field_136","field_137","field_138","field_1571","field_1572","field_1573","field_1574","field_1575","field_1576","field_1577","stickyNotifFromTB","field_38","field_39","selectId","LOGIN","getUserDeviceJ","details","navigator","userAgent","test","preventDefault","submit","getDeviceData","myInterval","image1","image2","field_614","field_615","is","keyup","listView","buttonView","blv","detach","prependTo","userObjectRoles","isButler","currentAppendedTheme","asHeader","showPopUpAs","c","field_1179_raw","field_1966","getLateServicesLoaded","getLateServices","as_lateNotif","lateNumbers","lateArray","timeNow","field_171","schedTime","field_170_raw","hours","minutes","am_pm","timeStart","field_46","diff","timeEnd","myVar","lateNotifText","currentLateCount","siteAudit_scenes","siteAuditShared","addImagePreview","transformImage","wrap","addCustomMenuSv","menuList","title","icon","list","navList","responsiveAcc","acc","addEventListener","classList","toggle","panel","nextElementSibling","maxHeight","next","butlerDeets","field_37","as_scenes","loginPage","backLinkExist","clocked_in","clockedTime","clockedDate","field_1966_raw","backLink","addBackLink","insertBefore","reload","labelChck","initializeAreaCommandCenter","animate","onscroll","body","documentElement","goTopBtn","url_base","view_4193","clockedInText","field_1176","field_485_raw","field_54_raw","field_809","field_793","field_1929","classService","field_121","field_1025","field_300","serviceStatus","serviceTimeDate","field_170","radarLogsText","field_360","children","v_id","accordion","accordions","a","accViewID","acc_view","maxH","isOpen","is_open","name","add_menu_view","field_1715_raw","butler_id","addButlerToService","butlers","field_55_raw","newButlers","field_55","addedCommunitiesV","isCheck","butlerId","butlersL","field_41_raw","j","haveService","field_141_raw","communityAcc","field_41","commId","splice","trigger","addedServiceID","field_95","field_37_raw","serviceID","changeSelect","field_1794","field_1187_raw","addedButler","ticketDetails","field_313","field_308","field_306","field_303","field_309","field_308_raw","refreshLateListServices_MainPage","view_4069","getTimezone","lateTimeDetails","loadButlerDetails","schedAtText","modalList","intervalLoadView","view_4052","form_id","refresh","closeModal","prev","removeAttr","customRecordNumberArray","getVal","field","s","t","contactDisplay","l","num1","fnum1","num2","fnum2","getNumber","num","classA","className","nameAndNumber","serviceFilter","types","field_102","field_607_raw","field_98","numberText","butlerName","field_16","full2","field_277_raw","full","formatted2","field_276_raw","previousElementSibling","field_16_raw","first","last","field_386_raw","field_385","field_388_raw","field_21","field_483_raw","handler","areaId","comId","active_url","inactive_url","currentUTC","toJSON","lastSiteVisit","field_345","daysDif","activeFilter","filterData","todayFilter","newReviewServiceIDFilter","filterDiv","view_filters","filter_id","dest","loc","todayAndFilter","inprogress","hDate","field_1176_raw","date_formatted","clockIn","clockOut","inputVal","toLocaleLowerCase","butlerNotClockedOut","tapcheckA","duplicateImageUploaderViews","route_view_id","menus","link_n","filtered_view","active_filter","field_149_raw","waitForView","field_60","field_1464_raw","field_1425_raw","field_1495","computeButlerScore","count","offset","top","siteAuditNew","serviceIdFilter","field_193_raw","serviceData","field_1245","field_689","eq","field_688","auditViews","geo_scenes","siteAudit_scenesDesktop","allLive","field_2212_raw","isDev","profile_keys","field_2274_raw","filterToday","assignButlersToTodayService","assignServiceIDtoAudit","res","primN","secN","field_2345","field_2348","field_2347","noNum","field_276","field_277","currentComId","tbBtn","trimmedUpdate","field_1685","test2","assignedButlers","butlerText","notClockedInButler","clockOutValue","timeClockImage","field_119_raw","clockOutPic","field_114_raw","field_260_raw","field_113_raw","field_609_raw","field_112_raw","messageLink","currentUrl","field_2514","getUrlParameter","results","RegExp","exec","decodeURIComponent","field_2487","newComActiveSched","newComActiveSchedCM","targetedSched","comIds","field_2482_raw","map","b","GetObject","comManagers","field_43_raw","field_2489_raw","UpdateObject","resu","field_2488_raw","siblings","field_2793","SaveObject","pdfView","field_2796","timeclockId","field_2796_raw","newTemplate","field_2648","field_2879","field_2646","allLiveData","view_5039","attributes","field_2881_raw","allDismissed","notDismissed","createPopup","currentButlerId","field_2892","openPopup","field_2653_raw","view_3374","swal","button","comsActivePopups","comsScheduledPopups","globalActivePopups","popupScheduleLogs","popupIsOpen","currentCommunityId","scene_id","isActive","carouselData","field_2879_raw","field_2648_raw","updatePopLogCM","popLogId","newVistibleTo","field_2894","updateCom","field_2893","field_2895","field_2489","view_5840","initializePopup","view_5230","models","fields","field_id","isForm","removeOverlayV2","b_id","servicesData","view_5434","c_data","view_5433","comCurrentButlers","c_ids","comCurrentButlersIds","updatedButlers","updateServAssignedButlers","servCurrentButlers","servId","closeOrRedirect","services","coms","history","back","view_5312","unassignedToCom","unassignedToSer","field_1939","secondLine","newT","textT","createElement","inProgressAudit","noAudit30_Days","allAudits","completedAudits","dataImage","start_url","end_url","new_url","addSvTopBack","query_string","screen","width","viewId","currentButler","view_4861","field_192_raw","view_5366","er","view_5355","notice","field_2990_raw","script","src","class","firstChild","appendChild","field_3023_raw","field_2237_raw","notDeleted","field_2248_raw","sectionPhotos","field_3023","combinedArray","img","del","imageArray","match","isDeletedArray","isDeleted","deleted","isFirstNo","field_3054","k","field_614_raw","home_slug","hash_id","view_5438","imageData","emailImage","view_5448","view_3638","txt","field_3018","hrefLink","field_2240","unitData","field_1501","field_155","field_146","isReviewed","field_1019_raw","reviewClass","cloneDiv","newUrl","hash_parts","menu_id","all_id","timeclock_id","compactor_id","radar_id","inf_id","haz_id","notUpdated_id","el","array","view_5870","edit_col","group_name","approveText","flaggedHtml","approveLink","flagLink","notUpdated","field_359","field_1805","field_3073","tclockNum","notClockedNum","flaggedNum","infNum","field_301","radNum","serHazNum","field_589","timeClock_dis","notClock_dis","flg_dis","inf_dis","rad_dis","notUpdated_dis","serHaz_dis","mouseenter","mouseleave","liveSurveys","view_5833","field_2240_raw","serviceQueueINIT","getFlexServices","review_view_id","serv_title_view_id","review_data","flexServices","reviewedCount","sessionStorage","getItem","service_review_data","reviewed","canCreate","updatedArray","service","review_status","community","setItem","nextReviewId","flex_next_service_link","previousServiceId","nextServiceId","currentIndex","findIndex","flex_nextServiceId","flex_previousServiceId","getUrlNextPrev","urlWithoutHashId","flex_queue_params","flex_can_proceed_next","startNewQueue","sortedServices","newValue","sort","serviceIdsFlexAdd","currentScene","current_scene_key","completeServices","flexQuickQueueFilters","filter_data"],"sourceRoot":""}